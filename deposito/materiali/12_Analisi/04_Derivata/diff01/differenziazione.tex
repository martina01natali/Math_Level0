% (c) 2015 Daniele Zambelli daniele.zambelli@gmail.com
%  Bruno Stecca

\input{\folder differenziazione_grafici.tex}

% -----------------------------------------------
% % TODO Possibile schema:
% - Definizioni
% - - introduzione
% - - pendenza
% - - funzione derivata
% - Teoremi
% - - funzioni elementari algebriche (radice?)
% - - regole di derivazione
% - - funzioni trascendenti
% - Applicazioni
% -----------------------------------------------

\chapter{Derivate}

% \affiancati{.50}{.50}{
% \disegno{\polregincirc{5}{6}}
% }{
% \disegno{\polregincirc{5}{12}}
% }
% 
% \agnesia

\section{Premessa}
\footnote{Per scrivere questo capitolo mi sono ispirato 
ai lavori di Giorgio Goldoni ``Il calcolo delle differenze e il calcolo 
differenziale''. 
Chi volesse approfondire l'argomento può acquistare il testo 
all'indirizzo: 
\href{https://www.unilibro.it/libri/f/autore/goldoni\_giorgio}
     {www.unilibro.it/libri/f/autore/goldoni\_giorgio}.}
I numeri iperreali ci permettono di affrontare una nuova classe di problemi 
molto importante: è formata da tutti i problemi legati alla pendenza (e 
quindi alla velocità e all'accelerazione).

I metodi che seguiremo faranno uso anche del \emph{principio di estensione 
naturale}: è possibile estendere agli iperreali tutte le proprietà che 
sono vere nei numeri reali.
Per esempio, il concetto di funzione che abbiamo già definito nei Reali, 
sarà applicato anche agli Iperreali: chiameremo sempre \(f\) anche
la funzione iperreale che ha per argomento un numero iperreale, 
e che ha, nei reali, lo stesso comportamento.

% Per esempio, il concetto di funzione che abbiamo già definito nei Reali, 
% sarà applicato anche agli Iperreali: se la funzione \(f\) ha per 
% argomento un numero iperreale, invece di scrivere \effestar per indicare 
% la funzione iperreale che ha, nei reali, lo stesso comportamento della
% funzione reale \(f\)
% 
% e non scriveremo \(f^*\) al 
% posto 
% di \(f\), per indicare \(f\) estesa, oppure \(f(x^*)\) o simili. 
% 
% Le nuove tecniche di calcolo che presentiamo si basano sulla conoscenza 
% dell'insieme degli Iperreali e sull'applicazione diffusa del 
% \emph{principio di estensione naturale} agli Iperreali delle proprietà 
% utili, che sono vere nell'insieme dei Reali.\\
% Per esempio, il concetto di funzione che abbiamo già definito nei Reali, 
% sarà applicato silenziosamente anche agli Iperreali e non scriveremo 
% \(f^*\) al posto 
% di \(f\), per indicare \(f\) estesa, oppure \(f(x^*)\) o simili. 
% Se ci sarà bisogno, chiariremo i dubbi che possono insorgere in questa 
% estensione o i casi particolari più interessanti.\\
% L'argomento del capitolo è centrato sull'uso degli infinitesimi, quindi 
% dei numeri iperreali. Come si vedrà, 
Il percorso tipico di soluzione di un problema sarà: 
\begin{enumerate}[noitemsep, nosep]
\item definire il problema nell'insieme dei reali;
\item trovare la soluzione mediante un calcolo con numeri iperreali;
\item applicare la funzione \(\pst{}\) alla soluzione, per convertirla in 
numero reale.
\end{enumerate}

\section{Introduzione}
\label{sec:differenziazione_introduzione}
Il problema di determinare la velocità istantanea ci ha portati a conoscere 
i numeri infinitesimi e, attraverso questi, l'insieme dei numeri iperreali.
Ora siamo in grado di cercare la risposta alla domanda rimasta in sospeso: 
come si determina la velocità istantanea?\\
La risposta, che conosciamo nelle forme moderne da più di 400 anni,
propone al nostro studio un nuovo potentissimo strumento di calcolo, 
adatto a risolvere problemi in ogni ambito scientifico: la derivata.

\subsection{Velocità di caduta}
\label{subsec:differenziazione_velcaduta}
Nel Settecento fiorirono alcune leggende su Galileo Galilei. Una di queste 
racconta che per dimostrare che i gravi cadono con la stessa velocità, 
gettò dalla Torre di Pisa due sfere di peso diverso, ma di uguali 
dimensioni: i due oggetti raggiunsero il suolo 
contemporaneamente.\\
La Torre di Pisa è alta circa \(56m\) e immaginiamo, per semplificare, 
che la distanza percorsa dai due oggetti sia di \(56m\) (ti lascio 
calcolare il percorso effettivo: tieni presente che al giorno d'oggi 
l'inclinazione della Torre è di \(4,8^\circ\)).\\
Oggi sappiamo che un oggetto in caduta libera nel vuoto, 
partendo da fermo, ha la seguente legge del moto:
\(s=\dfrac{1}{2}gt^2\). Come al solito, \(s\) è lo spazio in metri, 
\(t\) è il tempo in secondi, \(g=9,81 m/s^2\) è l'accelerazione di 
gravità, costante vicino alla superficie terrestre.

Per trovare la velocità media, basta dividere lo spazio percorso per il 
tempo impiegato: ottenendo una velocità di quasi \(17\,m/s\) che 
corrisponde a circa \(60 km/h\). 

% \newpage %------------------------------------------
% 
% Se cerchiamo la velocità media, basta dividere lo spazio percorso per il 
% tempo impiegato:
% \begin{align*}
%  s_{tot} &= 56m\\
%  s=\frac{1}{2}gt^2 \sRarrow t_{tot} &= \sqrt{\frac{2s_{tot}}{g}}=
%  \sqrt{\frac{2\times 56}{9,81}}=3,36 s\\
%  v_m &= \frac{s_{tot}}{t_{tot}}=\frac{56 m}{3,36 s}=16,67 m/s
% \end{align*}
% che corrisponde a circa \(60 km/h\).

\subsubsection{La velocità istantanea}

Ma questo non ci dice niente riguardo la velocità che l'oggetto ha in un 
determinato istante: ad esempio quale sarà la velocità 
dopo 3 secondi dall'inizio della caduta?

Per rispondere a questa domanda possiamo considerare i due istanti: 
infinitamente vicini \(t_0 = 3 e t_1 = 3 + dt\) dove \(dt\) è un intervallo 
di tempo infinitesimo.

Applicando la legge del moto, possiamo calcolare lo spazio percorso nella 
caduta: 
\[ds(3, dt)=\frac{1}{2}g \cdot \tonda{3+dt}^2-\frac{1}{2}g \cdot 3^2= 
\frac{1}{2}g\tonda{9+6 dt+(dt)^2}-\frac{1}{2}g \cdot 9 = 
3 g\cdot dt+\frac{1}{2} g (dt)^2 =
g \cdot dt \tonda{3+ \frac{1}{2} dt}\] 
Lo spazio percorso in un tempo infinitesimo è ovviamente\dots infinitesimo.
Ma dividendolo per l'intervallo infinitesimo di tempo, otteniamo:
\[v(3, dt)=\frac{ds(3)}{dt}=
  \frac{g \cdot dt \tonda{3+ \frac{1}{2} dt}}{dt}=
  3g+\frac{1}{2}g dt\] 
Che non è un valore infinitesimo. 
Il risultato ottenuto, dipende dall'accelerazione \(g\) che per i nostri 
scopi possiamo considerare costante, e da \(dt\) che invece può variare. Per 
ogni valore di \(dt\) avremo una velocità diversa.
La cosa interessante è che tutti questi diversi valori appartengono alla 
galassia del numero \(3g\) e quindi hanno la stessa parte standard:
\[\pst{3g+\frac{1}{2}g dt} = 3g = 29,43m/s\]
% In pratica il calcolo precedente ci fornisce un insieme infinito di numeri 
% iperreali, ma un solo numero reale (anzi nei casi pratici noi siamo 
% interessati a numeri razionali).
% Dividendo il tutto per \(dt\) si ottiene la velocità istantanea, 
% che in questo caso cambia istante dopo istante: 
% \[v(t)=\frac{ds}{dt}=\frac{gtdt+\frac{1}{2}dt^2}{dt}=gt+\frac{1}{2}dt\] 
% L'espressione \(gt+\frac{1}{2}dt=9,81t+\frac{1}{2}dt\) diventa un numero 
% ben preciso per ogni valore di \(t\) e per ogni valore \(dt\), un iperreale
% finito che è la somma di un numero standard e di un numero infinitesimo.

% Non è facile definire con precisione un istante di tempo: possiamo 
% immaginare che sia un tempo assolutamente breve, un tempo di durata 
% infinitesima.\\ 
% Considerando valori di tempo istantanei siamo portati naturalmente a 
% passare da valori \(t_1, \ t_2, \ \dots\), nell'insieme dei reali, a valori 
% \(t_1, \ t_1+dt, \ t_1+2dt,\ \dots\ t_2, \ \dots\) nell'insieme degli
% iperreali. 
% È quindi il momento di usare le quantità infinitesime.\\ 
% Chiamiamo \(dt\) 
% % (in questo caso sarà \(dt > 0\)) 
% un intervallo di tempo infinitesimo, fra due istanti successivi \(t\) e 
% \(t+dt\). 
% Lo spazio percorso nella caduta, in quell'intervallo di tempo, 
% applicando la legge del moto, sarà: 
% \[ds=\frac{1}{2}g\tonda{t+dt}^2-\frac{1}{2}gt^2= 
% \frac{1}{2}g\tonda{t^2+2t\cdot 
% dt+(dt)^2}-\frac{1}{2}gt^2= gt\cdot dt+\frac{1}{2}(dt)^2\] 
% Dividendo il tutto per \(dt\) si ottiene la velocità istantanea, 
% che in questo caso cambia istante dopo istante: 
% \[v(t)=\frac{ds}{dt}=\frac{gtdt+\frac{1}{2}dt^2}{dt}=gt+\frac{1}{2}dt\] 
% L'espressione \(gt+\frac{1}{2}dt=9,81t+\frac{1}{2}dt\) diventa un numero 
% ben preciso per ogni valore di \(t\) e per ogni valore \(dt\), un iperreale
% finito che è la somma di un numero standard e di un numero infinitesimo.
% 
% Se fissiamo l'attenzione su un certo istante, supponiamo 
% \(\overline{t}= 3s\), la velocità \(v(3)=9,81\cdot 3+\frac{1}{2}dt\) 
% non ha comunque un valore completamente fissato 
% perché dipende ancora dalla durata infinitesima \(dt\). 
% I \(dt\) possibili sono infiniti, ma questo non cambia granché nel 
% risultato, che si attesta sostanzialmente attorno al valore 
% \(9,81\cdot 3=29,43m/s\).\\
% Conosciamo già la funzione che ci consente di ottenere la parte sostanziale 
% di un risultato iperreale, cioè di trascurare la sua variabilità 
% residua dovuta agli infinitesimi: si tratta di applicare la funzione  
% la parte standard.
% \[ \pst{9,81t+\frac{1}{2}dt}=9,81t.\] 
% Questa è la velocità istantanea che cerchiamo: dipende unicamente dal tempo 
% \(t\), dai secondi che passano a partire dall'istante del lancio.

\noindent \begin{minipage}{0.35\textwidth}
Ripetendo i calcoli per diversi valori di \(t\):
 \begin{center}
\begin{tabular}{ccc}\toprule
\(t (s)\)      & \(s (m)\) & \(v(m/s)\)  \\\midrule
\(0\)      & \(0\)                 & \(0\)  \\
\(1\)      & \(4,41\)              & \(9,81\) \\
\(2\)      & \(19,62\)             & \(19,62\) \\
\(3\)      & \dots                 & \dots \\
\(t\)      & \(s=\frac{1}{2}gt^2\) & \(v=9,81 \cdot t\) \\\bottomrule
\end{tabular}
\label{tab:diff_velocita}
\end{center}
 \end{minipage}
  \hfill
 \begin{minipage}{.63 \textwidth}
\affiancati{.49}{.49}{
\begin{inaccessibleblock}[Grafico tempo-spazio della caduta libera]
\begin{center} \scalebox{1}{\tempospaziocaduta} \end{center}
\end{inaccessibleblock}
\label{graf:tempospaziocaduta}
}{
\begin{inaccessibleblock}[Grafico tempo-velocità della caduta libera]
\begin{center} \scalebox{1}{\tempovelocitacaduta} \end{center}
\end{inaccessibleblock}
\label{graf:tempovelocitacaduta}
}
 \end{minipage}

Il grafico visualizza la legge oraria del 
moto di caduta libera sotto due aspetti diversi: il ramo di parabola 
(tempo/spazio) mostra che intervalli di tempo uguali a partire da istanti 
diversi corrispondono a spazi progressivamente sempre maggiori. 

Il grafico (tempo-velocità) mostra che la progressione della velocità 
è lineare: man mano che il tempo scorre la velocità cresce 
proporzionalmente, come già si vede dalla tabella.
La formula \(v=9,81\times t\) ci permette il calcolo della velocità per 
ogni valore reale di \(t\) e questa è la risposta alla domanda iniziale. 

\subsection{La pendenza}
\label{subsec:differenziazione_pendenza}
Per studiare il movimento, Galileo usava piani inclinati. 
Una sferetta rotola lungo un piano inclinato con accelerazione diversa a 
seconda dell'inclinazione del piano. 
Minore è la pendenza del piano, minore è l'accelerazione costante, 
minore è la velocità che la sferetta sviluppa a partire da ferma. 

La pendenza del piano e la velocità che si sviluppa, da zero al massimo, 
sono collegate. 
Se il piano è orizzontale, la sferetta ferma resta ferma e la velocità è 
\(v=0\), come la pendenza. 
Se il piano è verticale, la caduta è libera e la velocità progredisce 
come abbiamo visto nella tabella precedente. 
Ma cos'è la pendenza? 
\begin{definizione}
Il termine \emph{pendenza} indica quanto varia l'altezza rispetto allo 
spostamento orizzontale. 
\end{definizione}

% TODO: disegno di pendenza costante e pendenze variabili

Useremo il termine \emph{pendenza} in un suo significato più generale:
\begin{definizione}
La \emph{pendenza} è la rapidità con cui varia una certa funzione reale, 
rispetto alla variazione del suo argomento. 
\end{definizione}

% La pendenza media di una funzione in un punto \(x_0\) è data da:
% \[pendenzamedia = \frac{f(x_1) - f(x_0)}{x_1 - x_0}\]
% Cioè il rapporto tra la variazione della funzione e la variazione delicate 
% suo argomento.
Per variazione intendiamo un cambiamento di valore, da un valore iniziale a 
un valore finale. 
Molto spesso invece di variazione si usa il termine \emph{incremento}, o 
differenza.

\subsubsection{Il Rapporto Incrementale e la pendenza}
\label{subsubsec:RI}
\begin{esempio}
Misurando le temperature in una recente notte invernale, abbiamo registrato:

\noindent \begin{minipage}{0.48\textwidth}
 \begin{center}
\begin{tabular}{ccccc}\toprule
h (ore) & \(T (^\circ \! C)\) & \(\Delta T\) & \(\Delta h\)
             & \(\frac{\Delta T}{\Delta h}\)\\\midrule
\(21\) & \(3\) & -- & -- & -- \\
\(22\) & \(0\) & \(-3\) & \(1\) &\(-3\) \\
\(23\) & \(0\) & 0 & \(1\) & 0 \\
\(24\) & \(-1\) & \(-1\) & \(1\) & \(-1\) \\
\(1\) & \(-3\) &\dots &\dots & \dots\\
\(3\)  & \(-4\) & \(-1\) & \(2\) &\(-0,5\)\\
\(4\)  & \(-5\) &\dots &\dots & \dots\\
\(5\)  & \(-5\) & \(0\)  & \(1\) &\(0\)\\
\(7\)  & \(-0\) & \(0\) & \(2\) & \(2,5\)
\\ \bottomrule
\end{tabular}
\label{tab:temperaturea}
\end{center}
\end{minipage}
 \hfill
\begin{minipage}{.48 \textwidth}
\begin{inaccessibleblock}[Grafico delle temperature per punti distanziati]
\begin{center} \scalebox{1}{\temperaturea} \end{center}
\end{inaccessibleblock}
\label{graf:temperaturea}
\end{minipage}

È facile calcolare le variazioni \(\Delta T\), ora per ora. 
Alcune di queste sono riportate nella tabella precedente: 
completa le righe della tabella dove appaiono i puntini.

Fra le 22 e le 23 non c'è variazione: l'incremento è zero. \\
Alle 23 la temperatura inizia a calare e alle 24 è calata di 
\(1^\circ C\), quindi l'incremento \( \Delta T=-1\). \\
Fra le \(5\) e le \(7\) l' incremento \(\Delta T= 5 ^\circ C\). 
Ma stavolta la differenza è su un intervallo di \(2\) ore, 
quindi una variazione media di \(2,5 ^\circ C\) all'ora.

Mettendo in grafico i dati di questa funzione empirica, ne risulta una 
spezzata. 
L'inclinazione dei vari segmenti si può calcolare direttamente sul 
grafico con la formula del coefficiente angolare vista in geometria 
analitica e corrisponde ai risultati dell'ultima colonna, 
che in effetti forniscono le pendenze dei vari segmenti. 
Vi sono pendenze positive, negative e nulle, in 
corrispondenza di segmenti crescenti, decrescenti o orizzontali. 
\end{esempio}
 
% \(\dfrac{\Delta T}{\Delta h}\), il 
Il rapporto che calcola le pendenze, è il 
rapporto fra gli incrementi della temperatura e gli incrementi orari. 
Un rapporto di questo tipo si chiama Rapporto Incrementale.
\begin{definizione}
Il Rapporto Incrementale (\(RI\)) 
di una funzione \(f\) 
in un dato punto \(x_0\)
per un certo incremento \(\Delta\)
è il rapporto 
fra l'incremento di \(f\) e l'incremento di \(x\), quando \(x\) 
cambia valore da \(x_0\) a \(x_0+\Delta\).
\[RI(f,~x_0,~\Delta) = 
  \frac{f(x_0+\Delta)-f(x_0)}{(x_0+\Delta)- x_0}=
  \frac{\Delta f(x_0)}{\Delta}\]
\end{definizione}
L'incremento della funzione non è sempre lo stesso, dipende: 
\begin{itemize} [nosep]
\item dalla funzione \(f\), 
\item dal punto da cui si calcola \(x_0\), 
\item dall'incremento \(\Delta\).
\end{itemize}
Di conseguenza anche il Rapporto Incrementale dipende da quei tre 
parametri: \(RI(f,~x_0,~\Delta)\).

\subsubsection{Il Rapporto Differenziale e la pendenza}
\label{subsubsec:RD}

Immaginiamo ora di avere esigenze scientifiche molto raffinate e di 
predisporre un apparato che misura le temperature ogni secondo. 
I punti del grafico sarebbero così vicini che per distinguerli dovremmo 
usare una lente.
Potremmo anche tracciare il grafico della temperatura con un pennino che si 
sposta su un rullo di carta tracciando una linea continua.
% Allora il grafico appena visto avrebbe spigoli meno visibili e i vari 
% incrementi \(\Delta T\) sarebbero numeri vicini allo zero. 
% Potremmo conoscere il fenomeno con grande precisione e individuare molti 
% più dettagli, se potessimo visualizzare le diverse pendenze.
% 
% % \begin{minipage}{0.48\textwidth}
% % % \begin{center}
% % Immaginiamo ora di avere esigenze scientifiche molto raffinate e di 
% % predisporre un apparato che misura le temperature ogni secondo. 
% % Allora il grafico appena visto avrebbe spigoli meno visibili e i vari 
% % incrementi \(\Delta T\) sarebbero numeri vicini allo zero. 
% % Potremmo conoscere il fenomeno con grande precisione e individuare molti 
% % più dettagli, se potessimo visualizzare le diverse pendenze.
% % %\end{center}
% % \end{minipage}
% %  \hfill
% % \begin{minipage}{.48 \textwidth}
% %  \begin{center}
% % \scalebox{1}{ \temperatureb}
% % \label{graf:temperatureb}
% %  \end{center}
% % \label{graf:temperature}
% % \end{minipage}
% 
% Se abbiamo un pennino che traccia in ogni istante la temperatura otterremo 
% una linea continua.

\affiancati{.50}{.50}{
%grafico temperature smussato
\begin{inaccessibleblock}[Grafico delle temperature con punti molto vicini]
\begin{center} \scalebox{.9}{\temperatureb} \end{center}
\end{inaccessibleblock}
\label{graf:temperatureb}
}{
%grafico temperature smussato
\begin{inaccessibleblock}[Grafico continuo delle temperature]
\begin{center} \scalebox{.9}{\temperaturec} \end{center}
\end{inaccessibleblock}
\label{graf:temperaturec}
}

In una situazione ideale, non legata a strumenti di misura necessariamente 
imperfetti, consideriamo una funzione matematica e il suo grafico e andiamo 
alla ricerca della pendenza della funzione. 

Ora siamo interessati alla pendenza puntuale della funzione, non alla 
pendenza media, per questo opereremo nell'insieme degli iperreali (\(\IR\)), 
considerando incrementi infinitesimi. 
Per ragioni storiche questi incrementi infinitesimi si chiamano 
\emph{differenziali}.
\begin{definizione}
Il differenziale \(df\) (\emph{de effe}) di una funzione \(f\) è 
l'incremento infinitesimo, se esiste, 
che la funzione subisce a causa di una variazione infinitesima 
\(\epsilon\) diversa da zero, della sua variabile indipendente \(x\), 
a partire da un valore fissato \(x_0\):
\[df(x_0) = f \tonda{x_0 + \epsilon} - f(x_0)\]
\end{definizione}

\newpage %------------------------------------------

Come già visto per l'incremento \(\Delta f\), anche il differenziale 
\(df\) dipende: 
\begin{itemize} [nosep]
\item dalla funzione, 
\item dal valore \(x_0\) dove inizia la variazione della \(x\),
\item dal suo incremento infinitesimo~\(\epsilon\).
\end{itemize}
Quindi il differenziale di una funzione \(df\) è esso stesso una funzione 
con \(3\) argomenti:
\(d(f,~x_0,~\epsilon)\). 
\begin{osservazione}
Per segnalare che il simbolo \(df\) (oppure \(dx\), ecc.) non è il prodotto 
fra due variabili 
(cioè \(df \ne d \cdot f,\ dx \ne d\cdot x,\ \dots\)) ma indica 
una differenza infinitesima, nella lettura si pronunciano:
\textit{de effe, de ics}.
\end{osservazione}

\noindent \begin{minipage}{.48 \textwidth}
\begin{esempio}
Vogliamo calcolare l'incremento della 
funzione:~\(f(x) = \dfrac{1}{4} x^2 -x -3\)
quando \(x\) parte da~\(7\) e ha un incremento di~\(\epsilon\).
\begin{align*}
  df(7) &= f(7+\epsilon) - f(7) = \\
        &= \dfrac{\tonda{7 +\epsilon}^2}{4}  -\tonda{7 +\epsilon} -3 - 
           \dfrac{7^2}{4}  +7 +3 =\\
        &= \dfrac{49 +14 \epsilon +\epsilon^2}{4} -10 -\epsilon - 
           \dfrac{49}{4} +10 =\\
        &= \dfrac{14 \epsilon +\epsilon^2}{4} -\epsilon 
        = \dfrac{10 \epsilon +\epsilon^2}{4} =\\
        &= 2,5 \epsilon + \dfrac{\epsilon^2}{4}
%         \quad \forall \epsilon 
%\sim 2,5 \epsilon
\end{align*}
\end{esempio}
\end{minipage}
 \hfill
\begin{minipage}{.48 \textwidth}
 \begin{center}
\differenziale
 \end{center}
\end{minipage}
L'incremento della funzione è un differenziale: un infinitesimo che è la 
somma di due infinitesimi di ordine diverso. 
% Il risultato non cambia 
% sostanzialmente, se al posto di \(\epsilon\) svolgiamo lo stesso calcolo 
% utilizzando un diverso infinitesimo \(\delta\). Per significare che il 
% risultato non dipende dalla scelta dell'infinitesimo, si indica: \(\forall 
% \epsilon\).

% Nell'espressione della funzione riconosciamo che si tratta di una 
% parabola, 
% una funzione il cui grafico ha pendenze sempre diverse, che aumentano (o 
% diminuiscono) gradualmente, allontanandosi dal vertice. Seguendo lo schema 
% usato per il grafico delle temperature, cerchiamo la pendenza per \(x=7\) 
% calcolando il rapporto fra gli incrementi, cioè in questo caso, fra i 
% differenziali.

La pendenza della funzione \(f\) nel punto \(x_0\) è legata al 
rapporto tra l'incremento della funzione e l'incremento della variabile 
\(x\) quando questo incremento è infinitesimo. 
Questo rapporto viene detto \emph{Rapporto Differenziale}:
\begin{definizione}
Il \emph{Rapporto Differenziale} (\(RD\)) di una funzione \(f\) è il 
quoziente fra l'incremento infinitesimo \(df\) della funzione 
e l'incremento infinitesimo di \(x\), quando \(x\) cambia valore da 
\(x_0\) a \(x_0+\epsilon\) con \(\epsilon \ne 0\).
\[RD(f, x_0, \epsilon) = 
\frac{f(x_0+\epsilon)-f(x_0)}{(x_0+\epsilon)- x_0} =
\frac{df(x_0)}{\epsilon}\]
\end{definizione}
La differenza tra Rapporto Differenziale e Rapporto Incrementale sta nel 
fatto che nel \(RI\) l'incremento è un numero non infinitesimo mentre 
nel \(RD\) l'incremento è un numero iperreale infinitesimo.

Continuando l'esempio precedente calcoliamo \(RD(f,~7,~\epsilon)\):
\[RD(f,~7,~\epsilon) =
%  \frac{df(7)}{\epsilon}=
 \frac{f(7+\epsilon) - f(7)}{\epsilon}=\dots=
 \frac{2,5 \epsilon + \dfrac{\epsilon^2}{4}}{\epsilon}=
 \frac{\cancel{\epsilon}\tonda{2,5 + \dfrac{\epsilon}{4}}}
 {\cancel{\epsilon}}=
 2,5 + \frac{\epsilon}{4}
%  , \quad \forall \epsilon \ne 0
\]

Ma il Rapporto Differenziale, data una funzione e un punto, dipende 
dall'incremento \(\epsilon\) e quindi cambia al cambiare dell'infinitesimo. 
E questo è un problema. 

Non solo, il Rapporto Differenziale è un numero iperreale, mentre noi 
abbiamo bisogno che la pendenza di una funzione reale sia un numero reale.

Si può risolvere il secondo problema utilizzando la funzione 
\emph{parte standard} che trasforma un iperreale finito nel più vicino
numero reale.

Se il numero reale così ottenuto non dipende dal valore dell'incremento 
infinitesimo, abbiamo ottenuto la pendenza della funzione in quel punto.

% Le pendenze del grafico di temperature sono numeri reali e  con questi è 
% facile stabilire se una temperatura è in crescita di più o di meno 
% rispetto ad un'altra.
% Ora invece abbiamo un risultato parzialmente incerto, perché la 
% pendenza risulta un numero finito iperreale, la somma di uno standard e di 
% un infinitesimo. Si tratta di un numero non completamente esprimibile in 
% cifre, perché la sua parte infinitesima ha un valore sconosciuto.
% Per fortuna, però, questa parte infinitesima è trascurabile e si può 
% ragionevolmente concludere che, anche considerando gli infiniti possibili 
% valori dell'infinitesimo \(\dfrac{\epsilon}{4}\), tuttavia il risultato è 
% sostanzialmente uguale a \(2,5\).
% 
% Tradotto in termini matematici, questo ragionamento corrisponde al calcolo 
% della parte standard.
% \[ \text{pendenza}=\pst{RD}=\pst{2,5 + \frac{\epsilon}{4}}=2,5\]
\begin{definizione}
La pendenza di una funzione \(f\), in un punto \(x_0\) del suo dominio, 
è la parte standard del Rapporto Differenziale di \(f\) calcolato in 
\(x_0\), se questa esiste ed è sempre la stessa qualsiasi sia 
l'incremento infinitesimo \(\epsilon\) diverso da zero.
\end{definizione}

La pendenza della funzione \(f\) nel punto \(x_0\) viene indicata con 
\(f'(x_0)\):
\[pendenza(f,~x_0) = f'(x_0)\]

\begin{esempio}
Calcoliamo per la stessa funzione la pendenza nel punto del vertice. 
Trattandosi dell'unico punto a tangente orizzontale, non potrà che risultare 
una pendenza uguale a zero.\\
\begin{align*}
 &f(x) = \dfrac{1}{4} x^2 -x -3 \quad x_0=2;\\
 &RD=\frac{df(2)}{\epsilon}=\frac{f(2+\epsilon) - f(2)}{\epsilon}=
  \frac{\tonda{2 +\epsilon}^2}{4}  -\tonda{2 +\epsilon} -3 - 
           \frac{2^2}{4}  +2 +3 =\\
  &= \dfrac{4 +4 \epsilon +\epsilon^2}{4} -5 -\epsilon - 1 +5 =
 +1+ \epsilon +\frac{\epsilon^2}{4} -5 -\epsilon - 1 +5 =
 \frac{\epsilon^2}{4}.
  \end{align*}
Considerando che il rapporto differenziale esiste per qualsiasi infinitesimo 
non nullo \(\epsilon\), calcoliamo la sua parte standard.
\[pendenza(f,~2) = f'(2) = \pst{RD}=\pst{\frac{\epsilon^2}{4}}=0\]
Il risultato è sempre lo stesso \(\forall \epsilon \ne 0\), abbiamo 
perciò la conferma: la pendenza è uguale a zero per \(x=2\).
\end{esempio}

\subsubsection{Controesempi}
\label{subsubsec:controesempi}
Cerchiamo la pendenza \(f'(0)\) per la funzione \(f(x)=\sqrt[3]{x^2}\). Da 
notare che \(f(0)\) c’è e vale \(0\).
% TODO Grafico della funzione.
\begin{align*}
&f(x)=\sqrt[3]{x^2}\ \quad x_0=0
&RD=\frac{\sqrt[3]{(0+\epsilon)^2}-\sqrt[3]{0^2}}{\epsilon}=
 \frac{\sqrt[3]{(\epsilon)^2}}{\epsilon}=
 \frac{\cancel{\tonda{\sqrt[3]{\epsilon}}^2}}
 {\tonda{\sqrt[3]{\epsilon}}^{\cancel{3}}}=
 \frac{1}{\sqrt[3]{\epsilon}}
\end{align*}
Qualsiasi sia l'infinitesimo \(\epsilon \neq 0\), \(RD\) è un numero
infinito, non ha dunque parte standard perciò la funzione \(f\) non ha 
pendenza in \(0\).
% \(f'(0)\) non c'è. Infatti qualsiasi sia l'infinitesimo 
% \(\epsilon \neq 0\), 
% \(\dfrac{1}{\sqrt[3]{\epsilon}}\) è un iperreale infinito e 
% non esiste la parte standard  di un numero infinito.
% Quindi la funzione \(f\) non ha pendenza in \(0\).

Anche nel prossimo esempio la pendenza non esiste, anche se la ragione è 
diversa.

\begin{esempio}
 %valore assoluto
\label{esempio:diff01_derimodulo}
 Calcola la pendenza di \(f(x)=|x|\) per \(x=0\).\\
 La funzione contiene un valore assoluto: riscriviamola per casi.\\
 
% \begin{figure}[h!]
 \begin{minipage}[]{.39 \textwidth}
 \begin{center}
\begin{inaccessibleblock}
  [Grafico della funzione valore assoluto di x]
  \derivamodulouno
\end{inaccessibleblock}
\end{center}
 \end{minipage} 
 \hfill
 \begin{minipage}[]{.59 \textwidth}
Funzione: 
\(f(x)=|x|=\begin{cases}
  -x\quad &\mbox{ per }x<0\\
  +x\quad &\mbox{ per }x\ge 0
\end{cases}\)

\vspace{.5em}
Differenziale per \(x=0\):

\vspace{.5em}
\(df(0) = \abs{0+\epsilon} - \abs{0} = \abs{\epsilon}\);

\vspace{.5em}
Rapporto Differenziale:

\vspace{.5em}
\(\dfrac{df(0)}{\epsilon}=\dfrac{\abs{\epsilon}}{\epsilon}=
  \begin{cases}
 -1\quad &\mbox{ per } \epsilon < 0\\
 +1\quad &\mbox{ per } \epsilon > 0
 \end{cases}\)
\end{minipage}
\label{}
% \end{figure} 

Il grafico di \(f(x) = \abs{x}\) è formato da due semirette che si uniscono 
nell'origine. 
Per \(x < 0\) la semiretta ha coefficiente angolare \(m = -1\) 
per \(x > 0\) la semiretta ha coefficiente angolare \(m = +1\). 
Quale è la pendenza giusta per
\(x=0\), nel punto cioè dove il grafico cambia pendenza all'improvviso?\\
Nella monade di \(x=0\) gli infinitesimi \(\epsilon\) positivi causano una 
variazione infinitesima positiva sull'asse \(y\) e lo stesso avviene per 
gli \(\epsilon\) negativi. 
Perciò a seconda del segno di \(\epsilon\), la parte standard del Rapporto 
Differenziale può essere \(-1\) o \(+1\) e dato che non è la stessa 
per qualsiasi \(\epsilon \ne 0\) la pendenza di questa funzione in \(0\) 
non è definita.
\end{esempio}

I due esempi chiariscono perché nella definizione di pendenza si debba 
specificare: 
``...\textit{purché essa esista e sia la stessa} 
\(\forall \epsilon\ne 0\)''.

\bigskip
Nell'ultimo esempio la funzione presenta un cambio improvviso di pendenza:
Immediatamente a sinistra di \(x_0\) la funzione ha una pendenza diversa 
da quella che ha immediatamente a destra. 
Diremo che la funzione ha un \emph{punto angoloso} in \(x_0\).

% L'ultimo esempio visto ci presenta il caso di una funzione con un 
% \emph{punto angoloso} un punto nel quale la funzione ha una pendenza a 
% sinistra diversa dalla pendenza che ha a destra.

\begin{definizione}
Diremo che una funzione ha un punto angoloso se: 
\begin{itemize} [nosep]
\item 
la parte standard del \(RD\) calcolato con 
\(\epsilon < 0\) esiste ed è sempre la stessa,
\item 
la parte standard del \(RD\) calcolato con 
\(\epsilon > 0\) esiste ed è sempre la stessa,
\end{itemize}
e queste due parti standard sono diverse.
\end{definizione}

\subsubsection{In conclusione:} 
La pendenza è un numero reale che consente di capire con quale 
velocità variano i dati di un fenomeno in un certo momento oppure quanto sia 
inclinato il grafico di una funzione in un certo punto.
Chiamiamo \(f'(x_0)\) la pendenza della funzione \(f\) nel punto \(x_0\).

\begin{procedura}
\label{proc:ricetta_pendenza}
Per calcolare la pendenza di una funzione \(f\) nel punto \(x_0\):
\begin{enumerate}
\item si calcola il Rapporto Differenziale:
\(RD(f,~x_0,~\epsilon)= \dfrac{f(x_0+\epsilon) -f(x_0)}{\epsilon}\);
\item se esiste e è finito se ne calcola la parte standard;
\item se la parte standard non dipende dall'infinitesimo 
\(\epsilon \neq 0\), la pendenza della funzione \(f\) in \(x_0\) è:
\(f'(x_0) = \pst{RD(f,~x_0,~\epsilon)}\).
\end{enumerate}
\end{procedura}
\begin{osservazione}
Ai punti 2 e 3 dell'elenco si indicano alcuni controlli importanti.
Vediamone i motivi.
 \begin{itemize}
  \item [2:] Può non esistere la parte standard del Rapporto 
Differenziale? Sì, perché si tratta di un rapporto fra due infinitesimi 
e non è detto che risulti un numero finito. La parte standard si può 
calcolare solo se l'argomento è un numero finito.
\item [3:] La parte standard può dare risultati diversi a seconda 
dell'infinitesimo che si usa? Sì, per esempio può cambiare di segno, come 
accade quando si cerca la pendenza di \(f(x)=|x|\) in \(x_0=0\). 
Vedi esempio \ref{esempio:diff01_derimodulo}.
 \end{itemize}
\end{osservazione}

\subsubsection{Brevi note di storia}
Il calcolo appena descritto fu inventato nel 1600 (Calcolo infinitesimale, o 
differenziale, o semplicemente Calcolo) con contenuti più ingenui ma 
sostanzialmente uguali ai nostri. 

Il Calcolo fiorì con grande successo per 150 anni a partire 
dall'epoca di Newton e Leibniz. 
Ma suscitava vivaci polemiche fra gli specialisti, perché non si era 
in grado di spiegare la regola che permetteva di far sparire gli 
infinitesimi al termine dei calcoli, che per noi è il punto 4 dell'elenco.

A quel tempo non si conosceva la teoria degli insiemi numerici, 
gli iperreali e la funzione parte standard.
Oggi i matematici conoscono meglio la materia e quelle critiche 
sono superate. 
Siamo quindi in grado di procedere nello studio di questa nuova branca 
della matematica, che si chiama \emph{Analisi infinitesimale}.


\subsection{Pendenze in grafico}
\label{subsec:pendenze_grafico}
Nel grafico di \(f\), le diverse pendenze della curva di solito si colgono a 
vista. Ma si possono anche disegnare? Se fosse possibile esprimerle con un 
disegno sarebbe molto più facile confrontarle e interpretarle.\\
Per provare a rispondere, ricordiamo il grafico \ref{graf:temperaturea}: 
lì gli incrementi delle temperature, ora per ora, si riflettono nella 
diversa inclinazione dei segmenti, che siamo abituati a calcolare con la 
nota formula del coefficiente angolare. 
È facile vedere che le stesse pendenze si calcolano anche con le 
regole della procedura \ref{proc:ricetta_pendenza}. 
Dimostriamolo. 

Consideriamo una retta generica, non verticale: \(y=mx+q\) 
dove \(m\) e \(q\) sono numeri reali 
e un suo generico punto di ascissa \(x_0\).
\begin{teorema}
\label{teo:pendenza_retta}
  Per le funzioni lineari la pendenza è il coefficiente angolare.
\end{teorema}
\noindent Ipotesi: \(f(x)=mx+q\) \tab Tesi: \(\text{pendenza }=m\)
% \begin{proof}
% Per qualsiasi \(\epsilon\ne 0\):
% \begin{align*}
% RD &=\dfrac{df(x_0)}{\epsilon} =\dfrac{f(x_0+\epsilon)-f(x_0)}{\epsilon}=\\
%                &=\dfrac{m(x_0+\epsilon)+q-\tonda{mx_0+q}}{\epsilon}=
%                  \dfrac{mx_0-m\epsilon+q-mx_0-q}{\epsilon}=
%                  \dfrac{m\epsilon}{\epsilon}=m\\
% \pst{RD}&= \pst{m}=m.
% \end{align*}
% \end{proof}

\emph{Dimostrazione}
% Per qualsiasi \(\epsilon \ne 0\):
\begin{align*}
RD &=\dfrac{df(x_0)}{\epsilon} =\dfrac{f(x_0+\epsilon)-f(x_0)}{\epsilon}=
     \dfrac{m(x_0+\epsilon)+q-\tonda{mx_0+q}}{\epsilon}=\\
   &= \dfrac{mx_0-m\epsilon+q-mx_0-q}{\epsilon}=
    \dfrac{m\epsilon}{\epsilon}=m
\end{align*}
Dato che \(RD\) è un numero finito:
\[pendenza = \pst{RD}= \pst{m}=m\]

\vspace{-1em} \hspace{25mm} 
poiché il valore della parte standard non dipende da \(\epsilon\) \qed

\vspace{1em}
Poiché nel risultato non compare \(x_0\), il risultato ottenuto
vale \(\forall x\): la pendenza di una retta è un valore costante.

% Si tratta di un risultato molto utile per individuare le pendenze nei 
% nostri grafici. 

Per visualizzare la pendenza di una curva in un suo punto 
possiamo disegnare la retta che passa per quel punto e che ha per 
coefficiente angolare proprio quella pendenza, cioè la sua tangente.
% come nell'esempio che segue.

\begin{definizione}
Chiamiamo \emph{tangente} ad una funzione \(f\) in un punto \(P\) la retta 
passante per \(P\) che ha per coefficiente angolare la pendenza della 
funzione in quel punto.
\end{definizione}


\begin{esempio}
Visualizza la pendenza della parabola:
\(f(x) = -\dfrac{1}{4}x^2+2x +1\) \quad nel suo punto di ascissa:~\(x_P=8\).

Prendiamo sulla curva un punto \(P'\), diverso da \(P\) a 
distanza infinitesima da \(P\).

L'ascissa di \(P'\) sarà \(x_{P'}=8+\delta\), 
con \(\delta\) infinitesimo e diverso da zero.
I nostri due punti sono quindi:
\(P\punto{8}{f(8)}\) e \(P'\punto{8+\delta}{f(8+\delta})\).
Per poter distinguere i due punti dovrò usare un microscopio con un 
opportuno ingrandimento infinito.

Calcoliamo i corrispondenti valori della funzione:

\affiancati{.40}{.58}{
\parabolaetangentea
}{
\begin{align*}
f(8) &= -\frac{1}{4}8^2 + 2 \cdot 8 + 1 = -16+16+1 = +1\\
f(8+\delta) &= -\frac{1}{4}\tonda{8+\delta}^2 + 2 \tonda{8+\delta} + 1 = \\
&= -\frac{1}{4}\tonda{64+16\delta+\delta^2} + 16 + 2\delta + 1 =\\
&= -16-4\delta-\frac{\delta^2}{4} + 16 + 2\delta + 1 =
+1 - 2\delta -\frac{\delta^2}{4}
\end{align*}
}

Quindi i due punti sono:
\(P\punto{8}{1}\) e 
\(P'\punto{8+\delta}{+1 - 2\delta -\dfrac{\delta^2}{4}}\).

\affiancati{.58}{.40}{
Ora possiamo calcolare la pendenza per questi due punti:
\begin{align*}
RD &= \frac{y_{P'} - y_{P}}{x_{P'} - x_{P}}=
\frac{\cancel{+1} - 2\delta -\dfrac{\delta^2}{4}~ \cancel{-1}}
     {8 + \delta - 8}= \\
&=\frac{- 2\delta -\dfrac{\delta^2}{4}}{\delta}= 
\frac{\delta \tonda{- 2-\dfrac{\delta}{4}}}{\delta}= 
- 2-\dfrac{\delta}{4}.
\end{align*}
}{
\parabolaetangenteb
}
Il Rapporto Differenziale della curva, vicino al punto \(P\)
è \(-2-\dfrac{\delta}{4}\) 
e dipende dal valore dell'infinitesimo \(\delta\).
Quindi questo \(RD\) rappresenta infinite pendenze.
Ma se trasformiamo ognuna di queste pendenze in un numero reale,
usando la funzione \emph{parte standard} otteniamo sempre:
% \(\pst{-2-\dfrac{\delta}{4}} = -2\).
\[\pst{RD}=\pst{-2-\dfrac{\delta}{4}} = 
  \pst{-2}-\pst{\dfrac{\delta}{4}} = -2 - 0 = -2\]
Dato che questo valore non dipende dall'infinitesimo scelto, è proprio la 
pendenza della funzione \(f\) nel punto di ascissa \(8\) e possiamo 
rappresentare la pendenza disegnando una retta che passa per il punto 
\(P\) che ha coefficiente angolare uguale alla pendenza, 
cioè la sua tangente in \(P\).
% \(-2-\dfrac{\delta}{4}\) è il Rapporto Differenziale della curva, 
% calcolato nel tratto infinitesimo fra i punti \(P\) e \(P'\). 
% Trattandosi di due punti sostanzialmente coincidenti, 
% il tratto di curva \(PP'\) è sostanzialmente un segmento, che ha il 
% coefficiente angolare espresso dal Rapporto Differenziale. 
% Un metodo efficace per visualizzare la pendenza è proprio quello di 
% disegnare 
% la retta per \(PP'\). 
% 
% Quante sono le rette che passano per \(PP'\)?\\
% Sono infinite, perché il loro coefficiente angolare è 
% \(-2-\dfrac{\delta}{4}\), 
% che rappresenta infiniti numeri indistinguibili, sostanzialmente 
% uguali a \(-2\). 
% 
% Isoliamo una di queste rette, in modo che il suo disegno le rappresenti 
% tutte. 
% Per fare ciò, calcoliamo \(\pst{-2-\dfrac{\delta}{4}}\).
% Possiamo farlo, dato che \(-2-\dfrac{\delta}{4}\) è un iperreale finito:
% \[
% \pst{RD}=\pst{-2-\dfrac{\delta}{4}} = \pst{-2}-\pst{\dfrac{\delta}{4}} =
%   -2 - 0 = -2.
% \]
% Il risultato non dipende dal valore dell'infinitesimo \(\delta\), così 
% possiamo concludere che la pendenza che cerchiamo è sostanzialmente 
% \(-2\), sia per il tratto di curva, sia per la retta che passa per gli 
% stessi punti.
% 
% Nel piano cartesiano reale, cioè con numeri reali, \(P\) e \(P'\) 
% coincidono, perciò \(-2\) è la pendenza della retta tangente.
\end{esempio}

In conclusione, ora abbiamo un metodo per calcolare la pendenza di una 
curva in un suo punto ed anche un modo di mostrarla nel piano cartesiano: 
con il disegno della tangente alla curva in quel punto. 

\subsection{Derivata di una funzione}
\label{subsec:differenziazione_derivatafunzione}
Abbiamo visto che il Rapporto Differenziale dipende da \(3\) parametri:
\(RD(f,~x_0,~\epsilon)\). 
Se nel problema che stiamo risolvendo \(f\) è fissata, allora il Rapporto 
Differenziale dipende solo da \(x_0\) e da \(\epsilon)\). 
Se poi siamo interessati alla pendenza della funzione \(f\), 
e questa esiste, non dipende dalla particolare scelta dell'infinitesimo 
quindi la pendenza della funzione, se esiste, dipende solo dal punto preso 
in considerazione: \(x_0\).

Quindi, per ogni funzione \(f\), si può considerare una ulteriore funzione:  
``pendenza di \(f\)''. \\
``pendenza di \(f\)'' ha come argomento un numero reale, \(x\), 
e ha come risultato un altro numero reale, cioè la pendenza della curva che 
rappresenta \(f\) nel piano cartesiano.

Questa funzione viene chiamata derivata della funzione \(f\) 
e viene indicata con \(f'\).

\begin{definizione}
Chiamiamo \emph{derivata} della funzione \(f\) la funzione \(f'\) che
ha come argomento \(x\) e come risultato la pendenza della funzione 
\(f\) nel punto di ascissa \(x\).
\end{definizione}

\(f'\) quindi ci dà la formula per calcolare le pendenze 
di \(f\). Questa formula, ovviamente diversa da funzione a funzione, 
si applica all'espressione di \(f\) secondo il procedimento in 
\ref{proc:ricetta_pendenza}, come negli esempi.

\begin{esempio}
\label{esempio:esempio_5}
Se \(f(x)=\dfrac{1}{3}x^2-2x+5\), quale è l'espressione di \(f'(x)\)?
 
Non essendo indicato un particolare valore di \(x_0\), proviamo a inventarne 
qualcuno. Per esempio, per \(x_0=4\) scriviamo:
\begin{align*}
 &\forall \delta\ne 0:\quad x_0= 4\quad\quad 
f(x_0)=f(4)=\frac{1}{3}(4)^2-2\cdot 4+5 = \dfrac{7}{3}\\
&\pst{\dfrac{f(x_0+\delta)+f(x_0)}{\delta}}=
\dfrac{\dfrac{1}{3}(4+\delta)^2-2(4+\delta) + 5 - 
(\dfrac{1}{3}4^2-2\cdot 4+5)}{\delta}=\dots
\end{align*}
Al termine di alcuni tentativi, il quadro della situazione è:

 \begin{minipage}{0.48\textwidth}
 \begin{center}
\begin{tabular}{ccc}\toprule
\(x_0\) & \(f(x_0)=\dfrac{1}{3}x_0^2-2x_0+5\) & \(f'(x_0)=?\) \\\midrule
\(-2\) & \(31/3\) &  \(-10/3\)\\ 
\(-1\) & \(22/3\) &  \(-8/3\) \\
\(0\)  & \(5\)    & \(-2\)  \\
\(1\)  & \(10/3\) & \(-4/3\) \\
\(2\)  & \(7/3\)  & \(-2/3\)\\
\(3\)  & \(2\)    & \(0\)\\
\(4\)  & \(7/3\)  &\dots \\
\(5\)  & \(10/3\) \\
\(6\)  & \dots   \\
\(\dots\)  
\end{tabular}
\label{tab:derivataa}
\end{center}
\end{minipage}
 \hfill
\begin{minipage}{.48 \textwidth}
\begin{inaccessibleblock}[Grafico di una funzione e della sua derivata.]
\begin{center} \scalebox{.7}{\funzioneederivata} \end{center}
\end{inaccessibleblock}
\label{graf:funzioneederivata}
\end{minipage}
\end{esempio}
Per ogni particolare \(x_0\) risulta uno e un solo valore di pendenza, come 
deve succedere quando due insiemi (quello degli \(x_0\) e quello di 
\(f'(x_0)\)) si corrispondono secondo una funzione. 
In questo caso i valori della pendenza si allineano lungo una retta.

Calcoliamo la pendenza della funzione in un generico punto \(x\).
Iniziamo calcolando il Rapporto Differenziale:
\begin{align*}RD = \dfrac{f(x + \epsilon) - f(x)}{\epsilon} &=
  \dfrac{\dfrac{1}{3}(x+\epsilon)^2-2(x+\epsilon) + 5 - 
          (\dfrac{1}{3}x^2-2\cdot x+5)}
        {\epsilon} = \\
&= \dfrac{\cancel{\dfrac{1}{3}x^2}+\dfrac{2}{3} \epsilon x 
          +\dfrac{1}{3}\epsilon^2~\cancel{-2x}-2\epsilon~\cancel{+5} - 
          \cancel{\dfrac{1}{3}x^2}~\cancel{+2x}~\cancel{-5}}
         {\epsilon}=\\
&= \dfrac{+\dfrac{2}{3} \epsilon x 
          +\dfrac{1}{3}\epsilon^2-2\epsilon}
         {\epsilon}=
= \dfrac{\cancel{\epsilon} \tonda{+\dfrac{2}{3}x -2+\dfrac{1}{3}\epsilon}}
        {\cancel{\epsilon}}=
\dfrac{2}{3}x-2+\dfrac{1}{3}\epsilon
\end{align*}
Abbiamo ottenuto una funzione che rappresenta senz'altro un numero finito 
dato che è la somma algebrica di 3 numeri finiti.
Possiamo dunque calcolarne la parte standard:
\[\pst{\dfrac{2}{3}x-2+\dfrac{1}{3}\epsilon}=
  \pst{\dfrac{2}{3}x}-\pst{2}+\pst{\dfrac{1}{3}\epsilon}=
  \dfrac{2}{3}x-2\]
Il valore ottenuto è indipendente dall'infinitesimo \(\epsilon \neq 0\) 
e quindi rappresenta la pendenza di \(f\) in funzione di \(x\):
\[f(x) = \dfrac{1}{3}x^2-2x+5 \sRarrow f'(x) = \dfrac{2}{3}x-2\]

\begin{definizione}
Indichiamo con il termine \emph{derivata} la funzione che, al variare di 
\(x\) rappresenta la corrispondente pendenza della funzione \(f\).
\end{definizione}


\subsubsection{Simboli per la derivata}
Il nome \emph{derivata} per indicare il calcolo che abbiamo descritto ha 
origini storiche. Si è diffuso  ovunque (derivative, derivada, dérivée, 
...) anche se non rende pienamente il significato di ciò che rappresenta. 
Se ne potrà intuire la ragione in un capitolo successivo, quando parleremo 
anche di funzioni primitive.\\
Sempre per ragioni storiche, si sono diffusi vari simboli che rappresentano 
l'operazione di derivazione:

Sostituirei questo elenco con la tabella seguente.

\begin{enumerate}[noitemsep]
 \item \(f'(x_0)\) indica la pendenza della funzione \(f\) in \(x_0\);
 \item \(f'(x)\) è il simbolo per il risultato della derivazione di \(f\) 
 per \(x= x_0\): è la pendenza della funzione \(f\) in \(x_0\);
 \item \(\Deriv{f(x)}\) indica la formula della derivazione di 
\(f\),  per es. 
\(\Deriv{5x\sqrt[3]{x^2}}=5\sqrt[3]{x^2}+\dfrac{10x}
  {3\sqrt[3]{x}}\);
 \item \(\dot{f}\) equivale a \(f'\) e si usa in alcuni corsi universitari;
 \item \(\dfrac{d}{dx}f(x)\) è come \(f'(x)\), cioè corrisponde alla parte 
standard del Rapporto Differenziale;
 \item \(\dfrac{df(x)}{dx}\) si trova spesso nei libri come se il Rapporto
 Differenziale e la derivata fossero la stessa cosa. Se la derivata 
esiste, quest'uguaglianza si può accettare, trattandosi di quantità 
indistinguibili. 
\end{enumerate}

\begin{center}
\begin{tabular}{cc}
% \toprule
derivata di \(f(x)\) & pendenza di \(f\) in \(x_0\) \\
\midrule
\(f'(x)\) &  \(f'(x_0)\)\\[.3em]
\(\Deriv{f(x)}\) & \(\Deriv{f(x_0)}\)\\[.3em]
\(\dot{f}\) & \(\dot{f}(x_0)\)\\[.3em]
\(\dfrac{d}{dx}f(x)\) & \(\dfrac{d}{dx}f(x_0)\) \\[1em]
\(\dfrac{df(x)}{dx}\) & \(\dfrac{df(x_0)}{dx}\) \\[.5em]
\bottomrule
\end{tabular}
\end{center}

\section{Derivata di alcune funzioni semplici}
\label{sec:differenziazione_derivatafsemplici}
A questo punto andiamo alla ricerca di regole semplici che ci permettano 
di calcolare la derivata di una funzione senza ripetere procedimenti 
laboriosi, come nell'esempio precedente che in realtà è un caso fra i 
meno complicati.

Calcoleremo la derivata di alcune funzioni molto comuni, cioè cercheremo 
la pendenza di queste funzioni non per un particolare \(x_0\), ma per ogni 
valore \(x\) del suo insieme di definizione.

\subsection{Derivata della funzione identica}
\label{subsec:differenziazione_derivatafidentica}
\begin{teorema}
La derivata della funzione identica \(f(x)=x\) è \(1\):
\[\Deriv{f(x)} = \Deriv{x} = 1\]
\end{teorema}
\emph{Dimostrazione}

% Deriviamo la funzione identica: \(f(x)=x\).\\
Innanzitutto dovremmo scrivere il differenziale della funzione e della 
variabile \(x\): 
\[df(x)=f(x+\epsilon)-f(x)=x+\epsilon-x=\epsilon \qquad 
  dx = (x +\epsilon) -x = x +\epsilon -x = \epsilon\] 
Perciò: 
\[RD = \dfrac{df(x)}{dx}=\dfrac{\epsilon}{\epsilon}=1, \quad 
\forall \epsilon \ne 0\]
Poiché il risultato è un numero finito, la parte standard esiste e 
poiché il suo valore non dipende dall'infinitesimo considerato:
\[f'(x)=\pst{\dfrac{df(x)}{dx}}=\pst{1}=1\]

\begin{osservazione}
Non avendo specificato un particolare \(x_0\), il risultato vale per 
qualsiasi \(x\).
\end{osservazione}

Dato che \(dx = \epsilon\), nei prossimi esempi, invece che usare 
l'infinitesimo \(\epsilon \neq 0\) useremo \(dx\) intendendo sempre un 
infinitesimo diverso da zero.
Utilizzando questa osservazione possiamo scrivere il 
Rapporto Differenziale in questo modo: 
\[RD = \dfrac{f(x +\epsilon) -f(x)}{(x +\epsilon) -x} = 
       \dfrac{f(x +dx) -f(x)}{(x +dx) -x} = 
       \dfrac{df(x)}{dx}\]
\begin{definizione}
 La derivata di una funzione \(f\) è la parte standard del Rapporto 
Differenziale, se questa esiste e se non cambia valore al variare 
dell'infinitesimo \(dx \neq 0\):
\[f'(x) = \pst{\dfrac{f(x +dx) -f(x)}{x +dx -x}}=
  \pst{\frac{df(x)}{dx}}\]
\end{definizione}

\subsection{Derivata della funzione costante}
\label{subsec:differenziazione_derivatafcostante}
Una funzione \(f(x)\) è costante se qualunque sia il valore di \(x\) il 
risultato è sempre lo stesso. Possiamo indicare questa funzione in diversi 
modi:
\[f: x \mapsto k \quad \text{o} \quad f(x)=k \quad \text{o} \quad y = k.\]

\begin{teorema}
La derivata di una funzione costante \(f(x) = k\) è \(0\):
\[\Deriv{k}=0\]
\end{teorema}
\emph{Dimostrazione}
\[RD = \dfrac{df(x)}{dx} = \dfrac{f(x +\epsilon) -f(x)}{dx} =
  \dfrac{k-k}{dx} = \dfrac{0}{dx} = 0\]
Poiché il risultato è un numero finito, la parte standard esiste e 
poiché il suo valore non dipende dall'infinitesimo considerato:
\[f'(x) = \pst{\dfrac{df(x)}{dx}} = \pst{0} = 0\]
% 
% Il suo differenziale sarà:
% \[df(x_0)=f(x_0+\epsilon)-f(x_0)=k-k=0,\quad \forall \epsilon.\]
% Quindi, se la funzione è costante, il suo differenziale è nullo.
% Infatti, avendo sempre lo stesso valore per qualsiasi \(x\), la differenza 
% tra due suoi valori è zero. 
% \noindent Ipotesi: \(f(x)=k\).\tab Tesi: \(f'(x)=0\).
% \begin{proof}
%  Infatti \(df(x)=0\).
% \end{proof}

% 
% \subsection{Derivata della funzione }
% \label{subsec:differenziazione_}
% Una funzione lineare è :
% \[f: x \mapsto mx +q \quad \text{o} \quad   
% f(x)=mx +q \quad \text{o} \quad 
%   y = mx +q.\]
% \begin{teorema}
%   La derivata di una funzione lineare è 
% \end{teorema}
% \noindent Ipotesi: \tab Tesi: 
% \begin{proof}
% \begin{align*}
% RD &=\dfrac{df(x)}{dx} =\dfrac{f(x+dx)-f(x)}{dx}=\\
%                &=\dfrac{m(x+dx)+q-\tonda{mx+q}}{dx}=
%                  \dfrac{mx-mdx+q-mx-q}{dx}=
%                  \dfrac{mdx}{dx}=m
% \end{align*}
% Dato che \(RD\) è un numero finito:
% \[f'(x) = \pst{RD}= \pst{m}=m\]
% 
% \vspace{-1em} \hspace{20mm} 
% poiché il valore della parte standard non dipende da \(dx\).
% \end{proof}
% 

\subsection{Derivata della funzione lineare}
\label{subsec:differenziazione_derivataflineare}
Una funzione lineare è una funzione espressa da un polinomio di primo grado:
\[f: x \mapsto mx +q \quad \text{o} \quad   f(x)=mx +q \quad \text{o} \quad 
  y = mx +q.\]
\begin{teorema}
La derivata di una funzione lineare è il suo coefficiente angolare \(m\):
\[\Deriv{mx+q}=m\]
%   La derivata di una funzione lineare è il coefficiente angolare \(m\) 
% della retta che disegna il suo grafico.
\end{teorema}
\noindent Ipotesi: \(f(x)=mx+q\)\tab Tesi: \(f'(x)=m\)
\begin{proof}
\begin{align*}
RD &=\dfrac{df(x)}{dx} =\dfrac{f(x+dx)-f(x)}{dx}=\\
               &=\dfrac{m(x+dx)+q-\tonda{mx+q}}{dx}=
                 \dfrac{mx-mdx+q-mx-q}{dx}=
                 \dfrac{mdx}{dx}=m
\end{align*}
Dato che \(RD\) è un numero finito:
\[f'(x) = \pst{RD}= \pst{m}=m\]

\vspace{-1em} \hspace{20mm} 
poiché il valore della parte standard non dipende da \(dx\).
\end{proof}

\subsection{Derivata della funzione quadratica}
\label{subsec:differenziazione_derivatafquadratica}
In alcuni esempi abbiamo già calcolato la pendenza di una funzione 
espressa da un polinomio di secondo grado. 
Concentriamoci sul caso generale e semplice: 
\(f(x)=x^2\).
\begin{teorema}
La derivata della funzione quadratica \(f(x)=x^2\) è \(2x\):
\[\Deriv{x^2}=2x\] 
\end{teorema}
\noindent Ipotesi: \(f(x)=x^2\) \tab Tesi: \(f'(x)=2x\).
\begin{proof}
\begin{align*}
RD &=\dfrac{df(x)}{dx}=\dfrac{(x+dx)^2-x^2}{dx}=
     \dfrac{x^2+2xdx+(dx)^2-x^2}{dx}=\\
   &=\dfrac{2xdx+(dx)^2}{dx}=
     \dfrac{\cancel{dx}\tonda{2x+dx}}{\cancel{dx}} = 2x+dx.
\end{align*}
Il Rapporto Differenziale è un numero finito, quindi esiste la parte 
standard.
\[f'(x) = \pst{RD}=\pst{2x+dx}=2x\]

\vspace{-1em} \hspace{20mm} 
poiché il valore della parte standard non dipende da \(dx\).
\end{proof}

\begin{inaccessibleblock}
  [Parabola con pendenze e sua derivata]
\hspace{-20mm}\affiancati{.55}{.43}{
\begin{center} \scalebox{.8}{\parabola} \end{center}
}{
\begin{center} \scalebox{.8}{\derivataparabola} \end{center}
}
\end{inaccessibleblock}
\label{img:diff_parabola_con_pendenze}
\begin{center} Il grafico di \(y=x^2\), con alcune sue tangenti, e 
la sua derivata: \(y=2x\).\end{center}

% % \begin{figure}[h!]
%  \begin{minipage}[]{.48\textwidth}
% \begin{inaccessibleblock}
%   [m tangenti a parabola]
%  \begin{center}
%  \parabola
%  \end{center}
% \end{inaccessibleblock}
%  \end{minipage} 
%  \hfill
%  \begin{minipage}[]{.48\textwidth}
%  \begin{center}
%   \tangentiparabola
%  \end{center}
%  \end{minipage}
% % \caption{\(y=x^2\) e la pendenza \(y=m(x)=2x\) delle sue tangenti.} 
% % \label{}
% % \end{figure}

%\vspace{1em}
Grafico di \(f(x)=x^2\) con alcune sue tangenti, per mostrare le 
diverse pendenze delle curva e accanto: grafico delle pendenze, cioè della 
funzione derivata \(f'(x)=2x\).

Iniziamo dal ramo sinistro del primo grafico: al crescere di \(x\), 
la curva e le sue tangenti passano da un'inclinazione fortemente 
decrescente (\(m<0\)), alla direzione orizzontale nel vertice \(m=0\), 
per diventare sempre più crescente \(m>0\).
Il progresso della pendenza delle tangenti è costante: 
per questo motivo il grafico della derivata è una
una retta per l'origine.

\begin{osservazione}
Nota che la funzione derivata di una funzione quadratica è una funzione 
lineare: la pendenza delle tangenti a una parabola varia come varia la \(y\)
rispetto alla \(x\) in una retta.
\end{osservazione}

\section{Teoremi sulle derivate}
\label{sec:differenziazione_teoremi}

Nei paragrafi precedenti abbiamo visto che alcune funzioni hanno una 
funzione derivata e la loro derivata è facile da memorizzare anche senza 
dover fare calcoli ogni volta:
\[\Deriv{k}=0 \qquad 
  \Deriv{x}=1 \qquad 
  \Deriv{x^2}=2x
\]
\begin{definizione}
Una funzione per la quale si può calcolare la derivata si dice 
derivabile.
Cioè la sua pendenza è calcolabile per ogni valore \(x\) del suo dominio.
% TODO in che senso la frase seguente?
% Se non si specifica diversamente, si intende che la pendenza della 
% funzione è calcolabile per ogni \(x\) del suo dominio.
\end{definizione}

Per evitare calcoli laboriosi come quelli dell'Esempio 
\ref{esempio:esempio_5}, 
che in realtà sono fra i più agevoli che ci potrebbero capitare, 
cerchiamo regole di derivazione più immediate. 

In quell'esempio, la funzione è \(f(x)=\dfrac{1}{3}x^2-2x+5\),  una somma 
algebrica di tre addendi: \(\dfrac{1}{3}x^2\),\quad \(-2x\)\quad e\quad  
\(+5 \): non potremmo derivarli separatamente e poi unire i risultati 
sommandoli? È quello che stiamo per mostrare con i prossimi teoremi.

\subsection{Derivata della somma (algebrica) di funzioni}
\label{subsec:differenziazione_derivatasomma}
\begin{teorema}
 Se una funzione è la somma di più funzioni derivabili, la sua 
 derivata è la somma delle derivate degli addendi.
 
Ovvero: La derivata di una somma è la somma delle derivate.
\[\Deriv{g + h}=\Deriv{g}+\Deriv{h}\]
\end{teorema}
\noindent Ipotesi: \(f = g + h\) e esistono \(g'\) e \(h'\) 
\tab Tesi: \(f'=g' + h'\)

\begin{proof}
Consideriamo il Rapporto Differenziale, calcolato in \(x\), dove \(g\), 
\(h\) e quindi anche \(f\), hanno valore. Allora, per ogni infinitesimo non 
nullo \(dx\):
\begin{align*}
 RD&=\dfrac{df(x)}{dx}=\dfrac{d[g(x)+ h(x)]}{dx}=\dfrac{[g(x+dx)+
     h(x+dx)]-[g(x) + h(x)]}{dx}=\\
 &= \dfrac{[g(x+dx)-g(x)] + [h(x+dx)-h(x)]}{dx}= 
 \dfrac{g(x+dx)-g(x)}{dx}+\dfrac{h(x+dx)-h(x)}{dx}=\\
  &=\dfrac{dg(x)}{dx}+\dfrac{dh(x)}{dx}.
\end{align*}
Dato che \(g\) e \(h\) sono derivabili esiste anche la parte standard dei 
loro Rapporti Differenziali e è indipendente dall'infinitesimo 
\(dx \neq 0\) usato e la stessa caratteristica l'avrà anche la somma di
queste parti standard:
\[f'(x)=\pst{\dfrac{df}{dx}}=\pst{\dfrac{dg(x)}{dx}+\dfrac{dh(x)}{dx}}=
        \pst{\dfrac{dg(x)}{dx}}+\pst{\dfrac{dh(x)}{dx}}=g'(x)+h'(x)\]
\end{proof}

\begin{osservazione}
 Il teorema vale anche per la differenza, in modo analogo e si può applicare 
anche alla somma algebrica di più funzioni, per esempio ai polinomi.
\end{osservazione}

\begin{esempio}
 Deriviamo la funzione \(f(x)= x^2-x+12\).\\
 In base a quanto già sappiamo, la derivata di \(x^2\) è \(2x\), la derivata 
di \(x\) è \(1\) e la derivata di una costante è \(0\), quindi 
\(\Deriv{x^2-x+12}= 
  \Deriv{x^2} + 
  \Deriv{-x} + 
  \Deriv{+12}=
  2x-1\).\\
Come si vede, non è stato necessario calcolare il Rapporto Differenziale.
\end{esempio}

\subsection{Derivata del prodotto di funzioni}
\label{subsec:differenziazione_derivataprodotto}

% In questo caso non presentiamo una vera dimostrazione, ma ricorriamo a un
% a un disegno che assumiamo riesca a descrivere efficacemente la 
% regola.

Immaginiamo che le due funzioni, calcolate in un generico punto \(x\),
esprimano la base e l'altezza di un rettangolo:
\(b(x)=b\) sarà la base  e \(a(x)=a\) sarà l'altezza. 
L'area \(\mathit{S}\) ovviamente si ottiene da \(b(x)\cdot 
a(x)=\mathit{S}(x)\). 
Differenziare il prodotto \(d\quadra{\mathit{S}(x)}\) vuol dire calcolare di
quanto aumenta l'area del rettangolo, se i lati subiscono un incremento 
infinitesimo. 

\begin{osservazione}
Gli incrementi della base e dell'altezza possono essere 
diversi, perché \(b(x)\) e \(a(x)\) sono funzioni diverse, le quali possono
reagire in modo diverso all'incremento \(dx\).
\end{osservazione}

\begin{teorema}
Se una funzione è il prodotto di due funzioni derivabili, 
la sua  derivata, se esiste, è la somma fra due prodotti: la derivata 
della prima funzione per la seconda (non derivata) più la prima funzione 
(non derivata) per il la derivata della seconda.
\[\Deriv{b \cdot a}=\Deriv{b} \cdot a + b \cdot \Deriv{a}\]
\end{teorema}
\noindent Ipotesi: \(S = b \cdot a\) \text{ e esistono }
\(b'\) e \(a'\) \tab 
Tesi: \(S' = b' \cdot a + b \cdot a'\).

\begin{inaccessibleblock}
  [Rettangolo con uno gnomone reale e rettangolo con gnomone infinitesimo.]
\affiancati{.38}{.58}{
  \vspace{25mm} 
  \incrementaleprodotto
}{ 
  \differenzialeprodotto}
\end{inaccessibleblock}
% \caption{Incrementi finito e infinitesimo dell'area di un rettangolo} 
\label{fig:Incre_prodotto}

Ci faremo guidare dal disegno che spesso si usa per rappresentare il 
prodotto fra due binomi. 
\footnote{~Si potrebbe discutere sul fatto che 
un'area rappresenti un prodotto tra funzioni. 
A noi serve per avere una guida algebrica nel giustificare la regola.}

Prima di impostare la derivata, ragioniamo sull'espressione 
dell'incremento infinitesimo di area che il disegno ci suggerisce. 

Concentriamoci sulla zona colorata del disegno, la figura a forma 
di L rovesciata, detta \emph{gnomone}. È formata da tre parti:
\begin{itemize} [nosep]
 \item un rettangolo sottile, verticale e sulla destra, di base
 infinitesima \(db(x)\) e altezza \(a(x)\);
 \item un rettangolo orizzontale, in alto, di base \(b(x)\) e
 altezza infinitesima \(da(x)\);
 \item un rettangolino in alto a destra, di area \(db(x) \cdot da(x)\).
\end{itemize}

\begin{proof}
Dato che l'ultimo termine è un infinitesimo di ordine
superiore, il risultato può essere approssimato alla sua parte principale, 
perché è indistinguibile:
\[dS(x) = db(x)\cdot a(x) + b(x)\cdot da(x) + db(x)\cdot da(x)
                 \sim db(x)\cdot a(x)+b(x)\cdot da(x)\]
Possiamo allora scrivere il Rapporto Differenziale:
\begin{align*}
RD& = \dfrac{df(x)}{dx}=\dfrac{d[b((x)\cdot a(x)]}{dx} \sim 
      \dfrac{db(x)\cdot a(x)+b(x)\cdot da(x)}{dx}=\\
&=\dfrac{db(x)\cdot a(x)}{dx}+\dfrac{b(x)\cdot da(x)}{dx}=
\dfrac{db(x)}{dx} a(x)+b(x)\dfrac{da(x)}{dx} =
b'(x) \cdot a(x) + b(x) \cdot a'(x)
\end{align*}
Per ipotesi esistono le derivate delle due funzioni, perciò 
il Rapporto Differenziale è un numero finito e la sua parte standard non 
dipende dall'infinitesimo \(dx \neq 0\), quindi:
\[S' = b' \cdot a + b \cdot a'\]
\end{proof}

\begin{esempio}
\label{esem:diff_prodottocostante}
Calcola la derivata della funzione \(f(x)=12x\).

Si può svolgere questo semplice esercizio scrivendo il Rapporto 
Differenziale, ma ora vogliamo applicare la regola del prodotto.\\
\(f = g \cdot h\) \quad con \(g(x) = 12\) e \(h(x) = x\)
\[f' = g' \cdot h + g \cdot h' = 
\Deriv{12} \cdot x + 12 \cdot \Deriv{x} =
0 \cdot x + 12\cdot 1 = 12\]
\end{esempio}
% 
% \begin{esempio}
% \label{esem:diff_quadrato}
% Calcola la derivata della funzione \(f(x)=x^2\).
% 
% Abbiamo già risolto questo problema,
% ma ora vogliamo applicare la regola del prodotto.\\
% \(f = g \cdot h\) \quad con \(g(x) = x\) e \(h(x) = x\)
% \[f' = g' \cdot h + g \cdot h' = 
% \Deriv{x} \cdot x + x \cdot \Deriv{x} =
% 1 \cdot x + x \cdot 1 = 2x\]
% \end{esempio}

\subsubsection{Derivata del prodotto per una costante}
\label{subsubsec:derivata_f_per_k}

Dal teorema precedente e guardando il suo primo esempio si può 
generalizzare:
\begin{teorema}
La derivata del prodotto di una costante per una funzione derivabile
\(f(x) = k \cdot g(x)\), è il prodotto fra la 
costante \(k\) e la derivata \(g'(x)\) della funzione: 
\[\Deriv{k \cdot g(x)} =k \cdot \Deriv{g(x)}\]
\end{teorema}
\noindent Ipotesi: \(f = k \cdot g \text{ e esiste } g'\)
\tab Tesi: \(f' = k \cdot g'\). 
\begin{proof}
Primo metodo: applichiamo il teorema precedente:
\[f' = b' \cdot a + b \cdot a' = 
\Deriv{k} \cdot g + k \cdot \Deriv{g} =
0 \cdot g + k\cdot g' = k \cdot g'\]
\end{proof}

\begin{proof}
Secondo metodo: calcolo della derivata attraverso il Rapporto Differenziale:
\begin{align*}
f' &= \pst{\frac{f(x +dx) - f(x)}{dx}} = 
      \pst{\frac{k \cdot g(x +dx) - k \cdot g(x)}{dx}} = \\
   &= \pst{k \cdot \frac{g(x +dx) - \cdot g(x)}{dx}} = 
      \pst{k} \cdot \pst{\frac{g(x +dx) - \cdot g(x)}{dx}} = 
      k \cdot g'
\end{align*}
\end{proof}

\begin{osservazione}
Questi due ultimi teoremi consentono una facile dimostrazione alla regola di 
derivazione per le funzioni lineari, alternativa a quella data nel Teorema 
\ref{subsec:differenziazione_derivataflineare}.
\end{osservazione}

\begin{esempio}
\label{esem:diff_prodottocostante}
Calcola la derivata della funzione \(f(x)=-\dfrac{3}{2}x+5\).

\[\Deriv{-\dfrac{3}{2}x+5} = 
  -\dfrac{3}{2} \cdot \Deriv{x} + \Deriv{5} = 
  -\dfrac{3}{2} \cdot 1 + 0 = -\dfrac{3}{2}\]
\end{esempio}

% TODO: vale la pena inserire qui questo esempio complesso?
\begin{esempio}
 %valore assoluto
È derivabile la funzione \(f(x)=-\dfrac{1}{2}|x-2|+2\)?

La funzione contiene un valore assoluto: seguendo l’esempio 
\ref{esempio:diff01_derimodulo} riscriviamola come una funzione definita 
a tratti:
\[f(x) = -\dfrac{1}{2}|x -2| +2 =
\sistema{
 +\dfrac{x-2}{2} +2 &\text{ per } x-2 < 0  \\[.5em]
 -\dfrac{x-2}{2} +2 &\text{ per } x-2 \ge 0
} 
=
\sistema{
 +\dfrac{1}{2}x +1 &\text{ per } x < 2 \\[.5em]
 -\dfrac{1}{2}x +3 &\text{ per } x \ge 2
}\]

\affiancati{.33}{.65}{
\begin{inaccessibleblock}
  [Funzione con modulo e sua derivata]
  \derivamodulodue
\end{inaccessibleblock}
}{
Si tratta di due semirette che si uniscono in \(\punto{2}{2}\). L'equazione
di ciascuna di loro è una funzione lineare e già sappiamo che per ognuno dei 
rami la pendenza esiste ed è il coefficiente angolare. Quindi il calcolo
è immediato:
\[f'(x)= \begin{cases}
 +\dfrac{1}{2} &\text{ per } x < 2 \\[.5em]
 -\dfrac{1}{2} &\text{ per } x > 2
\end{cases}\]
}

\vspace{.5em}
Quale è la pendenza della funzione per \(x=2\)?\\
Poiché che la parte standard del Rapporto Differenziale 
\begin{itemize} [nosep]
\item per tutti i valori negativi di \(dx\) vale \(+\dfrac{1}{2}\),
\item per tutti i valori positivi di \(dx\) vale \(-\dfrac{1}{2}\),
\end{itemize}
la funzione \(f\) non ha pendenza (o derivata) per \(x = 2\), 
cioè \(f'(2)\) non esiste. 
Vedi anche l'esempio \ref{esempio:diff01_derimodulo}.

Dato che a sinistra di \(x = 2\) la funzione ha pendenza \(+\dfrac{1}{2}\) 
e a destra ha pendenza \(-\dfrac{1}{2}\), possiamo affermare che in \(2\)
la funzione ha un \emph{punto angoloso}.
\end{esempio}

Si può osservare che:
\begin{itemize} [nosep]
\item \(f\) è definita in tutto \(\R\),
\item \(f\) è continua in tutto \(\R\),
\item \(f\) non è derivabile in tutto \(\R\).
\end{itemize}

% TODO forse questo va messo nella zona definizioni
Perché una funzione sia derivabile deve essere continua, ma non è detto 
che se è continua sia anche derivabile.

\subsubsection{Derivata di una funzione potenza con esponente naturale}
\label{subsubsec:derivata_f_potenza_N}
La regola della derivata di un prodotto ci consente di dimostrare un 
ampio insieme di altre regole. 
Iniziamo da una derivata che abbiamo già dimostrato con il calcolo del 
Rapporto Differenziale e calcolato più volte.

\begin{esempio}
\label{esem:diff_quadrato}
Calcola la derivata della funzione \(f(x)=x^2\).

Applicando la regola del prodotto:
\(f = g \cdot h\) \quad con: \quad \(g(x) = x\) \quad e \quad \(h(x) = x\)
\[f' = g' \cdot h + g \cdot h' = 
\Deriv{x} \cdot x + x \cdot \Deriv{x} =
1 \cdot x + x \cdot 1 = 2x\]
\end{esempio}

\begin{esempio}
\label{esem:diff_quadrato}
Calcola la derivata della funzione \(f(x)=x^3\).

Sempre applicando la regola del prodotto:
\(f = g \cdot h\) \quad con: \quad \(g(x) = x^2\) \quad e \quad \(h(x) = x\)
\[f' = g' \cdot h + g \cdot h' = 
\Deriv{x^2} \cdot x + x^2 \cdot \Deriv{x} =
2x \cdot x + x^2 \cdot 1 = 3x^2\]
\end{esempio}

\begin{esempio}
\label{esem:diff_quadrato}
Calcola la derivata della funzione \(f(x)=x^4\).

Sempre applicando la regola del prodotto:
\(f = g \cdot h\) \quad con: \quad \(g(x) = x^3\) \quad e \quad \(h(x) = x\)
\[f' = g' \cdot h + g \cdot h' = 
\Deriv{x^3} \cdot x + x^3 \cdot \Deriv{x} =
3x^2 \cdot x + x^3 \cdot 1 = 4x^3\]
\end{esempio}



% \begin{esempio}
%  Deriva la funzione \(f(x)=x^2\) con la regola del prodotto. 
% \begin{align*}
%  &f(x) = x^2=x\cdot x;\quad \text{ funzione 1: } a(x)=x\quad 
% \text{ funzione 2: 
% } 
% b(x)=x.\\
%  &\text{Derivate dei fattori: }a'(x)=1;\quad b'(x)=1.\\
%  &\text{Regola: } f'(x)=a'(x)\cdot b(x)+a(x)\cdot b'(x),\quad 
% \text{ quindi:}\\
%  &f'(x)=1\cdot x + x\cdot 1= 2x.
%  \end{align*}
%  \end{esempio}
%  Ora sviluppiamo alcuni casi successivi nella speranza di individuare una 
% regola generale.
%  \begin{esempio}
%  Deriva la funzione \(f(x)=x^3\) con la regola del prodotto. 
% \begin{align*}
%  &f(x) = x^3=x^2\cdot x; \quad \text{ funzione 1: } a(x)=x^2\quad \text{ 
% funzione 2: } 
% b(x)=x.\\
%  &\text{Derivate dei fattori: }a'(x)=2x;\quad b'(x)=1.\\
%  &\text{Regola: } f'(x)=a'(x)\cdot b(x)+a(x)\cdot b'(x),\quad 
% \text{ quindi:}\\
%  &f'(x)=2x\cdot x + x^2\cdot 1= 3x^2.
%  \end{align*}
%  \end{esempio}
%  
%  \begin{esempio}
%  Deriva la funzione \(f(x)=x^4\) con la regola del prodotto. 
% \begin{align*}
%  &f(x) = x^4=x^3 \cdot x;\quad \text{ funzione 1: } a(x)=x^3\quad \text{ 
% funzione 2: } b(x)=x.\\
%  &\text{Derivate dei fattori: }a'(x)=3x^2;\quad b'(x)=1.\\
%  &\text{Regola: } f'(x)=a'(x)\cdot b(x)+a(x)\cdot b'(x),\quad 
% \text{ quindi:}\\
%  &f'(x)=3x^2\cdot x + x^3\cdot 1= 4x^3.
%  \end{align*}
%  \end{esempio}

In effetti c'è una regolarità nei risultati:
\[\Deriv{x} = 1; \quad \Deriv{x^2} = 2x; \quad \Deriv{x^3} = 3x^2; \quad 
  \Deriv{x^4} = 4x^3;\]
e possiamo avanzare la congettura che 
\[\Deriv{x^5} = 5x^4; \quad \Deriv{x^6} = 6x^5; \quad \dots\]
e in generale:
\[\Deriv{x^n} = nx^{n-1}\]

 \begin{teorema}
  \label{diff01_teoderpotenza}
  La derivata della funzione potenza \(f(x)= x^n\), con esponente 
naturale, è: \(\Deriv{x^n}=~nx^{n-1}\).
  \end{teorema}
\noindent Ipotesi: \(f(x)=x^n\), con \(n\in \N\) .\tab Tesi: 
\(f'(x)=nx^{n-1}\). 
\begin{proof}
%  Una funzione potenza è una funzione che dà come risultato la potenza 
% della variabile indipendente:
% \[f: x \mapsto x^n \quad \text{o} \quad 
%   f(x)=x^n \quad \text{o} \quad 
%   y = x^n\]
Ricaviamo per gradi il differenziale della funzione potenza \(f(x)=x^n\), 
con un procedimento per induzione.

Iniziamo dai casi già noti \(f(x)=x\) e \(f(x)=x^2\) e esaminiamo i 
successivi aumentando progressivamente l'esponente. 
Ancora una volta non inseriamo l'indicazione relativa a \(x_0\), perché 
ci siamo accorti che è inutile. 
Infatti i risultati cambiano al cambiare di \(x_0\), il che equivale a 
dire che dipendono da \(x\).
\begin{align*}
  d(x) &=x+dx-x =dx\\
  d(x^2) &=(x+dx)^2-x^2 = x^2 +2xdx +(dx)^2 -x^2 = 2xdx +(dx)^2\\
  d(x^3) &=(x+dx)^3-x^3 = \quad{x^3+3x^2dx+3x(dx)^2+(dx)^3}-x^3=
                      3x^2dx+3x(dx)^2+(dx)^3\\
  d(x^4) &=(x+dx)^4-x^4 = 
           \quad{x^4+4x^3dx+6x^2(dx)^2+4x(dx)^3+(dx)^4}-x^4=\\
         &=4x^3dx+6x^2(dx)^2+4x(dx)^3+(dx)^4  \\
  d(x^5) &= (x+dx)^5-x^5 = \quad{x^5+5x^4dx+\dots +(dx)^5}-x^5=\\
         &=5x^4dx+\dots+(dx)^5\\
  \dots  &= \dots
\end{align*}
Possiamo osservare che il termine non infinitesimo si annulla sempre. 
Quindi, qualunque sia il valore di \(x\), l'incremento della funzione è 
infinitesimo. 
Queste funzioni sono quindi continue in tutto \(\IR\) perché a variazioni 
infinitesime della variabile \(x\) corrispondono sempre variazioni
infinitesime della funzione.

I vari differenziali hanno un'espressione sempre più lunga, ma se 
consideriamo la parte principale di ogni espressione, cioè se trascuriamo 
gli infinitesimi di ordine superiore, il risultato è molto semplice.

% \newpage %----------------------------------------
Quindi se invece del valore esatto ci accontentiamo della parte principale, 
dato che è indistinguibile, concludiamo:
\nopagebreak
\begin{align*}
  d(x) &=x+dx-x =dx\\
  d(x^2) &=2xdx +(dx)^2 \sim 2xdx\\
  d(x^3) &=3x^2dx+3x(dx)^2+(dx)^3 \sim 3x^2dx\\
  d(x^4) &=4x^3dx+6x^2(dx)^2+4x(dx)^3+(dx)^4 \sim 4x^3dx\\
  d(x^5) &=5x^4dx+10x^3(dx)^2+10x^2(dx)^3+5x(dx)^4+(dx)^5 \sim 5x^4dx\\
%   d(x^6) &=6x^5dx+\dots+(dx)^6 \sim 6x^5dx\\
%   d(x^7) &=7x^6(dx)+\dots+(dx)^7 \sim 7x^6dx\\
  \dots &= \dots\\
  d(x^{10}) &=10x^9(dx)+\dots+(dx)^{10} \sim 10x^9dx\\
  \dots &= \dots\\
  d(x^n) &=nx^{n-1}(dx)+\dots+(dx)^{n} \sim nx^{n-1}dx\\    
\end{align*}
Ora che il meccanismo è chiaro, abbiamo la regola per il differenziale di 
questa 
funzione: \(d(x^n) \sim nx^{n-1}dx\) 
e la sfruttiamo per ricavare il Rapporto Differenziale.
\[ \forall dx\ne 0:\quad
 RD =\dfrac{d(x^n)}{dx}\sim \dfrac{nx^{n-1}dx}{dx}=nx^{n-1}\]
Il Rapporto Differenziale è indistinguibile da una quantità finita 
indipendente da \(dx\), possiamo calcolarne la parte standard. 
Questa operazione, fra l'altro, ci permette di eliminare gli infinitesimi 
di ordine superiore e quindi di scrivere il segno di \(=\) al posto del 
segno \(\sim\).
\[ f'(x)=\pst{\dfrac{d(x^n)}{dx}}=\pst{nx^{n-1}}=nx^{n-1}\]
\end{proof}

Come esempio di derivata della funzione potenza, consideriamo \(f(x)=x^3\)
e il suo grafico nel piano cartesiano. 

\begin{inaccessibleblock}
  [Cubica con pendenze e sua derivata]
\hspace{-20mm}\affiancati{.55}{.43}{
\begin{center} \scalebox{.6}{\cubica} \end{center}
}{
\begin{center} \scalebox{.6}{\derivatacubica} \end{center}
}
\end{inaccessibleblock}
\label{img:diff_cubica_con_pendenze}
\begin{center} Il grafico di \(y=x^3\), con alcune sue tangenti, e 
la sua derivata: \(y=3x^2\).\end{center}

% \begin{minipage}[]{.48\textwidth}
% \begin{inaccessibleblock}
%   [m tangenti a cubica]
%  \begin{center}
%  \cubica
%  \end{center}
% \end{inaccessibleblock}
%  \end{minipage} 
%  \hfill
%  \begin{minipage}[]{.48\textwidth}
%  \begin{center}
%   \tangenticubica
%  \end{center}
%  \end{minipage}
% \caption{\(y=x^3\) e la pendenza \(y=m(x)=3x^2\) delle sue tangenti.} 
% \label{}
% \end{figure}
%\vspace{1em}

I due rami del grafico sono simmetrici rispetto all'origine
% e quindi lo sono anche le pendenze delle tangenti
. 
Considerando le \(x\) crescenti, quindi da sinistra verso destra, le 
pendenze delle tangenti sono sempre positive, all'inizio molto 
accentuate, poi diminuiscono fino a \(m=0\). Poi riprendono a crescere, 
in maniera sempre più evidente. Il grafico della funzione \(f'(x)=3 x^2\) 
ha infatti la forma di una parabola simmetrica rispetto all'asse \(y\).

Ora disponiamo di un'arma molto più potente di prima, che, insieme alle 
precedenti, ci permette di calcolare la derivata delle funzioni 
polinomiali. 

\begin{esempio}
\label{esem:diff_prodottocostante}
Calcola la derivata della funzione 
\(f(x)=-\dfrac{4}{15}x^5 +\dfrac{2}{3}x^3-13x\).
\begin{align*}
\Deriv{-\dfrac{4}{15}x^5+ \dfrac{2}{3}x^3-13x} &= 
-\dfrac{4}{15} \cdot \Deriv{x^5} + 
 \dfrac{2}{3} \Deriv{x^3} -13 \cdot \Deriv{x}=\\
&=-\dfrac{4}{15} \cdot 5x^4 + \dfrac{2}{3} 3x^2 -13 =
-\dfrac{4}{3} x^4 + 2x^2 -13
\end{align*}
\end{esempio}

% \begin {esempio}
% \(f(x)= -\dfrac{4}{15}x^5+ \dfrac{2}{3}x^3-13kx\).
%  \begin{align*}
%  &f(x) = -\dfrac{4}{15}x^5+ \dfrac{2}{3}x^3-13kx\\
%  &\text{funzione 1:} a(x)=-\dfrac{4}{15}x^5\quad \text{ funzione 2: } 
% b(x) =+ \dfrac{2}{3}x^3\quad \text{ funzione 3: } c(x) =-13kx.\\
%  &\text{Derivate degli addendi: }a'(x)=\dfrac{4}{3}x^4;\quad b'(x)=+2 x^2;
%  \quad c'(x)=-13k.\\
%  &\text{Quindi: } f'(x)=\dfrac{4}{3}x^4+2x^2-13k.
%  \end{align*}
% \end {esempio}

 \subsubsection{Derivata di una funzione potenza con esponente intero}
\label{subsubsec:derivata_f_potenza_Z} 
 
\begin{teorema}
La derivata della funzione reciproca \(f(x)=\dfrac{1}{x}\) è: \quad
\(\Deriv{\dfrac{1}{x}}=-\dfrac{1}{x^2}\).
\end{teorema}
\noindent Ipotesi: \(f(x)=\dfrac{1}{x}\) \quad  con \(x \ne 0\)\tab 
Tesi: \(f'(x)=-\dfrac{1}{x^2}\)
\begin{proof}
\begin{align*}
%  &f(x)= \dfrac{1}{x}\quad\text{ con } x\ne 0.\quad\text{ Allora, } 
%  \forall dx \ne  0:\\
 &RD=\dfrac{df(x)}{dx}=\dfrac{\dfrac{1}{x+dx}-\dfrac{1}{x}}{dx}= 
\dfrac{\dfrac{x-x-dx}{x(x+dx)}}{dx}=
\dfrac{\dfrac{-\cancel{dx}}{x(x+dx)}}{\cancel{dx}}=\dfrac{-1}{x(x+dx)}.
\end{align*}
Date le ipotesi, il Rapporto Differenziale è un numero finito e 
possiamo applicare la definizione di derivata. 
Per le proprietà della funzione parte standard:
\[ \pst{\dfrac{-1}{x(x+dx)}}=
\dfrac{-1}{\pst{x(x+dx)}}=\dfrac{-1}{\pst{x}\pst{x+dx}}=
      -\dfrac{1}{x\cdot x}=-\dfrac{1}{x^2}\]
Poiché il risultato non cambia al variare dell'infinitesimo \(dx \ne 0\), 
la tesi è dimostrata.
\end{proof}

\begin{inaccessibleblock}
  [Funzione 1/x, alcune tangenti, e derivata]
\hspace{-20mm}\affiancati{.55}{.43}{
\begin{center} \scalebox{.7}{\recipr} \end{center}
}{
\begin{center} \scalebox{.7}{\derivatarecipr} \end{center}
}
\end{inaccessibleblock}
\label{img:diff_cubica_con_pendenze}
\begin{center}Grafico di \(f(x)=\dfrac{1}{x}\) e di \(f'(x)\) \end{center}

% % \begin{figure}[h!]
% \begin{inaccessibleblock}
%   [Grafico della funzione 1/x e della sua derivata: 1/(x^2)]
%  \begin{minipage}[]{.48\textwidth}
%  \begin{center}
% \scalebox{.9}{ \recip}
%  \end{center}
%  \end{minipage} 
%  \hfill
%  \begin{minipage}[]{.48\textwidth}
%  \begin{center}
% \scalebox{.9}{  \tangentirecip}
%  \end{center}
%  \end{minipage}
% \end{inaccessibleblock}
% %\caption{\(y=\dfrac{1}{x}\) e la pendenza \(y=m(x)=\dfrac{-1}{x^2}\) 
% % delle sue 
% %   tangenti.} 
% % \label{}
% % \end{figure}
% \begin{center}Grafico di \(f(x)=\frac{1}{x}\) e di \(f'(x)\) \end{center}

Se proseguiamo con gli esempi possiamo ricavare le regole di 
derivazione per le potenze successive \(f(x)=\dfrac{1}{x^2}\), 
\(f(x)=\dfrac{1}{x^3}\), e così via, con \(x\ne 0\). Ma ci arriviamo 
più comodamente come segue.

% TODO Sistemare

\begin{center}\textbf{Da sistemare}\end{center}

\begin{teorema}
La regola della derivata di una funzione potenza vale anche se 
l'esponente è un intero negativo, quindi vale anche con esponente 
\(z\in\Z\).
\end{teorema}

\begin{proof}
 Riscriviamo: \(f(x)=\frac{1}{x}=x^{-1}\),\quad  \(f(x)=\dfrac{1}{x^2}= 
x^{-2}\), \dots , \(f(x)=\dfrac{1}{x^n}=x^{-n}\), con \(n\in \N\). 
Poiché \(n\geqslant 0\), fissiamo \(z=-n\), certamente positivo.
Possiamo a questo punto riusare la regola delle funzioni potenza:
\begin{align*}
f(x)&=x^{-n}=x^z, \quad \text{con }x\ne 0.\quad  \text{Allora esiste la 
derivata:}\\
f'(x)&= zx^{z-1}=-nx^{-n-1}.
\end{align*}
\end{proof}

\begin{esempio}
 Derivare \(f(x)=\dfrac{1}{x^2}\).\\
 \begin{align*}
  f(x)= \dfrac{1}{x^2}= x^{-2},\quad \text{con }x\ne 0.\\
  f'(x)=-2x^{-2-1}=-2x^{-3}=\dfrac{-2}{x^3}.
 \end{align*}
\end{esempio}

\subsection{Derivata del quoziente di funzioni}
\label{subsec:differenziazione_derivataquoziente}
\begin{teorema}
 Se una funzione derivabile è data dal rapporto fra due funzioni derivabili, 
con il denominatore non nullo, la sua derivata si ottiene calcolando
 la differenza fra due prodotti (la derivata del numeratore per il 
 denominatore meno il numeratore per la derivata del 
denominatore) e dividendo il risultato per il quadrato del denominatore.
\end{teorema}
\noindent Ipotesi: \(a(x)=\dfrac{\mathit{S}(x)}{b(x)}\), 
con \(b(x)\neq 0\) \tab 
Tesi: 
\(a'(x) = \dfrac{d\mathit{A}(x) \cdot b(x)-\mathit{A}(x) \cdot db(x)}
             {\tonda{b(x)}^2}\)

\begin{proof}
Ricorriamo alla geometria anche in questo caso: nel disegno 
\(\mathit{S}(x)\) è la funzione che genera i valori per l'area, \(b(x)\) 
e \(a(x)\) generano le possibili basi e altezze. 
Per prima cosa calcoliamo \(d\mathit{S}(x)\).

\noindent \begin{minipage}[]{.48 \textwidth}
Essendo \(\mathit{S}(x)=b(x) \cdot a(x)\) allora:\\ 
\(a(x)=\dfrac{S(x)}{b(x)}\), con \(b(x)\neq 0\).\\
Guardando il disegno, \(da(x)\) è l'incremento infinitesimo dell'altezza, si 
tratta dell'altezza della fascia superiore colorata, che si si calcola
dividendo il rettangolo superiore dello gnomone per la base del rettangolo.
Il rettangolo superiore dello gnomone è uguale a tutto lo gnomone 
infinitesimo, \(d\mathit{S}\), meno il rettangolo destro infinitesimo, 
di area \(a\cdot db\) e meno il rettangolino, in alto a destra,
\end{minipage} 
 \hfill
 \begin{minipage}[]{.48 \textwidth}
 \begin{center}
 \begin{inaccessibleblock}
  [Altezza rettangolo con gnomone infinitesimo.]
  \differenzialerapporto
 \end{inaccessibleblock}
 \end{center}
\end{minipage}
anch'esso infinitesimo. Dunque:
\begin{align*}
da(x) &= d\quadra{\frac{\mathit{S}(x)}{b(x)}}=
 \frac{d\mathit{S}(x) - a(x) \cdot db(x) - db(x) \cdot da(x)}{b(x)}=\\
 &=\frac{d\mathit{S}(x) - \dfrac{\mathit{S(x)}}{b(x)} \cdot db(x) - 
          db(x) \cdot da(x)}{b(x)}=\\
 &=\frac{\dfrac{d\mathit{S}(x) \cdot b(x) - \mathit{S(x)} \cdot db(x) -
               b(x) \cdot db(x) \cdot da(x)}{b(x)}}{b(x)}=\\
 &=\frac{d\mathit{S}(x) \cdot b(x) - \mathit{S(x)} \cdot db(x) -
              b(x) \cdot db(x) \cdot da(x)}{\tonda{b(x)}^2} \sim 
 \frac{d\mathit{S}(x) \cdot b(x) - \mathit{S(x)} \cdot db(x)}
      {\tonda{b(x)}^2}
\end{align*}
Come si vede, l'ultimo termine al numeratore nel risultato manca in quanto 
è infinitesimo di ordine superiore ed è quindi trascurabile rispetto agli 
altri termini. 
Vediamo ora il Rapporto differenziale e la derivata.
\begin{align*}
%  a(x)&=\frac{\mathit{S}(x)}{b(x)}.\quad \forall dx\ne 0:\\
 RD  &=\dfrac{da(x)}{dx}\sim  \dfrac{\dfrac{d\mathit{S}(x) \cdot b(x) - 
\mathit{S(x)} \cdot db(x)}{\tonda{b(x)}^2}}{dx}=
\dfrac{d\mathit{S}(x) \cdot b(x) - \mathit{S(x)} \cdot 
 db(x)}{dx}\cdot\dfrac{1}{\tonda{b(x)}^2}=\\
&=\tonda{\dfrac{d\mathit{S}(x) \cdot b(x)}{dx}-
  \frac{\mathit{S(x)} \cdot  db(x)}{dx} }\cdot\dfrac{1}{\tonda{b(x)}^2}= 
\dfrac{\dfrac{\mathit{S(x)}}{dx}b(x)-
\mathit{S(x)}\dfrac{db(x)}{dx}}{\tonda{b(x)}^2}
\end{align*}
Poiché \(\mathit{S(x)}\) e \(b(x)\) sono per ipotesi derivabili, esistono le 
parti standard dei Rapporti Differenziali, indipendenti dai \(dx\) non nulli 
usati, e si ottiene così 
\(a'(x)=\dfrac{\mathit{S'(x)}\cdot b(x)-
      \mathit{S(x)} \cdot b'(x)}{(b(x))^2}\).

Tornando alla notazione abituale, la regola della derivata del rapporto di 
funzioni diventa:
\[f = \dfrac{g}{h},\quad\text{ con } h \ne 0 \qquad
 f' = \dfrac{g' \cdot h - g \cdot h'}{h^2}\]
% \begin{align*}
%  f(x) &=\dfrac{g(x)}{h(x)},\quad\text{ con } h(x)\ne 0.\\
%  f'(x) &=\dfrac{g'(x)\cdot h(x)-g(x)\cdot h'(x)}{(h(x))^2}.
% \end{align*}
\end{proof}
\begin{esempio}
 Applichiamo la regola alla funzione: 
\(f(x) = \dfrac{g(x)}{h(x)} = \dfrac{1}{x}\), 
\[
f'= \dfrac{g'\cdot h - g \cdot h'}{h^2} =
    \dfrac{\Deriv{1} \cdot x - 1 \cdot \Deriv{x}}{x^2} =
    \dfrac{0 \cdot x - 1 \cdot 1}{x^2} = -\dfrac{1}{x^2}.
\]
% in cui poniamo \(g(x)=1\) e \(h(x)=x\), per cui 
% \(g'(x)=0\) e \(h'(x)=1\).
% \[
% f'(x)= \dfrac{g'(x)\cdot h(x)-g(x)\cdot h'(x)}{(h(x))^2}=\dfrac{0\cdot 
% x-1\cdot 1}{x^2}=-\dfrac{1}{x^2}.
% \]
\end{esempio}

\begin{esempio}
Proviamo ora con \(f(x)= \dfrac{1}{x^2}\). 
\[
f'(x)= \dfrac{g'(x)\cdot h(x)-g(x)\cdot h'(x)}{(h(x))^2}=
\dfrac{0\cdot x^2-1\cdot 2x}{x^4}=-\dfrac{2}{x^3}.
\]
\end{esempio}

Grazie quest'ultima regola siamo in grado di derivare funzioni 
come la seguente:
\begin{esempio}
 Calcola la pendenza della funzione \(f(x)=\dfrac{x^2}{x-2}\) nel punto 
di ascissa \(x=1\).

\affiancati{.38}{.60}{
\vspace{-.5em}
\begin{inaccessibleblock}
[Ramo di una funzione con tangente nel punto (1; -1)]
\derivaomografica
\end{inaccessibleblock}
}{
Applichiamo direttamente la regola 
\ref{subsec:differenziazione_derivataquoziente}.
Dato che il numeratore e il 
denominatore sono entrambe funzioni derivabili e che \(x=1\) non annulla il 
denominatore, si ha: 
\begin{align*}
f'(x)&=\dfrac{2x\cdot(x-2)-x^2\cdot 1}{(x-2)^2}=\dfrac{x^2-4x}{(x-2)^2}\\
f'(1)&=\dfrac{1^2-4\cdot 1}{(1-2)^2}=\dfrac{-3}{1}=-3
\end{align*}
\(f'(x)\) è la derivata, \(f'(1)\) è la derivata calcolata per 
\(x=1\), cioè la pendenza della curva nel punto \(\punto{1}{f(1)}\).

Per \(x = 1\), la curva ha pendenza \(m = -3\).
}
% %\begin{figure}[h]
% \begin{inaccessibleblock}
%   %\begin{center}
%  \begin{minipage}[]{.40 \textwidth}
%  % \caption{}
%  \end{minipage} 
%  \hfill
%  \begin{minipage}[]{.58 \textwidth}
% Applichiamo direttamente la regola 
% \ref{subsec:differenziazione_derivataquoziente}.
% Dato che il numeratore e il 
% denominatore sono entrambe funzioni derivabili e che \(x=1\) non annulla il 
% denominatore, si ha: 
% 
% \begin{align*}
% f'(x)&=\dfrac{2x\cdot(x-2)-x^2\cdot 1}{(x-2)^2}=\dfrac{x^2-4x}{(x-2)^2}.\\
% f'(1)&=\dfrac{1^2-4\cdot 1}{(1-2)^2}=\dfrac{-3}{1}=-3.
% \end{align*}
% \(f'(x)\) è la derivata. \(f'(1)\) è la derivata calcolata per 
% \(x=1\), cioè la pendenza della curva nel punto \((1,\ f(1)).\)
% \end{minipage}
% %\end{center}
% \end{inaccessibleblock}
%\label{}
%\end{figure} 
% 
% Per \(x=1\), la curva ha pendenza \(m=-3\).
\end{esempio}

\subsubsection{Sintesi provvisoria}
\label{subsubsec:diff01_sintesiprovvisoria}
Abbiamo dimostrato le regole di derivazione per alcune funzioni elementari: 
\begin{enumerate} [noitemsep]
 \item \(\Deriv{k} = 0\) \tab  derivata di una 
costante;
 \item \(\Deriv{x} = 1\) \tab derivata della funzione identica;
 \item \(\Deriv{x^\alpha} = \alpha x^{\alpha-1}\) 
\tab  derivata della funzione potenza (\(\alpha \in \R\)).
\end{enumerate}
\begin{osservazione}
\label{oss:regola3}
La regola 3 anticipa un risultato giustificato per ora solo con 
\(\alpha \in \Z\), 
ma che in realtà ha valore con qualsiasi esponente reale 
(vedi pag.~\pageref{teo:funzione_potenza_generica}).
\end{osservazione}

Conosciamo anche le regole di derivazione per alcune funzioni che sono 
somma, prodotto o quoziente di altre:
\begin{enumerate} [noitemsep]
 \item \(\Deriv{k\cdot f}=kf'\) \tab 
 derivata del prodotto per una costante;
 \item \(\Deriv{f\pm g}=f'\pm g'\) \tab 
 derivata di una somma o differenza;
 \item \(\Deriv{f\cdot g}= f'\cdot g+f\cdot g'\) \tab 
 derivata del prodotto;
 \item \(\Deriv{\dfrac{f}{g}}=\dfrac{f'\cdot 
g-f\cdot g'}{g^2}\)\tab 
derivata  del rapporto (\(g \ne 0\)).
\end{enumerate}

\subsubsection{Derivata della funzione radice quadrata}
\label{subsubsec:f_radice}
\begin{teorema}
  La derivata della funzione \(f(x)=\sqrt{x}\), con \(x \geq 0\), è: 
\(\Deriv{\dfrac{1}{2\sqrt{x}}}\), con \(x > 0\).
\end{teorema}
\noindent Ipotesi: \(f(x)=\sqrt{x}\), con \(x\geq 0\) .\tab Tesi: 
    \(f'(x)=\dfrac{1}{2\sqrt{x}}\).
\begin{proof}
Calcoliamo separatamente \(df(x)\), che richiede una razionalizzazione 
del numeratore. 
Perciò, \(\forall dx\ne 0\) e se \(x\ne 0\):
  \begin{align*}
   df(x) &= f(x+dx)-f(x)=\sqrt{x+dx}-\sqrt{x}=
          \tonda{\sqrt{x+dx}-\sqrt{x}}\cdot
          \frac{\sqrt{x+dx}+ \sqrt{x}}{\sqrt{x+dx}+\sqrt{x}}=\\
       &=\frac{x+dx-x}{\sqrt{x+dx}+\sqrt{x}}=
         \frac{dx}{\sqrt{x+dx}+\sqrt{x}}\\
   RD&=\dfrac{df(x)}{dx}=\dfrac{dx}{dx\tonda{\sqrt{x+dx}+\sqrt{x}}}=
       \dfrac{1}{\sqrt{x+dx}+\sqrt{x}}.
  \end{align*}
Poiché il Rapporto Differenziale  con \(x\ne 0\) è un numero finito, 
esiste la parte standard. Allora:
\begin{align*}
 \pst{\dfrac{df(x)}{dx}}&= \pst{\dfrac{1}{\sqrt{x+dx}+\sqrt{x}}}=
      \dfrac{1}{\pst{\sqrt{x+dx}+\sqrt{x}}}=
      \dfrac{1}{\pst{\sqrt{x+dx}}+\pst{\sqrt{x}}}=\\
      &=\dfrac{1}{\sqrt{x}+\sqrt{x}}=\dfrac{1}{2\sqrt{x}}.
\end{align*}
La parte standard non cambia al cambiare del \(dx\) usato, quindi si 
conclude che la derivata esiste e 
\[ f'(x)=\dfrac{1}{2\sqrt{x}}\quad (x>0)\]
\end{proof}

\begin{inaccessibleblock}
  [Funzione radice quadrata di x con alcune tangenti e la sua derivata]
\hspace{-20mm}\affiancati{.49}{.49}{
\begin{center} \scalebox{1}{\radquadn} \end{center}
}{
\begin{center} \scalebox{1}{\derivataradquad} \end{center}
}
\end{inaccessibleblock}
\label{img:diff_cubica_con_pendenze}
\begin{center}Grafico di \(f(x)=\sqrt{x}\) e di \(f'(x)\) \end{center}

% % \begin{figure}[h!]
% \begin{inaccessibleblock}
%   [m tangenti a radquad]
%  \begin{minipage}[]{.48\textwidth}
%  \begin{center}
% \scalebox{.9}{ \radquad}
%  \end{center}
%  \end{minipage} 
%  \hfill
%  \begin{minipage}[]{.48\textwidth}
%  \begin{center}
% \scalebox{.9}{  \tangentiradquad}
%  \end{center}
%  \end{minipage}
% \end{inaccessibleblock}

Le rette tangenti ai punti vicini all'origine hanno una pendenza elevata, 
che si attenua gradualmente man mano che \(x\) aumenta, fino ad 
assestarsi quasi orizzontalmente.

\begin{osservazione}
 Per confermare l'osservazione di pag.~\pageref{oss:regola3}  sulle 
funzioni potenza, adottiamo quella regola anche per il caso appena visto, 
che deriviamo di nuovo dopo averlo espresso come potenza.
\begin{align*}
 f(x)&=\sqrt{x}=x^{\frac{1}{2}},\quad \text{ con  } x\geq 0.\\
 f'(x)&=\dfrac{1}{2}x^{\frac{1}{2}-1}=\dfrac{1}{2}x^{-\frac{1}{2}}=
 \dfrac{1}{2x^{\frac{1}{2}}}=\dfrac{1}{2\sqrt{x}},\quad \text{ con  } x > 0.
\end{align*}
\end{osservazione}

\subsection{Differenziale e incremento}
\label{subsec:diff01_diff_inc}
Abbiamo visto più volte che il Rapporto Differenziale di una funzione e la 
sua derivata sono cose diverse: infatti, in una funzione derivabile,
\(f'(x_0)=\pst{RD}\). Applicando la parte standard si eliminano dal Rapporto 
Differenziale gli infinitesimi che il rapporto genera, così rimane solo il 
numero reale che si accetta come valore della pendenza.

Fra \(f'(x_0)\) e \(RD\) c'è solo una differenza di infinitesimi:
\(RD-f'(x_0)=\epsilon\). Concentrando i nostri ragionamenti su un 
particolare \(x_0\) e sviluppando le formule, si ha:\\
\(\dfrac{df(x_0)}{dx}-f'(x_0)=\epsilon\quad \rightarrow\quad
df(x_0)=f'(x_0)dx+\epsilon\cdot dx\quad \rightarrow\)\\
\(\rightarrow\quad f(x_0+dx)-f(x_0)=f'(x_0)dx+\epsilon\cdot dx
\rightarrow\quad f(x_0+dx)=f'(x_0)dx+f(x_0)+\epsilon\cdot dx\).\\
Se mancasse l'ultimo termine, l'equazione \(f(x_0+dx)=f'(x_0)dx+f(x_0)\) 
sarebbe quella di una retta: la si ottiene scrivendo \(x-x_0\) invece di 
\(dx\) e \(m\) invece di \(f'(x_0)\), cioè \(f(x)=m(x-x_0) +f(x_0)\). 
La retta, che passa per il punto della curva con ascissa \(x_0\) e ha la 
stessa pendenza della curva, è la sua tangente per quel punto. 

La conclusione è che \emph{a distanza \(dx\) dal punto che si vuole 
esaminare, fra la curva e la tangente c'è una differenza pari a 
\(\epsilon\cdot dx\), un infinitesimo di ordine superiore a \(dx\)}. 
Questa differenza è \emph{l'incremento infinitesimo della curva rispetto 
alla tangente}.

\begin{minipage}[]{.47\textwidth}
\begin{inaccessibleblock}
  [differenziale della tangente]
    \begin{center} \differenzialens \end{center}
\end{inaccessibleblock}
\end{minipage} 
  \hfill
\begin{minipage}[]{.47\textwidth} \vspace{2.5em}
Nel punto \(\punto{x_0}{f(x_0)}\) il grafico della funzione e la tangente
sono indistinguibili. 
Il campo visivo del primo microscopio mostra \({x_0}\) e \(dx\), 
perché l'ingrandimento è infinito. A questo livello 
microscopico la curvatura del grafico non esiste,  per cui la curva e 
la tangente sono sovrapposte. 
Nemmeno un secondo microscopio non standard puntato 
nel primo microscopio su \(x_0\), per cui 
l'ingrandimento complessivo diventa \(\infty^2\), può distinguere i due 
grafici. 
Ma un microscopio non standard, centrato nel primo microscopio a 
distanza infinitesima da \(x_0\), mostra la tangente e 
la curva come rette parallele, che distano fra loro 
\(\epsilon \cdot dx\), cioè un infinitesimo di un infinitesimo.
\end{minipage}
\label{}

\begin{teorema}
\label{teo:inc}
\emph{Teorema dell'incremento.} A distanza infinitesima dal punto di 
ascissa \(x_0\), la funzione derivabile \(f(x)\) ha un valore che è la 
somma fra il valore della sua tangente \(t(x)\) passante per 
\(\punto{x_0}{f(x_0)}\) e un infinitesimo dell'infinitesimo \(dx\):
\[f(x_0+dx)=\underbrace{f'(x_0)dx+f(x_0)}_{t(x)}+\epsilon\cdot dx\]
\end{teorema}
L'importante conseguenza di questo teorema è che se ci troviamo in 
difficoltà a calcolare l'incremento infinitesimo di 
\(f\), possiamo considerare al suo posto l'incremento lungo la 
tangente, perché l'errore che si commette è una quantità trascurabile anche 
rispetto a \(dx\).

% TODO Differenziale standard

\subsection{Derivata di funzioni composte}
\label{subsec:differenziazione_derivatacomposta}

% TODO: da mettere questo pezzo nel capitolo sulle funzioni???

A volte può essere utile considerare una funzione complessa come la 
composizione di funzioni più semplici. 

\begin{esempio}
Rappresenta la funzione  \(x \mapsto \dfrac{\tonda{3x -2}^2}{8}\)
come composizione di due funzioni più semplici. 

La funzione \(f\) esegue il quadrato del suo argomento e lo divide per 8:
\(f:~ x \mapsto \dfrac{x^2}{8}\).

Ma questa volta l'argomento della funzione \(f\) non è una costante, ma,
a sua volta, è il risultato della funzione \(g:~x \mapsto 3x -2\).

Quindi \(f\) è funzione di \(g\) e \(g\) è funzione di \(x\).
Lo schema seguente rappresenta la situazione.

\begin{center} \scalebox{1}{\boxfcompostaa} \end{center}
\label{gra:differenziazione_boxcompostaa}

Si tratta di una macchina che concatena due calcoli successivi. 
Immettiamo ad esempio il valore \(6\). 
La macchina \(g\) calcola, al suo interno, \(g(6)=3\cdot 6-2\) e dà come 
risultato \(16\).
Questo numero è l'input della macchina \(f\) che calcola 
\(f(16)=\frac{16^2}{8}\) e dà come risultato \(=32\)
che è il risultato di \(f(g(x))\).
\end{esempio}

Una macchina del genere si chiama \emph{funzione di funzione} o
\emph{funzione composta} e 
viene indicata con \(f(g(x))\) o con \(f \circ g\).

% \begin{center}
% \begin{minipage}[]{.48\textwidth}
% \begin{inaccessibleblock}
%   [box funzione composta]
%   \boxfcomposta
% \end{inaccessibleblock}
%  \end{minipage} 
%  \hfill
%  \begin{minipage}[]{.48\textwidth}
% Si tratta di una macchina che incatena due calcoli successivi.\\
% Immettiamo ad esempio il valore \(t=6\). 
% La macchina sviluppa al suo interno \(u(6)=3\cdot 6-2=16\) grazie a 
% \(u\) e infine produce \(v(16)=\dfrac{16^2}{8}=32\).
% Una catena del genere si chiama \emph{funzione di funzione} o
% \emph{funzione composta}: in questo caso \(f(g(x))\).\\
%  \end{minipage}
%  \end{center}
% \label{}

\vspace{1em}
Per quanto riguarda la derivata di una funzione composta, 
considerando che i valori \(x\) per arrivare alla trasformazione prevista 
da \(f\) devono prima essere trasformati da \(g\), come deriviamo  \(f\) 
rispetto a \(x\)? La formula sintetica è: 
\(f'(g(x))=\pst{\dfrac{df(g(x))}{dx}}\) e il punto da studiare è il calcolo 
del differenziale al numeratore.

Il differenziale \(df\) si potrebbe calcolare dalla definizione: 
\(df(g)=f(g+dg)-f(g)\) e questo obbliga poi a sviluppare \(dg\) e 
inglobarlo nel calcolo. \\
C'è una via più diretta e semplice: fare riferimento al 
Teorema~\ref{teo:inc}.
La conseguenza del teorema è che si può calcolare il differenziale della 
tangente invece di quello della funzione, perché si tralasciano quantità 
che comunque sono trascurabili rispetto a \(dx\). 

Quindi il differenziale della funzione: \(f \circ g\) 
è indistinguibile da \(f'(g)dg\) e 
il differenziale della funzione: \(g\) 
è indistinguibile da \(g'dx\). 

Il rapporto differenziale di \(f\) rispetto a \(x\) è: 
\[RD(f, x, dx) = \dfrac{df(g(x))}{dx} \sim 
          \dfrac{f'(g(x)) dg}{dx} \sim 
          \dfrac{f'(g(x)) g'(x) dx}{dx} = f'(g(x)) g'(x)\]
Ed essendo \(f\) e \(g\) derivabili, \(f'\) e \(g'\) sono funzioni reali
e quindi anche il loro prodotto è un numero reale e è quindi la derivata 
di \(\Deriv{f(g(x))}\).

\begin{esempio}
Calcolare \(f'(x)\), con \(f(x)=\sqrt{3-x^2}\)

\(f(x)\) è composta da due funzioni entrambe derivabili: 

Si può pensare formata così: 
\(g(x)=3-x^2\) \quad e \quad \(f(g(x))=\sqrt{g(x)}=\sqrt{3-x^2}\).

\begin{center} \scalebox{1}{\boxfcompostab} \end{center}
\label{gra:differenziazione_boxcompostaa}

\affiancati{.5}{.5}{
Riprendendo le funzioni di partenza:
\[f'(x)=\pst{\dfrac{-2x}{2\sqrt{25-x^2}}} = \dfrac{-x}{\sqrt{25-x^2}}\]

Se voglio calcolare la pendenza della funzione in \(x = 3\):
\[f'(3) = \dfrac{-3}{\sqrt{25-3^2}} = 
          \dfrac{-3}{\sqrt{16}} = -\dfrac{3}{4}\]
E la tangente quindi sarà:
\[y = f'(x_0) \tonda{x -x_0} + f(x_0) \srarrow
  y = -\dfrac{3}{4} \tonda{x -3} + 4 \srarrow
  y = -\dfrac{3}{4} x +\dfrac{25}{4}\]
}{
\derivacompostaa
}
\end{esempio}

\begin{teorema}
\label{teo:diff01_dericomp}
Se esistono le derivate \(g'(x)\) e \(f'(g(x))\) per il medesimo valore 
\(x\), la funzione composta \(f(g(x))\) è derivabile e la sua derivata si 
calcola così: \(f'(x)=f'(g(x))=f'(g)\cdot g'(x)\), 
cioè la derivata di una funzione composta è il prodotto delle derivate 
delle funzioni componenti, ciascuna rispetto alla propria variabile.
\end{teorema}
\noindent Ipotesi: \(f(x)=f(g(x))\), \(f\), \(g\) derivabili .\tab 
Tesi: \(f'(x)=f'(g(x))=f'(g(x))\cdot g'(x)\).

\begin{proof}
Anzitutto, poiché esiste \(g'(x)\), \(dg(x)\) è infinitesimo per ogni 
infinitesimo \(dx \).\\
Poi, poiché esiste \(f'(g)\), dal teorema dell'incremento si deduce che per 
ogni 
infinitesimo \(dg\) c'è un infinitesimo \(\epsilon\) tale che 
\(df(g(x))=f'(g)\cdot dg + \epsilon\cdot dg.\)

Così, dividendo per qualsiasi infinitesimo non nullo \(dx\)
%{\footnotesize
 \begin{align*}
\Deriv{f(g(x))} &=\pst{\frac{df(x)}{dx}} = \pst{\frac{df(g)}{dx}}=\\
&=\pst{\frac{f'(g)\cdot dg + \epsilon\cdot dg}{d x}}=
\pst{\frac{f'(g)\cdot dg}{d x}}+ \pst{\frac{\epsilon\cdot dg}{dx}}=\\
&= f'(g)\cdot \pst{\frac{dg}{dx}}+ \pst{\epsilon}\cdot\pst{\frac{dg}{dx}}=
f'(x)\cdot g'(x).
\end{align*}
\end{proof}

Vogliamo rappresentare nella stessa immagine le funzioni 
\(g(x)\), \(f(g)\) e \(f(x) = f(g(x))\).
Andrebbero rappresentate tutte nello stesso piano cartesiano, ma 
sovrapporle renderebbe difficile la comprensione. 
Proviamo a vedere se riproducendo più versioni dello stesso piano, 
specchiato e ruotato, si riesce a seguire il meccanismo della funzione 
composta.

\noindent\begin{minipage}{.32\textwidth}
\begin{center}
Partiamo dalla funzione \(g\):

\disegno[5]{
  \begin{scope}[red!50!black] \funzioneg \end{scope}
}
\end{center}
\end{minipage}
\begin{minipage}{.32\textwidth}
\begin{center}
\(g(x)\) specchiata:

\disegno[5]{
  \begin{scope}[yscale=-1, red!50!black] \funzioneg \end{scope}
}
\end{center}
\end{minipage}
\begin{minipage}{.32\textwidth}
\begin{center}
poi ruotata di \(-90\text{°}\):

\disegno[5]{
  \begin{scope}[rotate=-90, yscale=-1, red!50!black]
    \funzioneg
  \end{scope}
}
\end{center}
\end{minipage}

\noindent\begin{minipage}{.32\textwidth}
\begin{center}
Aggiungiamo la funzione \(f(t)\) specchiata rispetto a \(y\).

\disegno[5]{
  \begin{scope}[rotate=-90, yscale=-1, red!50!black]
    \funzioneg
  \end{scope}
  \begin{scope}[xscale=-1, blue!50!black]
    \funzioneh
  \end{scope}
}
\end{center}
\end{minipage}
\begin{minipage}{.65\textwidth}
\begin{center}
Mettiamo tutto insieme e anche, \(f(x) = f(g(x))\): \\[.5em]

\derivatacomposta
\end{center}
\end{minipage}

\begin{osservazione}
 La regola della funzione composta si estende ai casi in cui le funzioni 
 in gioco sono tre, o più:
 \(\Deriv{f(g(h(x)))}=f'(g)\cdot g'(h)\cdot h'(x)\).
\end{osservazione}

\begin{esempio}
Calcola l'equazione della tangente alla funzione 
\(f:~x \mapsto \sqrt{x^2 -x -2}\) nel punto di ascissa \(x = 3\).

\affiancati{.49}{.49}{
\vspace*{-40mm}
Il punto di tangenza ha coordinate:
\[\punto{3}{\sqrt{3^2 -3 -2}} = \punto{3}{2}\]

Poniamo \(g(x)=x^2 -x -2\)\quad e\quad \(f(g)=\sqrt{g}\). 
Allora: 
\begin{align*}
\Deriv{f \circ g} &= f' \cdot g' = 
  \frac{1}{2 \sqrt{x^2 -x -2}} \cdot 2x -1= \\
  &=\frac{2x -1}{2 \tonda{x^2 -x -2}}
\end{align*}
}{
\vspace*{-20mm}
\hspace{-30mm}\derivacompostab
}

\vspace*{-40mm}
\noindent La pendenza in \(P\) è: \tab 
\(f'(3) = \dfrac{2 \cdot 3 -1}{2 \sqrt{3^2 -3 -2}}= \dfrac{5}{4}\) \\[1em]
e la tangente avrà equazione: \tab 
\(y = \dfrac{5}{4} \tonda{x -3} +2 \srarrow 
  y = \dfrac{5}{4} x -\dfrac{7}{4}\)
\end{esempio}

\begin{esempio}
Derivare \(f(x)=\dfrac{1}{\sqrt{2x-3}}\).

\affiancati{.49}{.49}{
Poniamo: 
\[h(x)=2x-3, \quad g(h)=\sqrt{h} \quad
\text{e} \quad f(g)=\dfrac{1}{g}\]
Allora: 
\begin{align*}
f'(g(h)) &= f'(g(f)) \cdot g'(h) \cdot h'(x) = \\
&= -\dfrac{1}{\sqrt{2x-3}} \cdot \dfrac{1}{2\sqrt{2x-3}} \cdot 2 = \\
&= -\dfrac{1}{2x-3}
\end{align*}
}{
\funzionecompostaederivata
}
\end{esempio}

% \begin{esempio}
%   Derivare \(f(x)=\tonda{-\dfrac{3}{2}x^3+2x^2-6}^5\).\\
%   Poniamo \(g(x)=-\dfrac{2}{3}x^3+2x^2-6\)\quad e\quad \(f(g)=g^5\). \\
%   Allora: 
%   \(f'(g)= 5g^4\)\quad e\quad \(g'(x)=-2x^2+4x\),\quad quindi: \\
%   \(f'(x)=f'(g)\cdot g'(x)=5g^4(-2x^2+4x)=
%   5\tonda{-\dfrac{2}{3}x^3+2x^2-6}^4(-2x^2+4x)\).
% \end{esempio}

\subsection{Derivata di funzioni inverse}
\label{subsec:differenziazione_derivatainverse}
Cosa si intende per funzioni inverse? 
Quando abbiamo introdotto il calcolo letterale abbiamo imparato a 
rovesciare alcune espressioni per trovare le formule inverse.

% ---------------------- Esempio con rette ----------------------------
Ad esempio, \(y = 3x -6\) e \(x = \dfrac{y}{3} +2\) 
sono formule inverse l'una dell'altra, ma non sono funzioni inverse.

Infatti se:
\begin{itemize} [noitemsep]
\item in una tabella forniamo alla prima funzione alcuni valori 
a \(x\) e calcoliamo i corrispondenti valori di \(y\);
\item in una tabella forniamo alla seconda funzione alcuni valori 
a \(y\) e calcoliamo i corrispondenti valori di \(x\);
\item rappresentiamo in un piano cartesiano le coppie ottenute nelle 
tabelle.
\end{itemize}
Otteniamo punti che appartengono al grafico della stessa funzione. 
Cioè le due equazioni hanno per soluzioni esattamente le stesse coppie di 
numeri.

\affiancati{.49}{.49}{
{
\newcommand{\mc}[3]{\multicolumn{#1}{#2}{#3}}
\begin{center}
\begin{tabular}{rrcrr}
\mc{2}{l}{\(y = 3x -6\)} & \qquad & \mc{2}{l}{\(x = \dfrac{y}{3} +2\)}\\
\mc{1}{r}{\textit{\(x\)}} & \mc{1}{r}{\textit{\(y\)}} & & 
\mc{1}{r}{\textit{\(y\)}} & \mc{1}{r}{\textit{\(x\)}}\\
\(0\)  & \(-6\) & & \(-6\) & \(0\)\\
\(+1\) & \(-3\) & & \(-3\) & \(+1\)\\
\(+2\) &  \(0\) & & \(0\) & \(+2\)\\
\(+3\) & \(+3\) & & \(+3\) & \(+3\)\\
\(+4\) & \(+6\) & & \(+6\) & \(+4\)\\
\(+5\) & \(+9\) & & \(+9\) & \(+5\)\\
\(+6\) & \(+12\) & & \(+12\) & \(+6\)
\end{tabular}
\end{center}
}
}{
\formulainversaa
}
Le due diverse espressioni esprimono la stessa retta, lo stesso grafico:
la stessa funzione.

Per ottenere la funzione inversa dobbiamo semplicemente scambiare, 
nell'equazione, la variabile \(x\) con la variabile \(y\).

\affiancati{.54}{.44}{
Quindi la funzione inversa di \\
\(y = 3x -6 \sstext{o} f(x) = 3x -6\) \quad è \\
\(x = 3y -6\) \quad che è uguale a \quad \(y = \dfrac{1}{3}x +2\) \\
o: \quad \(f^{-1}(x) = \dfrac{1}{3}x +2\).

Possiamo osservare che se componiamo le due funzioni otteniamo:
\begin{align*}
y &= f \circ f^{-1} = f(f^{-1}(x)) = 3 \tonda{f^{-1}(x)} -6 = \\
  &= 3 \tonda{\dfrac{1}{3}x +2} -6 = \dfrac{3}{3}x +6 -6 = x
\end{align*}
}{
\funzinversaa
}

La composizione delle due funzioni è una funzione il cui 
risultato è uguale all'argomento \(f(f^{-1}(x)) = x\).

Cosa si intende per funzioni inverse? 
Quando abbiamo introdotto il calcolo letterale abbiamo imparato a 
rovesciare alcune espressioni per trovare le formule inverse.

% ---------------------- Esempio con iperboli --------------------------
Ad esempio, \(y = \dfrac{6}{x} -2\) e \(x = \dfrac{6}{y -2}\) 
sono formule inverse l'una dell'altra, ma non sono funzioni inverse.

Infatti se:
\begin{itemize} [noitemsep]
\item in una tabella forniamo alla prima funzione alcuni valori 
a \(x\) e calcoliamo i corrispondenti valori di \(y\);
\item in una tabella forniamo alla seconda funzione alcuni valori 
a \(y\) e calcoliamo i corrispondenti valori di \(s\);
\item rappresentiamo in un piano cartesiano le coppie ottenute nelle 
tabelle.
\end{itemize}
Otteniamo punti che appartengono al grafico della stessa funzione. 
Cioè le due equazioni hanno per soluzioni esattamente le stesse coppie di 
numeri.

\affiancati{.49}{.49}{
{
\newcommand{\mc}[3]{\multicolumn{#1}{#2}{#3}}
\begin{center}
\begin{tabular}{rrcrr}
\mc{2}{l}{\(y = \dfrac{6}{x} -2\)} & \qquad & 
\mc{2}{l}{\(x = \dfrac{6}{y +2}\)}\\
\mc{1}{r}{\textit{\(x\)}} & \mc{1}{r}{\textit{\(y\)}} & & 
\mc{1}{r}{\textit{\(y\)}} & \mc{1}{r}{\textit{\(x\)}}\\
\(-6\)  & \(-3\) & & \(-6\) & \(-3/2\)\\
\(-3\) & \(-4\) & & \(-4\) & \(-3\)\\
\(-1\) &  \(-6\) & & \(-2\) & \(nd\)\\
\(0\) & \(nd\) & & \(0\) & \(+3\)\\
\(+1\) & \(+4\) & & \(+2\) & \(+3/2\)\\
\(+3\) & \(0\) & & \(+4\) & \(+1\)\\
\(+6\) & \(-1\) & & \(+6\) & \(+3/4\)
\end{tabular}
\end{center}
}
}{
\formulainversab
}

Le due diverse espressioni esprimono la stessa iperbole, lo 
stesso grafico: la stessa funzione.

Per ottenere la funzione inversa dobbiamo semplicemente scambiare, 
nell'equazione, la variabile \(x\) con la variabile \(y\).

\affiancati{.54}{.44}{
Quindi la funzione inversa di \\
\(y = \dfrac{6}{x} -2 \sstext{o} f(x) = \dfrac{6}{x} -2\) \quad è \\
\(x = \dfrac{6}{y} -2\) \quad che è uguale a 
\quad \(y = \dfrac{6}{x +2}\) \\
o: \quad \(f^{-1}(x) = \dfrac{6}{x +2}\).

Possiamo osservare che se componiamo le due funzioni otteniamo:
\begin{align*}
y &= f \circ f^{-1} = f(f^{-1}(x)) = \dfrac{6}{f^{-1}(x)} -2 = \\
  &= \dfrac{6}{\dfrac{6}{x +2}} -2 = 6 \cdot \dfrac{x +2}{6} -2 = x
\end{align*}
}{
\funzinversab
}

La composizione delle due funzioni è una funzione il cui 
risultato è uguale all'argomento: \(f(f^{-1}(x)) = x\).

Possiamo quindi dare una definizione precisa di funzione inversa:

\begin{definizione}
Un funzione \(y=f^{-1}(x)\) si dice inversa di una funzione \(y=f(x)\) se la 
composizione delle due funzioni 
è la funzione identica:
% dà come risultato l'argomento stesso: 
\[f(f^{-1}(x))=x\]
\end{definizione}

\begin{osservazione}
Data una qualsiasi funzione \(f\), non è scontato che la sua inversa 
esista \(\forall x\) nel dominio di \(f\). 
Per questo, quando si cerca l'inversa di una funzione, succede di dover 
restringere il dominio di questa. 
Per esempio, 
\(y=g(x)=\sqrt{x}\) è inversa di \(y=f(x)=x^2\),  perché 
\(f(g(x))=(g(x))^2=(\sqrt{x})^2=x\), ma la composizione è possibile 
solo se \(x \ge 0\), mentre \(f\) vale \(\forall x\). 
In questo caso, quindi, dobbiamo considerare per \(f\) il dominio più 
ristretto, perché al di fuori di questo l'inversa non esiste.

Una buona regola pratica per capire se esiste l'inversa di una funzione 
\(f\), è tagliare il grafico di \(f\) con una retta orizzontale: 
se la retta incrocia il grafico di \(f\) in più punti, \(f^{-1}\) non esiste.
\end{osservazione}

Ora vediamo come calcolare la derivata dell'inversa di una funzione di ci 
conosciamo la derivata.

Consideriamo il caso semplice che segue.
\begin{esempio}
Derivare \(f(x)=\sqrt{x^2}\), con \(x \ge 0\).\\
Si dirà: non c'è problema, \(f(x)\) corrisponde algebricamente a 
\(f(x)=\sqrt{x^2}=x\), perciò  \(f'(x)=1\).\\
Vero. Ma poniamo \(y=g(x)=x^2\) e \(f(x)=f(g(x))=\sqrt{g(x)}\).\\
Con la regola delle funzioni composte si ha:\\ 
\(f'(x)=f'(g)\cdot g'(x)= \dfrac{1}{2\sqrt{g(x)}}\cdot 2x =
\dfrac{1}{2\sqrt{x^2}}\cdot 2x=\dfrac{1}{2x}\cdot 2x = 1\).\\
Possiamo osservare che \(f'(g)\)  è il reciproco di \(g'(x)\) dato che 
il loro prodotto è \(1\). 
In questo caso, inoltre, bisogna segnalare che \(g'(x)\) esiste se 
\(x \ne 0\).
\end{esempio}
Dato che la composizione di una funzione con la sua inversa dà sempre la 
funzione identica e la derivata della funzione identica è \(1\), 
si intuisce che: \(\Deriv{f(g(x))} = f'(g) \cdot g'(x)=1\), allora 
\(g'(x) = \dfrac{1}{f'(g)}\).
% TODO: uniformare la riga precedente e tutto l'esempio al teorema seguente.
L'intuizione è corretta ed effettivamente questa regola vale. 
Occorre però precisare che la regola vale
\begin{enumerate} [noitemsep]
\item se esiste l'inversa della funzione da derivare;
\item se entrambe le funzioni sono derivabili;
\item se  \(f'(g)\ne 0\).
\end{enumerate}

\begin{inaccessibleblock}
[differenziale funzione inversa]
\begin{center}
\begin{minipage}[]{.55\textwidth}
\diffinversa
\end{minipage} 
\hfill
\begin{minipage}[]{.42\textwidth}
Se valgono tutte le condizioni, allora esistono la funzione
\(f\) e la sua inversa \(g=f^{-1}\). La funzione e la sua inversa, 
se esiste, hanno grafici simmetrici rispetto alla bisettrice \(y=x\).

Ogni punto \(\punto{x}{f^{-1}(x)}\) sulla curva della funzione inversa ha un
corrispondente \(\punto{y}{f(y)}\) sulla curva \(y=f(x)\), nella simmetria 
rispetto alla bisettrice. Guardiamo come si corrispondono i differenziali:
\(dx\) e \(dy\) di una curva sono invertiti rispetto ai differenziali 
dell'altra.
Quindi le derivate corrispondenti sono reciproche l'una con l'altra.
\end{minipage}
\end{center}
\end{inaccessibleblock}
\label{}

\begin{teorema}
\label{teo:derinversa}
% TODO: aggiustare le ipotesi.
% In realtà l'ipotesi sarebbe diversa, vedi Ruggero appunti per corso 
% Firenze
% Forse bisogna parlare di g inversa di f e non di g e f reciprocamente 
% inverse.
Le derivate di due funzioni \(f\), \(g\), inverse l'una dell'altra, se 
esistono e sono diverse da zero, sono reciproche l'una rispetto all'altra.
\end{teorema}
\noindent Ipotesi: \(y=f(x)\), \(x=g(y)\) \(f\), \(g\) derivabili, con 
\(f'\ne0\), \(g'\ne 0\).
\hspace{2cm} Tesi: \(f'(x)=\dfrac{1}{g'(y)}\).
\begin{proof}
Grazie alle proprietà della funzione \(\pst{}\), abbiamo:\\
\(f'(x)\cdot g'(y)=\pst{\dfrac{dy}{dx}}\cdot\pst{\dfrac{dx}{dy}}=
\pst{\dfrac{dy}{dx}\cdot\dfrac{dx}{dy}}=\pst{1}=1\)\\
per cui: \(f'(x)=\dfrac{1}{g'(y)}\).
\end{proof}
\begin{osservazione}
Dire che il Rapporto Differenziale \(\dfrac{dy}{dx}\) è reciproco di 
\(\dfrac{dx}{dy}\) non è banale come dire che la frazione \(\dfrac{3}{4}\) 
è reciproca di \(\dfrac{4}{3}\).
Una frazione è un rapporto fra numeri e genera un numero, il rapporto 
differenziale è un rapporto fra funzioni e genera una funzione. 
In più, in una frazione come la frazione \(\dfrac{3}{4}\) i numeri \(3\) 
e \(4\) sono indipendenti, invece il differenziale \(dy\) dipende da 
\(dx\) nel rapporto \(\dfrac{dy}{dx}\),  e \(dx\) dipende da \(dy\) nel 
rapporto inverso. \\
\end{osservazione}

% TODO: esempio di applicazione del teorema

A proposito della derivata delle funzioni potenza, abbiamo anticipato che la 
regola \(f'(x)= \alpha x^{\alpha-1}\) vale anche con esponenti razionali. 
Ora siamo in grado di giustificarlo:
\begin{proof}
Derivare \(y=f(x)=\sqrt[m]{x}\), con \(m \in \N\).\\
Poiché l'inversa \(g(y)=y^m\) ha derivata \(g'(y)=my^{m-1}\), ricordando il 
Teorema~\ref{teo:derinversa} calcoliamo:\\
\(f'(x)=\dfrac{1}{g'(y)}=\dfrac{1}{my^{m-1}}=
  \dfrac{1}{m(\sqrt[m]{x})^{m-1}}=
  \dfrac {1} {m} x^{-\frac{m-1}{m}}=\dfrac{1}{m} x^{\frac{1}{m}-1}\), 
con \(x\ne 0\),\\
ed è lo stesso risultato che si ottiene scrivendo \(f(x)=x^\frac{1}{m}\) e 
derivando in base alla regola delle funzioni potenza.

Il caso in cui \(y=f(x)=\sqrt[m]{x^n}=x^\frac{m}{n}\) si  dimostra in modo 
analogo, anche avvalendosi del Teorema \ref{teo:diff01_dericomp}.
Invece la dimostrazione valida per qualsiasi esponente reale è a 
pag.~\pageref{teo:funzione_potenza_generica}.
\end{proof}

\begin{esempio}
 Derivare \(y=f(x)=\sqrt[3]{x}\).\\
 Poiché l'inversa \(g(y)=y^3\) ha derivata \(g'(y)=3y^2\), per il 
Teorema~\ref{teo:derinversa}, calcoliamo:\\
\(f'(x)=\dfrac{1}{g'(y)}=\dfrac{1}{3y^2}=
 \dfrac{1}{3(\sqrt[3]{x})^2}=\dfrac{1}{3} x^{-\frac{2}{3}}\), 
con \(x\ne 0\).\\
Se esprimiamo \(f(x)\) come potenza, abbiamo:\\
\(f(x)=\sqrt[3]{x}=x^\frac{1}{3}\). 
Applicando la regola \(f'(x)= \alpha x^{\alpha-1}\) risulta: 
\(f'(x)=\dfrac{1}{3}x^{\frac{1}{3}-1}=\dfrac{1}{3}x^{-\frac{2}{3}}\)
e le due derivazioni danno lo stesso risultato.
\end{esempio}

Nel prossimo esercizio sfruttiamo sia la regola per la derivata di una 
funzione composta che la regola per la derivata della funzione inversa.
\begin{esempio}
Trova la derivata di \(f(x)=\dfrac{1}{\sqrt{5-x^2}}\).
\begin{enumerate}[noitemsep]
\item Usando il teorema \ref{teo:diff01_dericomp} e le regole 
precedenti:\\
\(f'(x)=\Deriv{\dfrac{1}{\sqrt{5-x}}}=
\Deriv{(5-x)^{-\frac{1}{2}}}=
-\dfrac{1}{2}(5-x)^{-\frac{3}{2}}(-1) = 
\dfrac{1}{2(\sqrt{5-x})^3}\).
\item Usando la regola del Teorema~\ref{teo:derinversa}:\\
Costruiamo la formula inversa con pochi passaggi algebrici: riavremo la 
stessa funzione, in cui \(y\) figura come variabile indipendente: 
\(x=f(y)\).\\
Quindi deriviamo: \(\Deriv{x}=x'=f'(y)=\pst{\dfrac{dx}{dy}}\).\\
\(f(x)=y=\dfrac{1}{\sqrt{5-x}}\srarrow y^2=\dfrac{1}{5-x} \srarrow 
y^{-2}=5-x\srarrow x=5-y^{-2}\)  (formula inversa)\\
\(x'=\pst{\dfrac{dx}{dy}}=2y^{-3}=\dfrac{2}{y^3}\) 
(derivata della funzione inversa)\\
\(\srarrow y'=\pst{\dfrac{dy}{dx}}=\dfrac{y^3}{2}=
\dfrac{1}{2(\sqrt{5-x})^3}\).
\end{enumerate}
\end{esempio}

% \section{Derivata di funzioni trascendenti}
% \label{sec:differenziazione_trascendenti}
% 
% \subsection{Derivata della funzione esponenziale}
% \label{subsec:differenziazione_derivatafesponenziale}
% 
% \subsection{Derivata della funzione logaritmo}
% \label{subsec:differenziazione_derivataflogaritmo}
% 
% \subsection{Derivata della funzione seno}
% \label{subsec:differenziazione_derivatafseno}
% 
% \subsection{Derivata della funzione coseno}
% \label{subsec:differenziazione_derivatafcoseno}
% 
% \subsection{Derivata della funzione tangente}
% \label{subsec:differenziazione_derivataftangente}
% 
% \section{Riassunto}
% \label{sec:differenziazione_sunto}
% 
% \subsection{Differenziale}
% \label{subsec:differenziazione_differenziale}
% 
% \subsection{Schema riassuntivo}
% \label{subsec:differenziazione_schemaderivate}
% 
% \section{Applicazioni delle derivate}
% \label{sec:differenziazione_applicazioni}
% 
% \subsection{Derivata e tangente}
% \label{subsec:differenziazione_derivataetangente}
% 
% \subsection{Derivata e normale}
% \label{subsec:differenziazione_derivataenormale}
% 
% \subsection{Derivata della derivata}
% \label{subsec:differenziazione_derivataseconda}
% 
% \subsection{Altre applicazioni}
% \label{subsec:differenziazione_altreapplicazioni}

\section{Derivare funzioni trascendenti}
\label{sec:diff01_deritrasc}
Finora abbiamo imparato a derivare le funzioni algebriche. In 
questa sezione ci occupiamo della derivata delle funzioni trascendenti.

\subsection{Derivata di \(f(x)=a^x\)}
\label{subsubsec:deri_a_alla_x}
Il grafico di una generica funzione esponenziale \(y=a^x\), confrontato con 
il grafico dell'andamento delle sue pendenze è una sorpresa rispetto ai 
confronti che abbiamo fatto per altre funzioni. 
Prendiamo ad esempio la funzione \(f(x) = 1,5^x\).
Possiamo osservare che:
\begin{enumerate} [nosep]
\item dato che la funzione è sempre crescente: 
la sua \emph{pendenza è sempre positiva};
\item per valori negativi (molto piccoli) dell'argomento, 
la \emph{pendenza è molto vicina a zero};
\item per valori positivi dell'argomento la \emph{pendenza cresce molto 
rapidamente}.
\end{enumerate}
Anche la funzione ha un andamento simile:
\begin{enumerate} [nosep]
\item la \emph{funzione è sempre positiva};
\item per valori negativi (molto piccoli) dell'argomento, 
la \emph{funzione è molto vicina a zero};
\item per valori positivi dell'argomento la \emph{funzione cresce molto 
rapidamente}.
\end{enumerate}

La funzione e la sua derivata si assomigliano, sono funzioni della stessa 
``famiglia''.
% I due grafici praticamente si accompagnano: 
% rivelano uguali pendenze in coppie di punti di uguale ordinata.

\begin{inaccessibleblock}
  [esponenziale e pendenze]
\hspace{-20mm}\affiancati{.55}{.43}{
\begin{center} \scalebox{.8}{   \esp} \end{center}
}{
\begin{center} \scalebox{.8}{\derivataesp} \end{center}
}
\end{inaccessibleblock}
\label{}
\begin{center} Il grafico di \(y=a^x\), con alcune sue tangenti, e 
la sua derivata.\end{center}

% \begin{inaccessibleblock}
%   [esponenziale e pendenze]
%   \begin{minipage}[]{.49\textwidth}
% \begin{center} \scalebox{.8}{   \esp} \end{center}
%  \end{minipage} 
%   \hfill
%  \begin{minipage}[]{.49\textwidth}
% \begin{center} \scalebox{.8}{\derivataesp} \end{center}
%  \end{minipage}
% \end{inaccessibleblock}
% \label{}
% \begin{center} Il grafico di \(y=a^x\), con alcune sue tangenti, e 
% la sua derivata.\end{center}

Anche se i due grafici non sono identici, le pendenze delle tangenti 
sembrano avere un andamento anch'esso esponenziale: la derivata della 
funzione ha un grafico che somiglia molto al grafico della funzione. 
Possiamo dimostrare il seguente teorema:



\begin{teorema}
La derivata della funzione esponenziale è proporzionale alla funzione 
stessa:
\[\Deriv{a^x}=k \cdot a^x\]
\end{teorema}
\noindent Ipotesi: \(f(x)=a^x\). \tab \(f'(x)=k \cdot a^x\).
\begin{proof}
Calcoliamo il differenziale e il Rapporto Differenziale: 
\[df=a^{x+dx}-a^x=a^xa^{dx}-a^x=a^x\tonda{a^{dx}-1} \qquad
RD=\dfrac{df(x)}{dx}=\dfrac{\tonda{a^{dx}-1}}{dx}a^x\]
Per poter calcolare la derivata il Rapporto Differenziale deve essere 
finito.
\begin{itemize}
\item 
\(a^x\) è senz'altro finito, dato che è una funzione reale definita per ogni 
valore di \(x\);
\item 
e \(\dfrac{\tonda{a^{dx}-1}}{dx} = \dfrac{\tonda{a^{0+dx}-a^0}}{dx}\) 
è finito dato che la funzione esponenziale è continua.
\end{itemize}
Possiamo quindi calcolare la parte standard:
\[f'(x)= \pst{\dfrac{df(0)}{dx}\cdot a^x}=f'(0) \cdot f(x)\]
Quindi \emph{la derivata di una funzione esponenziale è uguale alla
funzione stessa, moltiplicata per la pendenza della funzione in} \(x=0\).
\end{proof}



% 
% Sviluppiamo matematicamente questa intuizione, ricordando le proprietà
% delle potenze.\\
% Differenziale di \(f(x)=a^x\): \quad
% \(df=a^{x+dx}-a^x=a^xa^{dx}-a^x=a^x\tonda{a^{dx}-1}\).\\
% \(RD=\dfrac{df(x)}{dx}=\dfrac{\tonda{a^{dx}-1}}{dx}a^x\).\\
% Per poter derivare occorre che il rapporto sia finito.
% 
% L'espressione del Rapporto Differenziale contiene sia \(a^x\), che è una 
% funzione esponenziale e per ogni fissato \(x\) genera un numero finito, 
% sia il fattore \(\dfrac{\tonda{a^{dx}-1}}{dx}\) che è da interpretare.\\
% % \(\dfrac{\tonda{a^{dx}-1}}{dx}= \dfrac{a^{(0+dx)}-a^0}{dx}=
% % \dfrac{d(a^x)}{dx}\bigg |_{x=0}= \dfrac{df(0)}{dx}\).\\
% \(\dfrac{\tonda{a^{dx}-1}}{dx}= \dfrac{a^{(0+dx)}-a^0}{dx}=
% \dfrac{d(a^0)}{dx}= \dfrac{df(0)}{dx}\).\\[3pt]
% Quindi il Rapporto Differenziale della funzione esponenziale risulta:\\
% \(RD=\dfrac{df(x)}{dx}=\dfrac{\tonda{a^{dx}-1}}{dx}a^x=
% \dfrac{df(0)}{dx}\cdot a^x\)\\[3pt]
% cioè il prodotto fra l'esponenziale stesso 
% \(a^x\) e il Rapporto Differenziale di \(a^x\) calcolato per \(x=0\).
% % Dobbiamo presumere che quest'ultimo sia un numero non infinito per 
% % proseguire nel ragionamento e in effetti lo potremo verificare fra poco.
% Se questo valore è finito, come vedremo tra poco, possiamo continuare 
% applicando la parte standard e otteniamo:\\[3pt]
% \(f'(x)= \pst{\dfrac{df(0)}{dx}\cdot a^x}=f'(0)\cdot f(x)\).
% 
% % \emph{La derivata di una funzione esponenziale è proporzionale alla
% % funzione stessa, attraverso un fattore che corrisponde alla derivata 
% % calcolata in} \(x=0\).
% \emph{La derivata di una funzione esponenziale è uguale alla
% funzione stessa, moltiplicata per la pendenza della funzione in} \(x=0\).

% Volevamo calcolare la derivata di \(f(x)=a^x\) e ci ritroviamo con
% un risultato che contiene la derivata stessa \(f'(0)\), insomma non si 
% direbbe che ci siano stati grandi progressi. 
Se esiste una funzione esponenziale che in zero ha pendenza \(1\), 
allora la derivata della funzione è uguale alla funzione stessa.
% Ma fingiamo per un attimo che \(f'(0)\) non incida sul risultato, cioè 
% che \(f'(0)=1\). 
% In questo modo la funzione e la sua derivata sarebbero proprio identiche 
% e i due grafici sarebbero sovrapponibili.\\

In conclusione: perché una funzione esponenziale generica \(a^x\) coincida 
con la sua derivata occorre che la base sia \(a=e\): \(f(x)=e^x\) è la 
funzione esponenziale pura.

\begin{teorema}
Esiste una funzione esponenziale la cui derivata coincide con la 
funzione stessa: \(\Deriv{a^x}=a^x\)
\end{teorema}
\noindent Ipotesi: \(f(x)=a^x\). \tab 
          Tesi: Esiste un \(a\) per cui \(f'(x)=a^x\).
\begin{proof}
Dato che \(f'(x) = f'(0) \cdot f(x)\), 
dobbiamo trovare una base per cui \(f'(0)=1\):
\[f'(0) = \pst{\dfrac{a^{dx}-1}{dx}} = 1 \srarrow 
\dfrac{a^{dx}-1}{dx} \approx 1 \srarrow 
a^{dx}-1 \approx dx \srarrow 
a^{dx} \approx dx +1 \]
Elevando entrambi i membri per \(\frac{1}{dx}\):
\[a \approx (1 +dx)^\frac{1}{dx} \approx \pst{(1 +dx)^\frac{1}{dx}} = e\]
\end{proof}

% Attraverso l'uso del numero \(e\) siamo finalmente in grado di derivare la 
% funzione esponenziale generica \(f(x)=a^x\) e così risolvere anche i dubbi 
% sulla finitezza del Rapporto Differenziale.
% 
% \(f'(0)=1 \srarrow \pst{\dfrac{a^{dx}-1}{dx}}=1\srarrow a^{dx}\sim dx +1
% \srarrow a\sim(1 +dx)^\frac{1}{dx}\).\\[3pt]
% Questa espressione individua un ben preciso numero, il Numero di Nepero 
% \(e=\pst{(dx+1)^\frac{1}{dx}}\).
% 
% In conclusione: perché una funzione esponenziale generica \(a^x\) coincida 
% con la sua derivata occorre che la base sia \(a=e\): \(f(x)=e^x\) è la 
% funzione esponenziale pura.

% Quindi \emph{la funzione  esponenziale pura \(f(x)=e^x\) 
% coincide con la sua derivata}:
% \[\Deriv{e^x} = e^x\]

% Quindi arriviamo al seguente teorema
Conseguenza dei due teoremi precedenti è il seguente
\begin{teorema}
La derivata della funzione esponenziale \(f(x)=e^x\) coincide con la 
funzione stessa: \(\Deriv{e^x}=e^x\)
\end{teorema}
\noindent Ipotesi: \(f(x)=e^x\). \tab \(f'(x)=e^x\).
\begin{proof}
\[\Deriv{e^x} = \Deriv{e^0} \cdot e^x = 1 \cdot e^x\ = e^x\]
\end{proof}
È stato dimostrato che questa è l'unica funzione che coincide con la sua 
derivata.

\begin{teorema}
  La derivata della funzione esponenziale generica \(f(x)=a^x\), con 
\(a>0\), è:\\ 
\(f'(x)= a^x\ln{a}\).
\end{teorema}
\noindent Ipotesi: \(f(x)=a^x\); \tab Tesi: \(f'(x)=a^x\ln{a}\).
\begin{proof}
Usiamo una trasformazione appresa con lo studio dei logaritmi e applichiamo 
il teorema a pag.~\pageref{teo:diff01_dericomp}:
\(f(x)~=~a^x~=~e^{\ln a^x}\). 
Se poniamo \(g(x)=\ln a^x=x\ln a\), si ottiene:
\[f(g(x))=e^{g(x)} \srarrow f'(g(x))=f'(g) \cdot g'(x) = 
e^{x\ln a} \cdot \ln a = e^{\ln a^x} \cdot \ln a = a^x\ln a\]
\end{proof}
\begin{esempio}
Calcola la derivata di \(f(x)=3e^{x-1}\).

Poniamo \(g(x)=x-1\), quindi \(f(x) = 3e^{g(x)}\): 
\[f'(x) = \Deriv{3e^{g(x)}} \cdot \Deriv{x-1} = 
          3e^{g(x)} \cdot 1 = 3e^{x-1}\]
\end{esempio}
\begin{esempio}
Calcola la derivata di \(f(x)=e^{x^2}\).

Poniamo \(g(x)=x^2\), quindi \(f(x)=e^{g(x)}\): 
\[f'(x) = \Deriv{e^{g(x)}} \cdot \Deriv{x^2} = 
          e^{g(x)} \cdot 2x = 2xe^{x^2}\]
\end{esempio}

\begin{esempio}
Calcola la derivata di \(f(x)=2^{x^2}\).

Poniamo \(g(x)=x^2\), quindi \(f(x)=2^{g(x)}\): 
\[f'(x) = \Deriv{2^{g(x)}} \cdot \Deriv{x^2} = 
          \tonda{2^{g(x)} \cdot \ln 2} \cdot 2x = 
          x \cdot \ln 2 \cdot 2^{x^2} \cdot 2 = 
          x \ln 2 \cdot 2^{x^2+1}\]
\end{esempio}

\subsection{Derivata di \(f(x)=\log_a x\)}
\label{}

Iniziamo con un caso particolare.
\begin{esempio}
Calcola la derivata di \(f(x)=e^{\ln x}\).

Poniamo \(g(x)=\ln x\), quindi \(f(x)=e^{g(x)}\): 
\[f'(x) = \Deriv{e^{g(x)}} \cdot \Deriv{\ln x} = 
e^{\ln x} \cdot \dots \stext{???}\]
Siamo passati dal cercare \(\Deriv{e^{\ln x}}\) al cercare 
\(\Deriv{\ln x}\) non abbiamo fatto un gran passo avanti!
Ma rifacendoci alla definizione di logaritmo possiamo osservare che 
\(e^{\ln x} = x\) che ha quindi come derivata: \(1\).
\end{esempio}

Ma ragioniamo un po' sulle due funzioni: \(g(x)=\ln x\) e \(f(x)=e^x\)
possiamo osservare che:

Per definizione, \(e^{\ln x} = x\) e, 
per le proprietà dei logaritmi, \(\ln e^x = x \ln e = x\)
quindi il logaritmo naturale \(g(x) = \ln x\) e 
la funzione esponenziale \(f(x) = e^x\) sono due funzioni inverse una 
dell'altra, dato che la loro composizione dà la funzione identica.

Possiamo quindi usare il teorema della derivata delle funzioni inverse jper 
dimostrare il seguente
\begin{teorema}
La derivata della funzione logaritmo naturale è: 
\(\Deriv{\ln x} = \dfrac{1}{x}, \stext{con} x>0\).
\end{teorema}

\noindent\begin{minipage}[]{.43\textwidth}
\begin{inaccessibleblock}
[esponenziale e logaritmo]
\begin{center} \scalebox{.9}{\esplog} \end{center}
\end{inaccessibleblock}
\end{minipage} 
\hfill
\begin{minipage}[]{.55\textwidth}
\noindent Ipotesi: \(f(x)=\ln x, \mbox{ con } x>0\) \tab
\noindent Tesi: \(f'(x)=\dfrac{1}{x}\)
\begin{proof}
Usando la regola della derivazione delle funzioni inverse, \\
\[\tonda{\Deriv{f^{-1}(x)} = \dfrac{1}{\Deriv{(f^{-1}(x)}}}
\quad \text{otteniamo:}\]
\[\Deriv{\ln x}=\dfrac{1}{\Deriv{e^{g(x)}}} = 
  \dfrac{1}{e^{\ln x}} = \dfrac{1}{x}\]
Ovviamente la derivata del logaritmo esiste solo nel suo insieme di 
definizione.
% La dimostrazione è nei ragionamenti dell'esempio precedente, ai quali 
% bisogna aggiungere le precauzioni perché le due funzioni siano 
% invertibili e derivabili: poiché \(\ln x\) esiste per \(x>0\), 
% i ragionamenti valgono solo per \(x>0\)
\end{proof} 
\end{minipage}
\label{}
\\

Vediamo ora il caso generale, quando la base del logaritmo è genericamente 
\(a>0\).
\begin{teorema}
La derivata della funzione logaritmo in base \(a\) è: 
\(\Deriv{\log_a x}= \dfrac{1}{x\ln a}\).
\end{teorema}
\noindent Ipotesi: \(f(x)=\log_a x\). \tab \(f'(x)=\dfrac{1}{x\ln a}\)
\begin{proof}
Si ottiene direttamente dalla formula del cambiamento di base:\\
\[\Deriv{\log_a x} = \Deriv{\dfrac{1}{\ln a}\ln x} = 
  \dfrac{1}{\ln a} \cdot \Deriv{\ln x} = \dfrac{1}{x \ln a}\]
\end{proof}

\begin{esempio}
Derivare la funzione \(f(x)=Log(x^2+1)^2\).\\

Possiamo vedere la funzione come composta da tre funzioni:

\(h(x)=(x^2+1) \srarrow g(x)=(h(x))^2\srarrow f(x)=Log(g(h((x)))\)

Applichiamo quindi i teoremi precedenti:
\[f'(x) =
% f'(g) \cdot g'(h) \cdot h(x) =
\dfrac{1}{\ln 10}
\dfrac{1}{g(h)}g'(h) h'(x)=
\dfrac{1}{(\ln 10)(x^2+1)^2} \cdot 2(x^2+1) \cdot 2x =
\dfrac{4x}{(\ln 10)(x^2+1)}\]
% Nota che \(g(x)=(x^2+1)^2\) è a sua volta una funzione composta del tipo 
% \(g(x)=\quadra{h(x)}^2\) e quindi è stata applicata la regola della 
% derivata di più funzioni composte.
\end{esempio}

Abbiamo ora tutti gli strumenti per convalidare l'osservazione al teorema 
\ref{diff01_teoderpotenza}, a proposito delle funzioni potenza.

\begin{teorema}
\label{teo:funzione_potenza_generica}
La derivata della funzione potenza \(f(x)=x^\alpha\) è: \hspace{5mm}
\(\Deriv{x^\alpha}=(\alpha-1)x^\alpha\), \(\forall\alpha in \R\).
\end{teorema}
\noindent Ipotesi: \(f(x)=x^\alpha\). \tab \(f'(x)=(\alpha-1)x^\alpha\), 
\(\forall \alpha\).
\begin{proof}
Combinando alcune delle regole precedenti, si ha:
\[f(x) = x^\alpha= e^{\ln x^\alpha}=e^{\alpha\ln x}\]
\[f'(x)=e^{\alpha\ln x}\alpha\dfrac{1}{x}=x^\alpha\dfrac{\alpha}{x}=
\alpha x^{\alpha-1}\]
Il teorema vale per qualsiasi esponente poiché non è stata fatta nessuna 
particolare ipotesi sull'esponente 
(intero o razionale, positivo o negativo, o irrazionale).
\end{proof}

\begin{esempio}
Derivare \(f(x)=x^{\sqrt{2}}\).

\[f'(x)=\sqrt{2}x^{\sqrt{2}-1}\]
\end{esempio}

\subsection{Derivata di funzioni circolari}
\label{subsec:differenziazione_circolari}

Prima di affrontare il problema della derivazione delle funzioni 
circolari, cerchiamo di chiarirci cosa succede al seno e al coseno 
quando l'arco aumenta di una quantità infinitesima.

\affiancati{.34}{.64}{
\hspace{-10mm}\scalebox{1}{\dsincos}
\label{fig:differenziazione_dsincos}
}{
Ovviamente alla scala naturale, gli archi (e angoli) \(x\) e \(x +dx\) 
non sono distinguibili: appaiono sovrapposti.
Per poterli distinguere dobbiamo operare un ingrandimento infinito nel 
punto \(A\).
Nel microscopio non standard ora è visibile \(dx = AB\) quindi i punti 
\(A\) e \(B\) appaiono distinti. 
Possiamo tracciare il triangolo rettangolo \(ABC\) con i cateti paralleli 
agli assi:
\begin{itemize} [nosep]
\item \(CB\) rappresenta il differenziale della funzione seno; 
\item \(AC\) rappresenta il differenziale della funzione coseno. 
\end{itemize}
Il triangolo infinitesimo \(ABC\) è simile al triangolo \(AOD\) e
l'angolo \(\widehat{ABC}\) è uguale a \(x\).
}

\subsubsection{Derivata di \(f(x)=\sen x\)}
\begin{teorema}
La derivata della funzione \(f(x)=\sen x\)~~è~~\(f'(x)=\cos x\): \quad 
\(\Deriv{\sen x} = \cos x\)
\end{teorema}
\noindent Ipotesi: \(f(x)=\sen x\) \tab \(f'(x)=\cos x\)
\begin{proof}
Poiché l'angolo \(\widehat{ABC}\) è uguale a \(x\), possiamo calcolare 
il segmento orientato \(CB\) usando la trigonometria: 
\quad \(BC = AB \cdot \cos x\). 
Operando le sostituzioni visualizzate in figura, il Rapporto Differenziale 
risulta:
\[RD = \dfrac{d \sen x}{dx} = \dfrac{CB}{AB} = 
       \dfrac{AB \cdot \cos x}{AB} = 
       \dfrac{dx \cdot \cos x}{dx} = \cos x\]
Dato che \(\cos x\) è un numero reale, la sua parte standard esiste e 
coincide con il numero stesso, e questa è la derivata.
\end{proof}

% Anche per queste funzioni dobbiamo dapprima definire il differenziale. 
% Per una migliore comprensione, ci affidiamo soprattutto al piano cartesiano.
% 
% Abbiamo già visto (pag.~\pageref{limiti:par_f_seno}) che per angoli 
% infinitesimi il seno e l'angolo sono indistinguibili: \\
% \(\st\tonda{\frac{\sen \epsilon}{\epsilon}}=1\).
% Dall'analisi del disegno ricaviamo l'espressione del differenziale della 
% funzione seno: \\
% \(df(x)=d(\sen x)= \sen (x+dx) -\sen x\).
% 
% \begin{inaccessibleblock}
%   [differenziale del seno]
%   \begin{minipage}[]{.40\textwidth}
%    \dseno 
%  \end{minipage} 
%   \hfill
%  \begin{minipage}[]{.56\textwidth}
% Nell'ingrandimento al microscopio non standard, l'incremento infinitesimo 
% di arco \(\overset{\frown}{AB}\) (che corrisponde all'incremento di 
% angolo da \(x\) a \(x+dx\)) è racchiuso fra due raggi indistinguibili da 
% segmenti paralleli nei punti \(A\equiv \punto{x}{\sen x}\) e \(B\equiv 
% \punto{x+dx}{\sen(x+dx)}\). 
% L'arco, a sua volta, risulta indistinguibile dal segmento rettilineo 
% \(AB\).
% I segmenti che uniscono \(A\) e \(B\) con le loro proiezioni sull'asse 
% \(X\) sono verticali e paralleli, perciò \(ABC\) è un triangolo 
% rettangolo infinitesimo, simile al triangolo \(BOC\). La sua altezza 
% \(BC\) corrisponde a \(d\sen x\). 
%  \end{minipage}
% \end{inaccessibleblock}
% \label{fig_diff01dseno}\\
% 
% Risolviamo il triangolo rettangolo \(ABC\) rispetto al lato \(BC\):\\
% \(BC=AB\cdot \cos x \srarrow d(\sen x)= dx\cdot cos x\)  
% 
% \begin{teorema}
%   La derivata della funzione \(f(x)=\sen x\) è \(\Deriv{\sen 
% x}=\cos x\).
% \end{teorema}
% \noindent Ipotesi: \(f(x)=\sen x\). \tab \(f'(x)=\cos x\).
% \begin{proof}
%  Il commento al disegno giustifica la tesi. 
% \end{proof}
% 
% \begin{osservazione}
% Si potrebbe criticare il metodo per la dimostrazione: chi assicura che 
% negli altri quadranti le relazioni fra le variabili non cambino? 
% Saremo troppo legati al disegno?\\
% Ci sono altri modi per dimostrare la tesi, più vincolati al calcolo
% e meno al disegno.  Per esempio, dalle formule di addizione abbiamo:
% \(RD=\sen(x+dx)=\sen x \cos dx + \sen dx \cos x\). Allora:\\
% \(\dfrac{\sen(x+dx)-\sen x}{dx}=\dfrac{\sen x \cos dx + \sen dx \cos x -
%   \sen x}{dx}=\\
% =\sen x \dfrac{\cos dx-1}{dx}+ \cos x\dfrac{\sen dx}{dx}\sim
% \sen x\cdot 0 + \cos x\cdot 1=\cos x\),\\
% in cui si fa uso delle forme indeterminate discusse a pag. 
% \pageref{subsubsec:insnum_fseno}. Quando poi, per ottenere la derivata, 
% si applica la parte standard, gli infinitesimi che vengono sottointesi dal 
% segno \(\sim\) si eliminano e si ha l'uguaglianza in tutti i passaggi.
% \end{osservazione}

\begin{osservazione}
Si può dimostrare lo stesso teorema anche usando la formula di addizione 
del seno:
\(\sen(\alpha+\beta) = 
\sen \alpha \cdot \cos \beta + \sen \beta \cdot \cos \alpha\) e 
i limiti presentati a pag. \pageref{subsubsec:insnum_fseno}. 
\begin{align*}
RD &= \dfrac{\sen(x+dx)-\sen x}{dx} =
      \dfrac{\sen x \cdot \cos dx + \sen dx \cdot \cos x - \sen x}{dx} = \\
   &= \sen x \dfrac{\cos dx-1}{dx}+ \cos x\dfrac{\sen dx}{dx}
\end{align*}
Il Rapporto differenziale ottenuto è un numero finito per cui possiamo 
calcolare la parte standard:
\begin{align*}
\Deriv{\sin x} &= \pst{RD} = 
    \pst{\sen x \dfrac{\cos dx-1}{dx} + \cos x\dfrac{\sen dx}{dx}} = \\
&=  \pst{\sen x} \cdot \pst{\dfrac{\cos dx-1}{dx}} + 
    \pst{\cos x} \cdot \pst{\dfrac{\sen dx}{dx}} = \\
&=  \sen x\cdot 0 + \cos x\cdot 1 = \cos x
\end{align*}
\end{osservazione}

\begin{osservazione}
Anche il grafico dell'andamento delle tangenti conferma la tesi\\
\begin{inaccessibleblock}
  [esponenziale e pendenze]
\affiancati{.55}{.43}{
\hspace*{-10mm} \scalebox{1}{\seno}
}{
\vspace*{-2mm} \hspace*{-17mm} \scalebox{1}{\derivataseno}
}
\end{inaccessibleblock}
\label{}
\begin{center} Il grafico di \(y = \sin x\), con alcune sue tangenti, e 
la sua derivata.\end{center}

% \begin{inaccessibleblock}
%   [differenziale del seno]
%   \begin{minipage}[]{.47\textwidth}
%     \begin{center} \senov \end{center}
%  \end{minipage} 
%   \hfill
%  \begin{minipage}[]{.47\textwidth}
%  \begin{center} \tangentiseno \end{center}
%  \end{minipage}
% \end{inaccessibleblock}
% \label{}
\end{osservazione}

\begin{esempio}
Quale pendenza ha il grafico di \(y=\sen x\) nell'origine?\\
\(f(x)= \sen x \srarrow f'(x)=\cos x\srarrow f'(0)=\cos 0=1\).\\
La tangente al grafico nell'origine è la retta \(y=x\).
\end{esempio}

\begin{esempio}
Derivare le funzioni: 
\(f(x)=\sen 2x; \quad g(x)= \sen x^2; \quad h(x) = \sen^2 x\).
\begin{itemize}
\item \(\Deriv{\sen 2x} = \cos 2x \cdot 2 = 2 \cos 2x\)
\item \(\Deriv{\sen x^2} = \cos x^2 \cdot 2x = 2x \cos x^2\)
\item \(\Deriv{\sen^2 x} = \tonda{2 \sen x} \cdot \cos x = 
                           2 \sen x \cdot \cos x\)
\end{itemize}
\end{esempio}

\begin{esempio}
Derivare \(f(x)=x^{\sen x}\).\\
Si tratta di una funzione di tipo nuovo, un misto fra una funzione potenza
e una funzione esponenziale. Si risolve con una trasformazione che abbiamo
già visto:
\[x^{\sen x}=e^{\ln \tonda{x^{\sen x}}}=e^{\sen x \cdot \ln x}\]
e con l'uso delle regole della funzione composta e del prodotto.
\[\Deriv{e^{\sen x \cdot \ln x}}=
  e^{\sen x \cdot \ln x}\tonda{\cos x \cdot \ln x +\dfrac{\sen x}{x}}=
  x^{\sen x}\tonda{\cos x \cdot \ln x +\dfrac{\sen x}{x}}\]
\end{esempio}

\subsubsection{Derivata di \(f(x)=\cos x\)}
Anche in questo teorema ci riferiamo alla 
figura di pag.\pageref{fig:differenziazione_dsincos}
\begin{teorema}
La derivata della funzione \(f(x)=\cos x\)~~è~~ \(f'(x)=-\sen x\): \quad 
\(\Deriv{\cos x} = -\sen x\)
\end{teorema}
\noindent Ipotesi: \(f(x)=\cos x\) \tab \(f'(x)=-\sen x\)
\begin{proof}
Poiché l'angolo \(\widehat{ABC}\) è uguale a \(x\), possiamo calcolare 
il segmento orientato \(AC\) usando la trigonometria: 
\quad \(AC = - AB \cdot \cos x\). 
Operando le sostituzioni visualizzate in figura, il Rapporto Differenziale 
risulta:
\[RD = \dfrac{d \sen x}{dx} = \dfrac{AC}{AB} = 
       \dfrac{-AB \cdot \sen x}{AB} = 
       \dfrac{-dx \cdot \sen x}{dx} = -\sen x\]
Dato che \(-\sen x\) è un numero reale, la sua parte standard esiste e 
coincide con il numero stesso, e questa è la derivata.
\end{proof}

\begin{osservazione}
Si può dimostrare lo stesso teorema anche usando la formula di addizione 
del coseno:
\(\cos(\alpha+\beta) = 
\cos \alpha \cdot \cos \beta - \sen \alpha \cdot \sen \beta\) e 
i limiti presentati a pag. \pageref{subsubsec:insnum_fseno}. 
\begin{align*}
RD &= \dfrac{\cos(x+dx)-\cos x}{dx} =
      \dfrac{\cos x \cdot \cos dx - \sen x \cdot \sen dx - \cos x}{dx} = \\
   &= \cos x \dfrac{\cos dx -1}{dx} - \sen x \dfrac{\sen dx}{dx}
\end{align*}
Il Rapporto differenziale ottenuto è un numero finito per cui possiamo 
calcolare la parte standard:
\begin{align*}
\Deriv{\cos x} &= \pst{RD} = 
    \pst{\cos x \dfrac{\cos dx -1}{dx} - \sen x \dfrac{\sen dx}{dx}} = \\
&=  \pst{\cos x} \cdot \pst{\dfrac{\cos dx-1}{dx}} - 
    \pst{\sen x} \cdot \pst{\dfrac{\sen dx}{dx}} = \\
&=  \cos x \cdot 0 - \sen x \cdot 1 = -\sen x
\end{align*}
\end{osservazione}

\begin{osservazione}
Anche il grafico dell'andamento delle tangenti conferma la tesi\\
\begin{inaccessibleblock}
  [esponenziale e pendenze]
\affiancati{.55}{.43}{
\hspace*{-10mm} \scalebox{1}{\coseno}
}{
\vspace*{-2mm} \hspace*{-17mm} \scalebox{1}{\derivatacoseno}
}
\end{inaccessibleblock}
\label{}
\begin{center} Il grafico di \(y = \cos x\), con alcune sue tangenti, e 
la sua derivata.\end{center}
\end{osservazione}

% \begin{teorema}
% La derivata della funzione \(f(x)=\cos x\) è \(\Deriv{\cos x}=-\sen x\).
% \end{teorema}
% \noindent Ipotesi: \(f(x)=\cos x\). \tab \(f'(x)=-\sen x\).
% \begin{proof}
% Il disegno con cui dimostrare la tesi è uguale a quello di pag.
% \pageref{fig_diff01dseno}. Lo puoi riprodurre, tenendo però l'attenzione
% concentrata sul segmento \(AC\).\\
% L'unica osservazione importante è che nel passare da \(x\) a \( x+dx\), 
% cioè mentre l'angolo cresce, il valore del coseno decresce. 
% Infatti, al contrario di quanto avviene per il seno, nel primo quadrante 
% si ha: \( \cos(x+dx)<\cos x\). 
% Questa è la ragione del segno meno nel risultato.
% \end{proof}
% 
% \begin{inaccessibleblock}
%   [differenziale del coseno]
%   \begin{minipage}[]{.47\textwidth}
%     \begin{center} \cosenov \end{center}
%  \end{minipage} 
%   \hfill
%  \begin{minipage}[]{.47\textwidth}
%  \begin{center} \tangenticoseno \end{center}
%  \end{minipage}
% \end{inaccessibleblock}
% \label{}

\begin{esempio}
Quale pendenza ha il grafico di \(y=\cos x\) per \(x=0\)?\\
\(f(x)= \cos x \srarrow f'(x)=-\sen x\srarrow f'(0)=-\sen 0=0\).\\
In \(x=0\) la tangente al grafico è orizzontale.
\end{esempio} 

\begin{esempio}
Derivare le funzioni: 
\(f(x)=4 \cos \dfrac{x}{2}; \quad h(x) = \cos^2 x; \quad g(x)= \cos x^2\).
\begin{itemize}
\item \(\Deriv{4 \cos \dfrac{x}{2}} = 
                  -4 \sen \dfrac{x}{2} \cdot \dfrac{1}{2} = 
                  -2 \sen \dfrac{x}{2}\)
\item \(\Deriv{\cos^2 x} = \tonda{2 \cos x} \cdot \tonda{-\sen x} = 
                           -2 \sen x \cdot \cos x\)
\item \(\Deriv{\cos x^2} = -\sen x^2 \cdot 2x = -2x \sen x^2\)
\end{itemize}
\end{esempio}

\begin{esempio}
Derivare \(f(x)=\cos^2 x +\sen^2 x\)\\
\(\Deriv{\cos^2 x +\sen^2 x} = 
    2 \cos x \cdot \tonda{-\sen x} + 2 \sen x \cdot \cos x = 
    - 2 \sen x \cdot \cos x + 2 \sen x \cdot \cos x = 0\)
\end{esempio}


\subsubsection{Derivata di \(f(x)=\tg x\)}
La funzione \(f(x)=\tg x\) non è definita per \(x = k \frac{\pi}{2}\), 
quindi anche la derivata non è definita per quei valori di \(x\).

\begin{teorema}
La derivata della funzione \(f(x)=\tg x\)~~è~~ 
\(f'(x)=\dfrac{1}{\cos^2 x}=1+tg^2 x\) % per \(x\ne \pm\frac{\pi}{2}\): 
\[\Deriv{\tg x} = \dfrac{1}{\cos^2 x}=1+tg^2 x\]
\end{teorema}
\noindent Ipotesi: \(f(x)=\tg x\) \tab 
\(f'(x)=\dfrac{1}{\cos^2 x}=1+tg^2 x\)
\begin{proof}
Usiamo la relazione goniometrica che lega la tangente al seno e al coseno:
\(\tg x=\frac{\sin x}{\cos x}\) e 
il teorema della derivata di un rapporto:
\begin{align*}
\Deriv{\tg x} &= \Deriv{\dfrac{\sin x}{\cos x}} =
\dfrac{\Deriv{\sen x}\cdot \cos x-\sen x\cdot \Deriv{\cos x}} {\cos^2 x}=
\dfrac{\sen^2 x +\cos^2 x}{\cos^2 x} = \dfrac{1}{\cos^2 x}
\end{align*}
La seconda espressione della derivata della tangente si ottiene così:
\[\Deriv{\tg x} = 
\dfrac{\sen^2 x +\cos^2 x}{\cos^2 x} = 
\dfrac{\sen^2 x}{\cos^2 x} + \dfrac{\cos^2 x}{\cos^2 x} = \tg^2+1\]
\end{proof}

\begin{osservazione}
Si può dimostrare lo stesso teorema anche usando le proprietà geometriche 
delle funzioni circolari. Nel disegno in è rappresentato un 
incremento non infinitesimo dell'arco \(x\), osserviamo che:

\affiancati{.29}{.69}{
\hspace*{-7mm} \scalebox{1}{\dtana}
}{
\begin{enumerate}
\item \(OH\), \(OA\) e \(OB\) sono lunghi \(1\);
\item nel triangolo rettangolo \(OHC\): l'ipotenusa \(OC\) è lunga 
\(\dfrac{1}{\cos x}\);
\item \(OE\) è equivalente a \(OC\); 
\item i triangoli isosceli \(OAB\) e \(OCE\) sono simili e il rapporto 
di similitudine è \(\dfrac{1}{\cos x}\), ne consegue che:
\(EC = AB \dfrac{1}{\cos x}\).
\end{enumerate}
}

Se passiamo ad un incremento infinitesimo \(dx\), i lati \(OC\) e \(OD\) 
sono indistinguibili nella scala dei reali, per poterli separare dobbiamo 
usare microscopi non standard. Entrambi i microscopi della figura seguente 
hanno lo stesso ingrandimento infinito.

\affiancati{.49}{.49}{
Per il principio di transfer, le proprietà geometriche della figura 
rimangono le stesse anche se i triangoli hanno un angolo infinitesimo.
\begin{enumerate}
\item quindi \(CE\) è uguale a \(AB \cdot \dfrac{1}{\cos x}\);
\item l'arco \(AB\) è l'incremento dell'angolo che, essendo infinitesimo, 
è indistinguibile dal segmento \(AB\); 
\item Il triangolo rettangolo \(CED\)  è simile al triangolo \(OLB\) 
e l'angolo \(ECD\) è \(x\).
\end{enumerate}
}{
\hspace*{-7mm} \scalebox{1}{\dtanb}
}
\[d(tg(x)) = CD = CE\dfrac{1}{\cos x} = 
\dfrac{AB}{\cos x} \cdot \dfrac{1}{\cos x} \sim 
\dfrac{dx}{\cos^2 x}\]
Trovato il differenziale, è immediato calcolare il Rapporto Differenziale:
\[RD = \dfrac{d(tg(x))}{dx} =\dfrac{dx}{dx \cdot \cos^2 x} = 
       \dfrac{1}{\cos^2 x} \]
Il Rapporto differenziale ottenuto è la derivata cercata.
\end{osservazione}

\begin{osservazione}
Anche il grafico dell'andamento delle tangenti conferma la tesi\\
\begin{inaccessibleblock}
  [esponenziale e pendenze]
\affiancati{.55}{.43}{
\hspace*{-10mm} \scalebox{1}{\tangente}
}{
\vspace*{-2mm} \hspace*{-17mm} \scalebox{1}{\derivatatangente}
}
\end{inaccessibleblock}
\label{}
\begin{center} Il grafico di \(y = \tg x\), con alcune sue tangenti, e 
la sua derivata.\end{center}
\end{osservazione}

% \begin{inaccessibleblock}
%   [differenziale della tangente]
%   \begin{minipage}[]{.49\textwidth}
%     \begin{center} \tangentev \end{center}
%  \end{minipage} 
%   \hfill
%  \begin{minipage}[]{.49\textwidth}
%  \begin{center} \tangentitangente \end{center}
%  \end{minipage}
% \end{inaccessibleblock}
% \label{}

\begin {esempio}
Quale è la pendenza del grafico di \(y=\tg x\), per \(x=\dfrac{\pi}{4}\)? 
E per \(x=\dfrac{\pi}{2}\)?\\
\(f'(x)=1+tg^2 x\srarrow f'(\dfrac{\pi}{4})=1+\tg^2\dfrac{\pi}{4}=2\)\\
\(f'(x)=1+tg^2 x\srarrow f'(\dfrac{\pi}{2})=1+\tg^2\dfrac{\pi}{2}=\) ???\\
Per \(x\approx\dfrac{\pi}{2}\) il grafico della funzione cresce 
verticalmente, la sua pendenza è un numero infinito e la parte standard 
di un infinito non esiste. 
D'altra parte, se \(x\) è esattamente uguale a \(\dfrac{\pi}{2}\) ,
la tangente non è definita.
\end {esempio}

\section{Applicazioni}
\label{sec:diff01_applicazioni}
Si è tanto parlato delle tangenti ai grafici di funzione e delle loro 
pendenze, senza mai arrivare a definire l'effettiva equazione delle 
tangenti che interessano. 

\begin{definizione}
La \emph{tangente ad una curva in un punto} \(P\punto{x_P}{y_P}\) 
è la retta passante per quel punto e che ha la stessa pendenza della 
funzione in quel punto. Se \(f'(x_P)\) è definito:
\[y = f'(x_P)\tonda{x - x_P} +y_P\]
Se il Rapporto Differenziale è un infinito:
\[x = x_P\]
\end{definizione}


Hai già incontrato negli anni scorsi dei problemi in cui si chiedeva di 
calcolare la tangente ad una parabola in un suo punto. 
Il metodo di calcolo algebrico che usavi era macchinoso (sistema tra la 
funzione e un fascio di rette, trovare i valori del parametro che 
annullano il discriminante) e, sfortunatamente, vale solo per le coniche. 
Il metodo delle derivate, invece, si rivela molto più generale e rapido.

Poiché la tangente è una retta, la sua equazione è del tipo 
\(y-y_P=m(x-x_P)\), dove  \(\punto{x_P}{y_P}\) è il punto di tangenza 
e \(m\) è la pendenza della retta, 
La pendenza della tangente è uguale alla pendenza della funzione il quel 
punto, quindi sarà: \(m=f'(x_P)\).
Combinando queste due formule otteniamo quanto scritto nella prima parte 
della definizione. 

Ci sono casi in cui la derivata non è definita perché il Rapporto 
Differenziale è infinito in questo caso la tangente esiste, ma non può 
essere scritta come funzione di \(x\), ma con l'equazione delle rette 
parallele all'asse \(y\). 
Come si vede nella seconda parte della definizione.

\begin{esempio}
Trova le equazioni delle tangenti alla parabola \(f(x)=x^2\) nei suoi punti
\(V~\equiv~\punto{0}{f(0)}\) e \(B\equiv\punto{-6}{f(-6)}\).\\
Soluzione. Nel punto \(V\): \(f'(0)~=~2\cdot 0~=~0=m\). La tangente è 
orizzontale e coincide con l'asse \(X\): \(y=~m(x~-~x_0)~+~y_0~=~0\).\\
Nel punto \(B\): \(f'(-6)=2 (-6)=-12\). \(m=-12\), la tangente è inclinata
verso il basso:
\(y=m(x-x_0)+y_0= -12(x+6)+36\srarrow y=-12x-36\).
\end{esempio}

% \pagebreak %--------------------------------------------------

\begin{esempio}
Trova i punti di intersezione con gli assi della tangente
alla curva \(f(x)=2x^3-x\) nel punto \(\punto{2}{f(2)}\).

\noindent Calcolo del valore della funzione in \(2\): \tab 
\(f(2) = 2 \cdot 2^3-2 = 14\)\\
Calcolo della pendenza in \(2\): \tab 
\(f'(x) = 6x^2-1 \srarrow f'(2) = 6 \cdot 2^2-1= 23\) \\
Da cui l'equazione della tangente: \tab 
\(y=23(x-2)+14=23x-32\)\\[5pt]
L'intersezione con l'asse \(x\): \tab 
\(y=0 \srarrow x=\dfrac{32}{23} \srarrow \punto{\dfrac{32}{23}}{0}\)\\[2pt]
con l'asse \(y\): \tab 
\(x=0 \srarrow y=-32 \srarrow \punto{0}{-32}\)

\end{esempio}

\begin{esempio}
In quale punto del suo grafico la parabola \(y=4x^2-3x+6\) è inclinata di 
\(45^\circ\)?

Nel punto che cerchiamo, la parabola avrà un'inclinazione 
indistinguibile da quella della tangente.
Le rette inclinate di \(45^\circ\) hanno pendenza \(m=1\), come la 
bisettrice del primo-terzo quadrante.  
Dobbiamo quindi imporre alla derivata il valore \(1\).
\[\Deriv{4x^2-3x+6} = 8x-3 = 1 \srarrow x =\dfrac{1}{2} 
\sstext{e il punto è:} 
\punto{\dfrac{1}{2}}{\dfrac{11}{2}}\]
\end{esempio}

\begin{esempio}
È vero che l'iperbole equilatera di equazione \(xy=16\) ha per vertici i 
punti medi del segmento che gli assi staccano sulle tangenti ai vertici? 

Consideriamo per comodità solo il ramo destro del grafico.
Il vertice sarà un punto \(V\) di coordinate uguali, essendo l'iperbole
equilatera. \\
Quindi \(V=V\punto{4}{4}\),
perché la funzione è \(y=\dfrac{16}{x}\),\\ 
la sua derivata in \(V\) è \tab 
\(f'(4)= -\dfrac{16}{4^2}=-1\)\\
e l'equazione della tangente in \(V\) è \tab \(y=-1(x-4)+4=-x+8\)\\
La retta \(y=-x+8\) interseca gli assi in: \tab 
\(\punto{8}{0}\) e \(\punto{0}{8}\) \\
ed è facile verificare che il punto \(V\) è medio fra i due. \\
Per ragioni di simmetria accade lo stesso con il vertice opposto 
\(\punto{-4}{-4}\).
\begin{osservazione}
In realtà si tratta di una proprietà generale dell'iperbole equilatera.
Qualsiasi retta tangente al grafico stacca sugli assi coordinati dei 
segmenti che hanno il punto medio coincidente con il punto di tangenza. 
Non è difficile dimostrarlo usando l'equazione generica \(yx=k^2\) e per 
punto di tangenza le coordinate \(\punto{a}{\dfrac{k^2}{a}}\).
\end{osservazione}
\end{esempio}

\begin{esempio}
È vero che è inclinato di \(30^\circ\) il raggio  
della circonferenza \(x^2+y^2=20\) che unisce l'origine al suo punto di 
ascissa \(4\)?

Risposta: No, non è vero. \\
Il modo più elementare per verificarlo è calcolare l'ordinata
del punto e cercare l'angolo di inclinazione dell'ipotenusa coincidente 
con il raggio.

L'alternativa è calcolare la derivata. Ma noi abbiamo imparato a calcolare 
la derivata di una funzione, mentre \(x^2+y^2=20\) non è una funzione.

Dato che il punto considerato appartiene al primo quadrante, consideriamo 
la funzione che rappresenta la semicirconferenza superiore:
\(x^2+y^2=20 \srarrow y=\sqrt{20-x^2}\). 
La sua derivata è:
\[f'(4)= \Deriv{\sqrt{20-x^2}}\bigg|_{x=4} =
\dfrac{-2x}{2\sqrt{20-x^2}}\bigg|_{x=4}=
\dfrac{-4}{\sqrt{20-16}}=\dfrac{-4}{2}=-2\]
Dunque la tangente ha una pendenza pari a \(-2\). Poiché il raggio e la 
tangente sono perpendicolari, la retta che contiene questo raggio avrà 
pendenza \(-\dfrac{1}{-2}=\dfrac{1}{2}\).

Se \(\Delta x\) è positiva, l'angolo è uguale a 
\(\arctan \dfrac{\Delta y}{\Delta x} = 
  \arctan 0,5 \simeq 26,565 \neq 30\)
\end{esempio}
 
\subsection{Derivata e normale}
\label{}
Come si vede dall'ultimo esempio, una volta che si sappia come calcolare 
la tangente ad una curva, il calcolo della normale risulta molto facile.
Poiché, in ogni punto di una funzione la tangente e la normale 
sono rette perpendicolari e quindi hanno i coefficienti angolari 
antireciproci, l'equazione della normale ad una curva \(y=f(x)\) in un punto 
\(\punto{x_P}{y_P}\)
sarà:\\
\(y=\dfrac{-1}{f'(x_P)}(x-x_P)+y_P\),\\
dove la pendenza della normale \(m_n=\frac{-1}{m_t}\) è appunto 
l'antireciproco della pendenza della tangente.

\begin{esempio}
Scrivi l'equazione della tangente e della normale alla curva di equazione
\(y=\dfrac{x^2-1}{\ln x -1}\) nel suo punto di ascissa \(1\). 

Calcoliamo la pendenza nel punto:
\[f'(x)|_{x=1}=\dfrac{2x(\ln x-1)-(x^2-1)\dfrac{1}{x}}
{(\ln x -1)^2}\bigg|_{x=1}=\dfrac{2\cdot 1(0-1)-(1-1)\cdot 
1}{(0-1)^2}=-2\]
Calcoliamo l'ordinata del punto: \tab
\(\dfrac{1^2-1}{\ln 1 -1}=0=y_0\)\\
L'equazione della tangente:
\(y=-2(x-1)=-2x+2\)\\
L'equazione della normale: 
\(y=\dfrac{1}{2}(x-1)=\dfrac{1}{2}x-\dfrac{1}{2}\)
\end{esempio}

\begin{esempio}
Scrivi l'equazione della tangente e della normale alla curva di equazione
\(f(x) = \dfrac{x^2+1}{\ln x +1}\) nel suo punto di ascissa \(1\).

\(y = f(1) = \dfrac{x^2+1}{\ln x +1} = \dfrac{1^2+1}{\ln 1 +1}= 
\dfrac{1+1}{0 +1}= 2\)\\
\(f'(x)|_{x=1}=
\dfrac{2x(\ln x+1)-(x^2+1)\dfrac{1}{x}}{(\ln x +1)^2}\bigg|_{x=1}=
\dfrac{2\cdot 1(0+1)-(1+1)\cdot 1}{(0+1)^2}=0\).\\
La tangente è quindi la retta orizzontale: \(y=2\)\\
di conseguenza la normale è la retta verticale: \(x=1\).
\end{esempio}

\subsection{Derivata della derivata}
\label{}
Abbiamo già notato che la derivata  di una funzione dipende dal punto in 
cui si 
calcola e che, una volta stabilito questo punto, ha un unico risultato,
se esiste.
Quindi la derivata di una funzione è a sua volta una funzione e,
se ci sono le condizioni, può essere derivata a sua volta.
\begin{definizione}
 Se una funzione \(f(x)\) è derivabile, la sua derivata è la funzione \(f'(x)\).
 Se anche \(f'(x)\) è derivabile, allora esiste la funzione \(f''(x)\) ed è
 chiamata \emph{derivata seconda di \(f(x)\)}.
\end{definizione}
Le regole di calcolo della derivata seconda sono le stesse regole che 
abbiamo già visto, quindi la seconda derivazione, se è possibile, non comporta 
problemi diversi da quelli conosciuti.

Riferendoci a un generico grafico di funzione \(y=f(x)\), la derivata prima 
\(f'(x)\) ci consente di trovare le pendenze delle tangenti al grafico. La
derivata seconda \(f''(x)\) descrive con quanta rapidità (o lentezza) variano 
queste pendenze, perciò ci indica quanto siano aperte o chiuse le concavità 
che \(y=f(x)\) disegna nel piano cartesiano.

In particolare vedremo che:
\begin{itemize}
\item 
dove la derivata seconda è positiva la pendenza aumenta sempre di più 
quindi la concavità è verso l'alto;
\item 
dove la derivata seconda è negativa la pendenza diminuisce sempre di più 
quindi la concavità è verso il basso;
\end{itemize}

Se le condizioni sono favorevoli, esistono e sono calcolabili anche le 
derivate terze, quarte, ecc. di una funzione, anche se non sono essenziali 
per i nostri scopi. Il loro calcolo segue i metodi già visti.

\begin{esempio}
Calcola \(f''(1)\) di \(f(x)=2x^5-3x^4+x^3+5x^2-6x+9\).

Derivata prima: 
\(f'(x)=10 x^4-12 x^3+3x^2+10 x-6\).\\
Derivata seconda per \(x=1\): 
\(f''(x)|_{x=1} = (40x^3-36x^2+6x+10)|_{x=1}=40-36+6+10=20\).
\end{esempio}

\begin{esempio}
Calcola \(f''(x)\) di \(f(x)=\ln x\).

\(f'(x)=\dfrac{1}{x}\) e \(f''(x)=-\dfrac{1}{x^2}\)
\begin{osservazione}
La funzione \(\ln x\) esiste per \(x>0\). Le derivate prima e seconda 
esistono per \(x\ne 0\).
In generale, l'esistenza di una derivata (prima, seconda, terza \dots) è
indipendente dall'esistenza della funzione da derivare. 
% TODO:
\textbf{?????????????}
\end{osservazione}
\end{esempio}

\begin{esempio}
Calcola le derivate successive di \(f(x)=\sen x\).\\
\(f'(x)=\cos x\) \hspace{1cm}  \(f''(x)=-\sen x\) \hspace{1cm}
\(f'''(x)=-\cos x\) \hspace{1cm} \(f^{IV}(x)=\sen x\) \dots
\end{esempio}

\begin {comment} 

\ifcoding
Con Python.
\lstinputlisting[firstline=2]{\folder src/01incremento.py} %, lastline=5]
\fi

Quindi la funzione ~ \texttt{incremento} ~ ha~\(3\) 
parametri, nel programma precedente l'ho invocata tre volte con argomenti 
diversi e ottenendo: nel primo caso~\(6\), nel secondo~\(2\) e nel 
terzo~\(0\). 
Ovviamente, utilizzando una funzione diversa, gli incrementi calcolati con 
gli stessi parametri saranno, in generale diversi. (Prova ad esempio 
con la funzione \(f(x)= 2^x\))

\begin{comment}
\subsubsection{Differenziale di una funzione}
\label{subsubsec:diff01_parteprincipale}

\subsection{Differenziale della variabile \(x\)}
=======
In matematica, e nelle sue applicazioni, sono particolarmente importanti 
gli incrementi che una funzione subisce quando la variabile 
indipendente (\(x\)) varia di una quantità infinitesima. Incrementi di 
questo tipo, se esistono e se sono infinitesimi, si chiamano ''differenziali``.

\begin{definizione}
 Il differenziale di una funzione è l'incremento infinitesimo, se c'è, 
 che la funzione subisce a causa di una variazione infinitesima della sua 
variabile indipendente \(x\), a partire da un valore fissato \(x\):
\[df(x) = f \tonda{x + \epsilon} - f(x).\]
\end{definizione}

Come già visto per l'incremento finito \(\Delta f\), anche il differenziale 
\(df\) 
dipende dall'espressione della funzione, dal valore fissato dove inizia la 
variazione della \(x\) e dal suo incremento infinitesimo~\(\epsilon\).\\
Quindi il differenziale di una funzione \(df\) è esso stesso  una funzione:
\(df=F(f, x, \epsilon)\).
\begin{osservazione}
Per segnalare che il simbolo \(df\) (oppure \(dx\), ecc.) non è il prodotto fra 
due variabili ma indica una differenza infinitesima, nella lettura si pronuncia:
\textit{de effe (de ics)}.
\end{osservazione}
\begin{osservazione}
I differenziali, essendo infinitesimi, sono osservabili solo con 
microscopi non standard.
\end{osservazione}

\begin{minipage}{.48 \textwidth}
\begin{esempio}
Vogliamo calcolare l'incremento della 
funzione:~\(f(x) = \dfrac{1}{4} x^2 -x -3\)
quando \(x\) parte da~\(7\) e aumenta di~\(\epsilon\).
\begin{align*}
  df(7) &= f(7+\epsilon) - f(7) = \\
        &= \dfrac{\tonda{7 +\epsilon}^2}{4}  -\tonda{7 +\epsilon} -3 - 
           \dfrac{7^2}{4}  +7 +3 =\\
        &= \dfrac{49 +14 \epsilon +\epsilon^2}{4} -10 -\epsilon - 
           \dfrac{49}{4} +10 =\\
        &= \dfrac{14 \epsilon +\epsilon^2}{4} -\epsilon 
        = \dfrac{10 \epsilon +\epsilon^2}{4} =\\
        &= 2,5 \epsilon + \dfrac{\epsilon^2}{4}, \quad \forall \epsilon. 
%\sim 2,5 \epsilon
\end{align*}
\end{esempio}
\end{minipage}
 \hfill
\begin{minipage}{.48 \textwidth}
 \begin{center}
\differenziale
 \end{center}
\end{minipage}
L'incremento della funzione è un differenziale: un infinitesimo che è la somma 
di due infinitesimi di ordine diverso. Il risultato non cambia 
sostanzialmente, se al posto di \(\epsilon\) svolgiamo lo stesso calcolo 
utilizzando un diverso infinitesimo \(\delta\). Per significare che il 
risultato non dipende dalla scelta dell'infinitesimo, si indica: \(\forall 
\epsilon\).

 
\subsection{Differenziale della variabile \(x\)}
>>>>>>> 32ec66d75f147bd133f36affa54bb3284453feee
\label{subsec:diff01_diffx}

Chiamiamo \(dx\) la differenza fra i due valori 
infinitamente vicini della funzione \(f(x)=x\) (\(dx\) si legge 
''\emph{de x}``).

Vogliamo calcolare il differenziale di \(f(x)=(x\) partendo dal 
punto \(x=x_0\) quando l'incremento è \(\epsilon\). In simboli: 
\(dx|_{x_0}\). 
Questa espressione si legge: ''\emph{de x, a partire da x zero}``.

Svolgendo i calcoli si ottiene:
\[dx|_{x_0}=(x_0+\epsilon)-x_0=\epsilon\]
Si può osservare che il risultato non dipende dal valore in cui viene 
calcolato il differenziale, ma solo dal valore dell'incremento \(\epsilon\),
infatti, nel risultato, \(x_0\) scompare.

\begin{osservazione}
 L'infinitesimo \(\epsilon\) potrebbe anche essere negativo, in questo caso 
sarebbe un ''decremento``. 
Il segno di \(\epsilon\) non cambia comunque il calcolo.

\(x_0 + \epsilon\) indica valori che possono trovarsi a destra di \(x_0\) 
(più grandi) o alla sua sinistra (più piccoli).
\end{osservazione}

\begin{comment}
\begin{esempio}
 Calcola il differenziale della variabile \(x\) nel punto \(x=-7\). Ripeti poi 
 il  calcolo in altri punti.\\
  \(dx|_{x=-7} =(-7+\epsilon)-(-7)=\epsilon\)\\
  \(dx|_{x=7} =(7+\epsilon)-7)=\epsilon\)\\
  \(dx|_{x=3} =(3+\epsilon)-3=\epsilon\)\\
  \(dx|_{x=\frac{1}{4}} = 
          \tonda{\frac{1}{4}+\epsilon}-\frac{1}{4}=\epsilon\)\\
  \(...\quad = \qquad ...\)\\
  \(dx|_{x=a}  =(a+\epsilon)-a=\epsilon\)\\
  \(dx|_{x=x_0}  =\ ...\ =\epsilon\)\\
  Se il risultato del differenziale è indifferente da \(x_0\), allora si 
 evita di indicare \(|_{x=x_0}\): \(dx=\epsilon\), \(\forall x\). 
\end{esempio}

\begin{esempio}
 Calcola il differenziale della variabile \(frac{10}{13}x\) nei punti \(x=9\) 
e 
 \(x=-\dfrac{1}{5}\).\\
 
\(d\tonda{\dfrac{10}{13}x}\bigg|_{x=9}=\quadra{\dfrac{10}{13}
\cdot(9+\epsilon)}-
  \dfrac{10}{13}\cdot 9 = \dfrac{10}{13}\epsilon.\)\\
 
\(d\tonda{\dfrac{10}{13}x}\bigg|_{x=-\dfrac{1}{5}}=\quadra{\dfrac{10}{13}
\cdot
  \tonda{-\dfrac{1}{5}+\epsilon}}-
 \dfrac{10}{13}\cdot \tonda{-\dfrac{1}{5}}= \dfrac{10}{13}\epsilon.\)\\
 \(d\tonda{\dfrac{10}{13}x}=\dfrac{10}{13}\epsilon\), \(\forall x\).
 \end{esempio}

Anche se due risultati uguali non bastano per fare una prova, e nemmeno i 
sei del primo esempio, si può essere sicuri che mille altri tentativi non
sortirebbero un esito diverso. La prova si ottiene utilizzando \(x_0\) 
(oppure una costante analoga) al posto di un valore numerico.

\begin{osservazione}
 L'infinitesimo \(\epsilon\) potrebbe anche essere negativo. Questo non 
cambierebbe il calcolo.\\
\end{osservazione}

L'uso di un valore numerico al posto di \(x_0\) è essenziale per precisare il
punto a partire dal quale si vuole svolgere il calcolo. Negli esempi 
precedenti tale indicazione è risultata indifferente, ma nella maggior 
parte dei casi, invece, ha un diretto influsso sul risultato.\\

\begin{esempio}
 Calcola \(df(x)|_{x=5}\), con \(f(x)=x^2\). Calcola poi \(df(x)|_{x=-5}\) 
 e infine \(df(x)|_{x=2}\).
 \begin{align*} 
  d(x^2)|_{x=5} & 
=(5+\epsilon)^2-5^2=25+10\epsilon+\epsilon^2-25=10\epsilon+\epsilon^2\\
  d(x^2)|_{x=-5}& 
=(-5+\epsilon)^2-(-5)^2=25-10\epsilon+\epsilon^2-25=-10\epsilon+\epsilon^2\\
  d(x^2)|_{x=2} & 
=(2+\epsilon)^2-2^2=4+4\epsilon+\epsilon^2-4=4\epsilon+\epsilon^2\\
 \end{align*}
\end{esempio}


\begin{osservazione}
 Non abbiamo fatto alcuna ipotesi su \(\epsilon\). 
 Potrebbe essere un infinitesimo positivo o negativo, 
 potrebbe essere il triplo o il quadrato di un altro infinitesimo. 
 Il risultato non cambia e ha valore per qualsiasi \(\epsilon\).
\end{osservazione}

\subsection{Differenziale di alcune funzioni}
\label{subsec:diff01_difffun}

% Nello svolgere i calcoli che seguono potremo indicare il differenziale in due
% modi diversi, ma equivalenti. Per esempio: \(df(7)\), come nell'esempio 
% precedente, oppure \(df(x)|_{x=7}\).\\
% Altro esempio: se \(f(x)= 5x-9\), il suo differenziale calcolato in \(x_0\) 
si 
% indica con:\\
% \(df(x_0)=f(x_0+\epsilon)-f(x_0)=5(x_0+\epsilon)-9- (5x_0-9)=\dots\)\\ oppure 
% con: \(df(x)|_{x=x_0}=f(x_0+\epsilon)-f(x_0)=\dots\). 

\begin{osservazione}
 L'infinitesimo \(\epsilon\) potrebbe anche essere negativo, in questo caso 
rappresenterebbe un ''decremento``. 
\(x_0 + \epsilon\) indica numeri iperreali che sulla retta iperreale possono
trovarsi a destra di \(x_0\) (più grandi) o alla sua sinistra (più piccoli).\\
\noindent Quando il segno di \(\epsilon\) diventerà importante ai fini del 
calcolo, ne tratteremo esplicitamente.\\
\end{osservazione}

Iniziamo a differenziare le funzioni più semplici, in un generico punto 
\(x_0\). Ma prima di tutto, una precisazione essenziale

\begin{osservazione}
 Il differenziale di una funzione è calcolabile solo negli intervalli in cui
 la funzione è continua, perché solo in questo caso a incrementi 
\emph{infinitesimi} di \(x\) corrispondono incrementi \emph{infinitesimi} di 
\(f(x)\).
\end{osservazione}

\subsubsection{Funzione costante}
\label{subsubsec:diff01_diffcostante}

Una funzione \(f(x)\) è costante se qualunque sia il valore di \(x\) il 
risultato 
è sempre lo stesso. Possiamo indicare questa funzione in diversi modi:
\[f: x \mapsto k \quad \text{o} \quad f(x)=k \quad \text{o} \quad y = k.\]

Il suo differenziale sarà:
\[df(x_0)=f(x_0+\epsilon)-f(x_0)=k-k=0,\quad \forall \epsilon.\]
Quindi, se la funzione è costante, il suo differenziale è nullo.
Infatti, avendo sempre lo stesso valore per qualsiasi \(x\), la differenza 
tra due suoi valori è zero. 

%\begin{figure}[h]
\begin{inaccessibleblock}
  [Differenziale di f costante]
 \begin{center}
 \begin{minipage}[]{.38 \textwidth}
  \diffcostante
%  \caption{\(y=k\srarrow dy=0\)}
 \end{minipage} 
 \hfill
 \begin{minipage}[]{.58 \textwidth}
Resta così dimostrato il seguente   
\begin{teorema}
Il differenziale di una costante è nullo.
\end{teorema}
Nel piano cartesiano, la funzione  \(y=k\) è una retta orizzontale e, come 
tutte le rette, è una funzione continua. Quindi il risultato non dipende da 
\(x_0\) e vale su tutto l'asse iperreale.
 \end{minipage}
 \end{center}
\end{inaccessibleblock}

\label{fig:diff01_diffcostante}
%\end{figure}

\subsubsection{Funzione identica}
\label{subsubsec:diff01_diffidentica}

La funzione identica (o identità) è una funzione che riceve un valore e dà 
come risultato lo stesso valore ricevuto. Possiamo indicare questa funzione 
in diversi modi:
\[f: x \mapsto x \quad \text{o} \quad f(x)=x \quad \text{o} \quad y = x.\]

Se \(f(x)=x\), allora, banalmente: \(df(x)=dx=\epsilon\). Il risultato è
generale, cioè non dipende da \(x_0\). Infatti:\\
\[df(x_0)=f(x_0+\epsilon)-f(x_0)=(x_0+\epsilon)-x_0=\epsilon,\]
ma anche
\[
 df(x)=f(x+\epsilon)-f(x)=(x+\epsilon)-x=\epsilon, \quad \forall \epsilon.
\]

%\begin{figure}[h!]
\begin{inaccessibleblock}
  [Differenziale di f costante]
 \begin{center}
 \begin{minipage}[]{.38 \textwidth}
  \rettabisettrice
%  \caption{\(y=x\srarrow dy=dx\)}
 \end{minipage} 
 \hfill
 \begin{minipage}[]{.55 \textwidth}
È dimostrato così il seguente
\begin{teorema}
Il differenziale della funzione identica è \(dx=\epsilon\).
\end{teorema}
D'ora in poi, per indicare una variazione infinitesima della variabile 
\(x\) potremo usare indifferentemente \(dx\) oppure \(\epsilon\), 
dato che sono equivalenti.\\
Il grafico di \(f(x)=x\) nel piano cartesiano è dato dalla retta \(y=x\). 
Che significato dobbiamo attribuire a \(dy=dx\)?
L'uguaglianza dei due differenziali indica che due punti infinitamente
vicini sulla retta individuano sugli assi due differenze infinitesime 
uguali.
 \end{minipage}
 \end{center}
\end{inaccessibleblock}
\label{fig:diff01_diffcostante}
%\end{figure}

Anche con altre rette, più o meno inclinate e passanti o non passanti per 
l'origine, succede che uno spostamento infinitesimo sull'asse \(X\) causi 
un identico spostamento sull'asse \(Y\)?

\subsubsection{Funzione lineare}
\label{subsubsec:diff01_flineare}

Una funzione lineare è una funzione espressa da un polinomio di primo grado:
\[f: x \mapsto mx +q \quad \text{o} \quad 
  f(x)=mx +q \quad \text{o} \quad 
  y = mx +q.\]

\begin{esempio}
 Iniziamo con un esempio numerico, supponiamo \(m=\dfrac{2}{3}\) e \(q=4\).
 Proviamo quindi a differenziare in \(x_0\) la 
 funzione \(f(x)=\dfrac{2}{3}x +4\).
\begin{align*}
df(x_0) &=f(x_0+dx)-f(x_0)=\\
             &=\frac{2}{3}(x_0+dx)+4-\tonda{\frac{2}{3}x_0+4}=
                 \frac{2}{3}x_0+\frac{2}{3}dx+4-\frac{2}{3}x_0-4=
                 \frac{2}{3}dx,\quad \forall dx.
\end{align*}
Se disegni il grafico della funzione \(y=\frac{2}{3}x\) puoi verificare che
l'incremento infinitesimo dei valori \(y\) corrisponde a \(frac{2}{3}\) 
dell'incremento infinitesimo dei valori \(x\). 
Il risultato è generale, cioè vale \(\forall x \in \IR\): il 
differenziale non dipende dal particolare \(x_0\) in cui lo si calcola.
\end{esempio}

\begin{esempio}
Proviamo con un'altra funzione lineare: \(f(x) = -5x-2\). 
Ci aspettiamo che anche in questo caso il differenziale sia indipendente 
da \(x_0\):
\begin{align*}
df(x)|_{x=x_0} &=f(x_0+dx)-f(x_0)=\\
               &=-5(x_0+dx)-2-\tonda{-5x_0-2}=
                 -5x_0-5dx-2+5x_0+2=
                 -5dx,\quad \forall dx.
\end{align*}
Quindi \(df(x_0)=-5dx, \forall x_0 \in \IR\). Sottolineare che il risultato è 
indifferente dal valore di \(x_0\) è come dire che vale per qualsiasi \(x\): 
\(df(x_0)=-5dx, \forall x \in \IR\).
\end{esempio}

\begin{teorema}
 Il differenziale di una funzione lineare \(f(x)=mx+q\), (con \(m\ne 0\)) è 
\(mdx\), 
 \(\forall x, \forall dx \in \IR\).
\end{teorema}

\noindent Ipotesi: \(f(x)=mx+q\) \tab Tesi: \(df(x)=mdx\)

\begin{proof}
\begin{align*}
df(x_0) &=f(x_0+dx)-f(x_0)=\\
               &=m(x_0+dx)+q-\tonda{mx_0+q}=
                 mx_0-mdx+q-mx_0-q=
                 mdx,\quad \forall dx.
\end{align*}
Poiché nel risultato non compare \(x_0\), anche in questo caso \(df(x)\) non 
dipende dal punto \(x_0\), cioè vale \(\forall x\).
\end{proof}

\subsection{Pendenza di una retta e infinitesimi }
Dalla geometria analitica abbiamo imparato che nell'equazione di una retta 
\(y=mx +q\) \(m\) rappresenta il coefficiente angolare, cioè l'inclinazione 
rispetto all'asse delle X del grafico della retta nel piano cartesiano.\\
Conoscendo le coordinate di due punti qualsiasi della retta, \(A\) e 
\(B\), il calcolo di \(m\) è facile:
\(m=\frac{y_B-y_A}{x_B-x_A}\).\\
\(m\) è quindi il rapporto fra gli incrementi lungo l'asse \(Y\) e 
lungo l'asse \(X\) che si ottengono muovendosi da \(A\) a \(B\) lungo la 
retta.

Dal momento che ci occupiamo di incrementi infinitesimi, riscriviamo con i 
differenziali la formula che corrisponde a \(m\) per una generica funzione 
lineare \(f(x)=mx +q\) a partire da un qualsiasi punto \(x_0\), come se 
volessimo muoverci lungo la retta nel passare da \(x_A=x_0\) a \(x_B=x_0+dx\). 
In pratica \(x_B \approx x_A\) perché \(x_B-x_A=dx\).
\[\frac{f(x_0+dx)-f(x_0)}{(x_0+dx)-x_0}=\frac{df(x_0)}{dx}.\]
Ne risulta è un rapporto fra infinitesimi, che esiste se \(dx\ne 0\). Si 
tratta di una formula importante.
\begin{definizione}
 Si chiama Rapporto Differenziale (RD) il rapporto  fra l'incremento 
infinitesimo di una funzione e l'incremento infinitesimo (non nullo) della sua 
variabile.
\end{definizione}
Quanto vale il RD per una funzione lineare, ponendo \(dx\ne 0\)?
\begin{align*}
 \text{funzione: }\quad f(x)&= mx+q\\
 \text{RD: }\quad \frac{df(x_0)}{dx}& =\frac{f(x_0+dx)-f(x_0)}{(x_0+dx)-x_0}=
 \frac{[m(x_0+dx)+q]-[mx_0+q]}{(x_0+dx)-x_0}=\\
 &=\frac{mx_0+mdx+q-mx_0-q}{dx}=\frac{m\cancel{dx}}{\cancel{dx}}=m.
\end{align*}
\begin{osservazione}
 Ragioniamo su quanto è stato fatto. Calcolando il coefficiente angolare della 
retta per punti infinitamente vicini siamo entrati nell'insieme \(\IR\),
abbiamo quindi operato sulla funzione estesa \(^\star f\) al posto di quella 
reale \(f\).\\
Il numero finito \(m\in \R\)  ha come corrispondente iperreale il numero finito 
\(^*m\) che non è esattamente identico, perché nell'insieme \(\IR\) i 
numeri finiti hanno la forma \(a+\epsilon\). Quindi anche \(m\) iperreale è in 
realtà \(m+\epsilon\): non è un solo numero, ma una monade di numeri 
tutti infinitamente vicini al reale \(m\). Per prendere la parte sostanziale di 
questo insieme infinito e tornare a operare nell'insieme dei reali, dove non 
esistono infiniti e infinitesimi, dobbiamo applicare la funzione \(\pst{}\).
\end{osservazione}

Conclusione: anche con gli iperreali si può calcolare l'inclinazione di una 
retta, basta calcolare il RD. Per ottenere il numero reale corrispondente al  
coefficiente angolare \(m\), basta calcolare \(\pst{RD}\).

\subsection{Derivata}
Il procedimento appena visto è di importanza fondamentale e si applica a tutte 
le funzioni, non solo quelle lineari. Per questo richiede una definizione 
precisa.
\begin{definizione}
 Si dice derivata \(f'(x_0)\) di una funzione \(f\) in un punto di ascissa 
\(x_0\) del suo dominio iperreale, la parte standard del RD di \(f\), calcolato 
in \(x_0\): 
\[
 f'(x_0)=\pst{\frac{df(x_0)}{dx}} 
\]
se tale parte standard esiste ed è sempre la stessa al variare 
dell'infinitesimo \(dx\), che deve essere diverso da 0.
\end{definizione}



\subsubsection{Funzione quadratica}
\label{subsubsec:diff01_diffquad}

La funzione quadratica più elementare dà come risultato il quadrato 
della variabile indipendente:
\[f: x \mapsto x^2 \quad \text{o} \quad 
  f(x)=x^2 \quad \text{o} \quad 
  y = x^2\]
\begin{teorema}
 Il differenziale della funzione quadratica \(f(x)=x^2\) ~ è ~ \(2xdx+(dx)^2\), 
~\(\forall x\in \IR\).
\end{teorema}

\noindent Ipotesi: \(f(x)=x^2\).\tab Tesi: \(df(x)=2xdx+(dx)^2\).

\begin{proof}
\[ df(x_0)= f(x_0+dx)-f(x_0)=(x_0+dx)^2-x_0^2=
            x_0^2+2x_0dx+(dx)^2-x_0^2=2x_0dx+(dx)^2\]
Questa volta nel risultato compare \(x_0\). Quindi il valore del 
differenziale della funzione cambia al cambiare del punto \(x_0\) che viene 
incrementato.
Anche in questo caso il differenziale è un infinitesimo, ma questa volta è 
dato dalla somma di due infinitesimi di diverso ordine.
\end{proof}

Prova a differenziare altre funzioni quadratiche, espresse da polinomi,
e verifica che i risultati sono analoghi a quello dimostrato: 
\begin{align*}
&f(x) = x^2 - 12  &df(x_0)=\\
&f(x) = 3x^2 +\dfrac{2}{3}  &df(x_0)=\\
&f(x) = \dfrac{1}{2}x^2 - x  &df(x_0)=\\
&f(x) = x^2 - \dfrac{2}{3}x +5 &df(x)|_{x=x_0}=\\
\end{align*}

\subsubsection{Funzioni potenza}
\label{subsubsec:diff01_diffpot}

Una funzione potenza è una funzione che dà come risultato la potenza 
della variabile indipendente:
\[f: x \mapsto x^n \quad \text{o} \quad 
  f(x)=x^n \quad \text{o} \quad 
  y = x^n\]
Ricaviamo per gradi il differenziale della funzione potenza è \(f(x)=x^n\), 
con un procedimento per induzione.\\
Iniziamo dai casi già noti \(f(x)=x\) e \(f(x)=x^2\) e esaminiamo i successivi
aumentando progressivamente l'esponente. Questa volta non inseriamo 
l'indicazione relativa a \(x_0\) perché ci siamo accorti che i risultati 
cambiano 
al cambiare di \(x_0\), il che equivale a dire che dipendono da \(x\).
\begin{align*}
  d(x) &=x+dx-x =dx\\
  d(x^2) &=(x+dx)^2-x^2 = x^2 +2xdx +(dx)^2 -x^2 = 2xdx +(dx)^2\\
  d(x^3) &=(x+dx)^3-x^3 =[x^3+3x^2dx+3x(dx)^2+(dx)^3]-x^3=
                      3x^2dx+3x(dx)^2+(dx)^3\\
  d(x^4) &=(x+dx)^4-x^4 = [x^4+4x^3dx+6x^2(dx)^2+4x(dx)^3+(dx)^4]-x^4=\\
                      &=4x^3dx+6x^2(dx)^2+4x(dx)^3+(dx)^4      
\end{align*}
Possiamo osservare che il termine non infinitesimo si annulla sempre. Quindi,
qualunque sia il valore di \(x\), l'incremento della funzione è infinitesimo. 
Queste funzioni sono quindi continue in tutto \(\IR\) perché a variazioni 
infinitesime della variabile \(x\) corrispondono sempre variazioni
infinitesime della funzione.

Possiamo anche osservare che il differenziale è sempre più complesso, ma 
se consideriamo la parte principale dell'infinitesimo, cioè se trascuriamo 
gli infinitesimi di ordine superiore, il risultato si semplifica e diventa 
facilmente memorizzabile.

% \newpage %----------------------------------------
Quindi se invece del valore esatto ci accontentiamo della parte principale, 
abbiamo:
\nopagebreak
\begin{align*}
  d(x) &=x+dx-x =dx\\
  d(x^2) &=2xdx +(dx)^2 \sim 2xdx\\
  d(x^3) &=3x^2dx+3x(dx)^2+(dx)^3 \sim 3x^2dx\\
  d(x^4) &=4x^3dx+6x^2(dx)^2+4x(dx)^3+(dx)^4 \sim 4x^3dx\\
  d(x^5) &=5x^4dx+10x^3(dx)^2+10x^2(dx)^3+5x(dx)^4+(dx)^5 \sim 5x^4dx\\
  d(x^6) &=6x^5dx+\dots+(dx)^6 \sim 6x^5dx\\
  d(x^7) &=7x^6(dx)+\dots+(dx)^7 \sim 7x^6dx\\
  \dots &= \dots\\
  d(x^{10}) &=10x^9(dx)+\dots+(dx)^{10} \sim 10x^9dx\\
  \dots &= \dots\\
  d(x^n) &=nx^{n-1}(dx)+\dots+(dx)^{n} \sim nx^{n-1}dx.\\    
\end{align*}
Ora che il meccanismo è chiaro, possiamo ritenere dimostrato il teorema 
seguente.

\begin{teorema}
 Il differenziale della funzione potenza, con esponente naturale, è 
 \[d(x^n) \sim nx^{n-1}dx.\]
\end{teorema}

\begin{osservazione}
Il teorema precedente si riferisce alle sole potenze con esponente
naturale. Per altre vie si dimostrerà un teorema analogo, relativo
a \emph{qualsiasi esponente reale}.
Ne hai un esempio nei casi che seguono.
\end{osservazione}

\subsubsection{Funzione radice quadrata}
\label{subsubsec:diff01_diffradq}

\begin{teorema}
 Il differenziale della funzione radice quadrata \(f(x)=\sqrt{x}\) è
 \(\sim\frac{dx}{2\sqrt{x}}\), \(\forall x\in \IR\), \(x\neq 0\).
\end{teorema}

\noindent Ipotesi: \(f(x)=\sqrt{x}\).\tab Tesi: 
\(df(x)\sim\dfrac{dx}{2\sqrt{x}}\).

\begin{proof}
\begin{align*}
 df(x) &= f(x+dx)-f(x)=\sqrt{x+dx}-\sqrt{x}=
          \tonda{\sqrt{x+dx}-\sqrt{x}}\times
          \frac{\sqrt{x+dx}+ \sqrt{x}}{\sqrt{x+dx}+\sqrt{x}}=\\
       &=\frac{x+dx-x}{\sqrt{x+dx}+\sqrt{x}}=
         \frac{dx}{\sqrt{x+dx}+\sqrt{x}}\sim\frac{dx}{2\sqrt{x}}.
\end{align*}
 Poiché nel risultato compare \(x\), anche questa volta il risultato
 dipende dal valore a partire dal quale si vuole differenziare. 

Prendendo la parte principale dell'infinitesimo possiamo confrontare il 
risultato con quello ottenuto applicando la regola della funzione potenza:
\[d(\sqrt{x}) = d\tonda{x^{\frac{1}{2}}}
  \sim\frac{1}{2}x^{\tonda{\frac{1}{2}-1}}dx 
  =\frac{1}{2}x^{-\frac{1}{2}}dx
  =\frac{dx}{2x^{\frac{1}{2}}}
  =\frac{dx}{2\sqrt{x}}.\]

\end{proof}

\subsubsection{Funzione reciproca}
\label{subsubsec:diff01_diffrecip}
\begin{teorema}
 Il differenziale della funzione reciproca \(f(x)=\frac{1}{x}\) (con \(x \ne 
0\))
 è  \[d\tonda{\frac{1}{x}}\sim\frac{dx}{x^2}.\]
\end{teorema}

\noindent Ipotesi: \(f(x)=\dfrac{1}{x}\)\tab 
Tesi: \(df(x)\sim-\dfrac{dx}{x^2}.\)

\begin{proof}
\[
 df(x)= f(x+dx)-f(x)=\frac{1}{(x+dx)}-\frac{1}{x}=
 \frac{x-x-dx}{x(x+dx)}=\frac{-dx}{x^2+xdx}\sim-\frac{dx}{x^2}.
\]
Anche questa volta il valore del differenziale dipende dal punto in cui
lo si calcola. 

Riscriviamo la funzione reciproca come una funzione potenza:
\[d\tonda{\frac{1}{x}} = d\tonda{x^{-1}}
  \sim -x^{\tonda{-1-1}}dx 
  =-x^{-2}dx
  =-\frac{dx}{x^{2}}.\]

\end{proof}

Da questi esempi traiamo il prossimo enunciato, che ci riserviamo di 
dimostrare in seguito:

\begin{teorema}
 Il differenziale della funzione potenza, con esponenete reale qualsiasi, è 
 \[d(x^a) \sim ax^{a-1}dx \quad \forall a \in \R.\]
\end{teorema}

\subsubsection{Differenziali problematici}
\label{subsubsec:diff01_diffproblemi}

L'ultimo esempio ci porta un dubbio: dato che
\(x\) risulta al denominatore, abbiamo un problema. Che succede se \(x=0\)?
\begin{esempio}
 Calcola \(df(x)|_{x=0}\), con \(f(x)=\frac{1}{x}\).\\
 \(d\tonda{\frac{1}{x}}|_{x=x_0}=\frac{1}{0+dx}-\frac{1}{0}=\) ?\\
 La funzione non è differenziabile per \(x=0\) perché la frazione \(1/0\) non 
esiste.
\end{esempio}

\begin{esempio}
Differenzia la funzione \(f(x)=\frac{1}{x^2-1}\) per \(x=1\) e \(x=-1\).\\
\(d\tonda{\frac{1}{x^2-1}}\big|_{x=1}=\frac{1}{(1+dx)^2-1}-\frac{1}{1^2-1}=
\frac{1}{2dx+(dx)^2}-\frac{1}{0}=\)?\\
\(d\tonda{\frac{1}{x^2-1}}\big|_{x=-1}=\frac{1}{(-1+dx)^2-1}-\frac{1}{(-1)^2-1}=
\frac{1}{-2dx+(dx)^2}-\frac{1}{0}=\)?\\
Questa volta i punti critici sono due. Poiché la funzione non è calcolabile
per \(x=1\) e \(x=-1\), non è calcolabile nemmeno il suo differenziale.
\end{esempio}

Nei due esempi precedenti si tenta di calcolare il differenziale in un 
punto in cui la funzione non è definita. Ci vuole poca immaginazione per 
capire che se non è definita la funzione non può essere definito neppure il 
differenziale.

\begin{esempio}
Ma che dire del differenziale della radice quadrata in zero? Lì la funzione 
è definita: \(f(0)=\sqrt{0}=0\). 
Mentre non è definita l'espressione che calcola il suo differenziale: 
\(df(0) \sim \dfrac{dx}{2 \sqrt{0}}.\)

Però se applichiamo la definizione, il differenziale della radice in zero non 
sembra presentare difficoltà:
\[df(0) = f(0+dx)-f(0)=\sqrt{0+dx}-\sqrt{0}=\sqrt{dx}.\]
(Per poter effettuare i calcoli \(dx\) deve essere positivo: assumiamo perciò:
\(dx>0\).)

Il risultato, \(\sqrt{dx}\), è un infinitesimo ''molto`` più 
grande di \(dx\). 
Se \(\sqrt{dx} = \delta\) allora \(dx = \delta \cdot \delta\) cioè \(dx\) è 
un infinitesimo ''più potente`` rispetto a \(\sqrt{dx}\). Se con uno strumento 
ottico non standard  visualizzo \(dx\), non posso vedere contemporaneamente
anche \(\sqrt{dx}\), perché questo è fuori dal campo visivo, è all'infinito.
\end{esempio}


Nel piano cartesiano tracciamo il grafico delle funzioni degli ultimi 
tre esempi: \(y=\sqrt{x}\), \(y=\frac{1}{x}\) e \(y=\frac{1}{x^2-1}\).
\begin{figure}[h]
\begin{inaccessibleblock}[Grafici di funzioni diverse.]
 \begin{center}
 \begin{minipage}[]{.23 \textwidth}
%   \vspace*{4mm} 
  \radice
  \vspace*{-5mm} 
  \caption{\(y=\sqrt{x}\)}
%   \vspace*{1mm} 
 \end{minipage} 
 \begin{minipage}[]{.37 \textwidth}
  \iperbole
  \caption{\(y=\frac{1}{x}\)}
 \end{minipage} 
 \begin{minipage}[]{.37 \textwidth}
  \iperbolequad
  \caption{\(y=\frac{1}{x^2-1}\)}
 \end{minipage}
 \end{center}
\end{inaccessibleblock}
\label{fig:diff01_grafici}
\end{figure}

Guardando i grafici si ha evidenza di quanto appena discusso.
Nel secondo e nel terzo grafico: se si volesse 
differenziare la funzione ''a cavallo``di un punto in cui essa non è 
definita, le differenze sull'asse \(Y\) risulterebbero infinite.\\
Relativamente al primo grafico: si può tentare di differenziare la funzione 
solo se \(x \ge 0\). Nell'infinitamente vicino all'origine il grafico della 
funzione è pressoché verticale e qualsiasi incremento infinitesimo lungo 
l'asse \(X\) provoca un incremento ''non  così infinitesimo`` lungo l'asse 
\(Y\).

% \begin{figure}[h]
 \begin{center}
 \begin{minipage}[]{.38 \textwidth}
\begin{inaccessibleblock}
  [Discontinuità a salto]
  \salto
\end{inaccessibleblock}
%   \caption{Discontinuità a salto.}
 \end{minipage} 
 \hfill
 \begin{minipage}[]{.58 \textwidth}
Consideriamo un tipo diverso di problema.\\
\[f(x)=\begin{cases} 
x-1, & \mbox{se }x<2 \\ 
x+1, & \mbox{se }x\ge 2
\end{cases}
\]
\(f(x)\) ha due rami e il grafico compie un salto per \(x=2\), dove 
\(f(x)=3\).
Se \(dx>0\), \(df(x)|_2\) è calcolabile e risulta \(=dx\), mentre se 
\(dx<0\)
le differenze non possono essere infinitesime perché la funzione ha un 
salto nel punto considerato. 
In casi come questo \(f(x)\) è differenziabile solo a destra 
del punto critico \(x=2\).
 \end{minipage}
 \end{center}
\label{fig:diff01_salto}
% \end{figure}

\subsection{Combinare differenziali}
\label{subsec:diff01_combdiff}
Nella sezione \ref{subsubsec:diff01_flineare} e in altre ci siamo avvalsi 
di proprietà così naturali che non è stato necessario sottolinearle. 
Ma è meglio non lasciarcele sfuggire.

\subsubsection{Differenziale del prodotto per una costante}
\label{}
\begin{teorema}
 Se una funzione è moltiplicata per una costante, anche il suo 
 differenziale risulta moltiplicato per la stessa costante.
\end{teorema}
\noindent Ipotesi: \(f(x)=a\cdot g(x)\).\tab Tesi: \(df(x)=a\cdot dg(x)\).

\begin{proof}
\[df(x)=d\quadra{a\cdot g(x)}= a\cdot g(x+dx)-a\cdot 
g(x)=a\cdot\quadra{g(x+dx)-g(x)}
 =a\cdot dg(x)\]
\end{proof}

\subsubsection{Differenziale di una somma di funzioni}
\label{}

\begin{teorema}
 Se una funzione è la somma (la differenza) di due funzioni, anche il suo 
 differenziale sarà la somma (la differenza) dei due differenziali.
\end{teorema}
\noindent Ipotesi: \(f(x)=f_1(x)\pm f_2(x)\).\tab Tesi: \(df(x)=df_1(x)\pm 
df_2(x)\).

\begin{proof}
\begin{align*}
 df(x)&=d[f_1(x)\pm f_2(x)]=[f_1(x+dx)\pm f_2(x+dx)]-[f_1(x)\pm f_2(x)]=\\
      &= [f_1(x+dx)-f_1(x)]\pm [f_2(x+dx)-f_2(x)]= df_1(x)\pm df_2(x)
\end{align*}
\end{proof}


\begin{esempio}
 Un generico polinomio di secondo grado \(f(x)=ax^2+bx+c\) è composto da 
tre termini. 
Quindi abbiamo che: \(f(x)=f_1+f_2+f_3\) \quad e \quad
 \(df(x)~=~df_1+df_2+df_3\).
\[d(ax^2)\sim 2axdx \qquad d(bx) =bdx \qquad d(c) =0 \quad \sRarrow
  df(x) \sim 2axdx+bdx\]
Il grafico della funzione è una parabola generica
e il differenziale ci dice che l'incremento infinitesimo 
\(dx\) provoca un incremento (eventualmente di segno opposto) infinitesimo
variabile sull'asse \(Y\), che dipende dal valore \(x\) a partire dal quale si 
calcola \(dx\).
\end{esempio}

Completiamo il quadro delle regole di calcolo con l'esame dei differenziali
del prodotto e del rapporto di funzioni. Verrebbe da pensare: ''siccome il 
differenziale di una somma è la somma dei differenziali e lo stesso avviene
per la differenza, succederà una cosa simile anche per il prodotto e per il 
rapporto``. 
Per (s)fortuna le cose a volte sono un po' meno banali.

\subsubsection{Differenziale del prodotto di due funzioni}
\label{}
Questa volta, al posto della immarcescibile dimostrazione algebrica, 
ricorriamo alla geometria. 
Immaginiamo che le due funzioni, calcolate in un generico punto \(x\),
esprimano la base e l'altezza di un rettangolo:
\(b(x)=b\) sarà la base  e \(h(x)=h\) sarà l'altezza. 
L'area ovviamente si ottiene da \(b(x)\cdot h(x)=\mathit{A}(x)\). 
Differenziare il prodotto \(d\quadra{\mathit{A}(x)}\) vuol dire calcolare di
quanto aumenta l'area del rettangolo, se i lati subiscono un incremento 
infinitesimo. 

\begin{osservazione}
Gli incrementi della base e dell'altezza possono essere 
diversi, perché \(b(x)\) e \(h(x)\) sono funzioni diverse, le quali possono
reagire in modo diverso all'incremento \(dx\).
\end{osservazione}

\begin{teorema}
 Se una funzione è il prodotto di due funzioni, il suo  differenziale 
 sarà dato da una somma fra tre prodotti: il differenziale della
 prima funzione per la seconda più la prima funzione per il differenziale 
 della seconda più il prodotto dei due differenziali.
\end{teorema}
\noindent Ipotesi: \(\mathit{A}(x)=b(x)\cdot h(x)\).\qquad 
Tesi: \(d\mathit{A}(x)=db(x)\cdot h(x)+b(x)\cdot dh(x)+ db(x)\cdot dh(x)\).

\begin{figure}[h]
\begin{inaccessibleblock}
  [Rettangolo con uno gnomone finito e rettangolo con gnomone infinitesimo.]
 \begin{center}
 \begin{minipage}[]{.38 \textwidth}
  \vspace{23mm} 
  \incrementaleprodotto
 \end{minipage} 
 \hfill
 \begin{minipage}[]{.58 \textwidth}
  \differenzialeprodotto
 \end{minipage}
 \end{center}
\end{inaccessibleblock}
\caption{Incrementi finito e infinitesimo dell'area di un rettangolo} 
\label{fig:Incre_prodotto}
\end{figure}
\vspace{-.5em}
\begin{osservazione}
 Si chiama ''gnomone`` la figura, a forma di L rovesciata, che rappresenta 
la crescita dell'area di un rettangolo.
\end{osservazione}

\begin{proof}
L'incremento infinitesimo di area è la zona colorata del disegno, lo 
\emph{gnomone}. È formato da tre parti:
\begin{itemize} [nosep]
 \item un rettangolo sottile, verticale e sulla destra, di base
 infinitesima \(db(x)\) e altezza \(h(x)\);
 \item un rettangolo orizzontale, in alto, di base \(b(x)\) e
 altezza infinitesima \(dh(x)\);
 \item un rettangolino in alto a destra, di area \(db(x) \times dh(x)\).
\end{itemize}
La descrizione geometrica rappresenta bene la tesi e per i nostri scopi è
una prova sufficiente. 
\end{proof}
Dato che l'ultimo termine è un infinitesimo di ordine
superiore, il risultato può essere approssimato alla sua parte principale, 
senza gravi danni: \(d\mathit{A}(x)\sim db(x)\cdot h(x)+b(x)\cdot dh(x)\).

\subsubsection{Differenziale del rapporto fra due funzioni}
\label{}
\begin{teorema}
 Se una funzione è data dal rapporto fra due funzioni, con il denominatore
 non nullo, il suo  differenziale si ottiene calcolando
 la differenza fra due prodotti (il differenziale del numeratore per il 
 denominatore meno il numeratore per il differenziale del denominatore)
 e dividendo il risultato per il quadrato del denominatore.
\end{teorema}
\noindent Ipotesi: \(h(x)=\dfrac{\mathit{A}(x)}{b(x)}\), 
con \(b(x)\neq 0\) \tab 
Tesi: 
\(dh(x) \sim \dfrac{d\mathit{A}(x) \cdot b(x)-\mathit{A}(x) \cdot db(x)}
             {\tonda{b(x)}^2}\)

\begin{proof}
Ricorriamo alla geometria anche in questo caso.

% Usare {figure} è una disgrazia!

 \begin{minipage}[]{.38 \textwidth}
Essendo \(\mathit{A}(x)=b(x) \times h(x)\) allora: 
\(h(x)=\frac{A(x)}{b(x)}\). 
Ovviamente è necessario che \(b(x)\neq 0\).\\
Guardando il disegno, possiamo osservare che \(dh(x)\) è l'incremento 
infinitesimo dell'altezza, si tratta dell'altezza della fascia superiore 
colorata.
Questa altezza si può calcolare dividendo il rettangolo 
superiore dello gnomone per la base del rettangolo.
Il rettangolo superiore dello gnomone è uguale a tutto lo gnomone 
infinitesimo, \(d\mathit{A}\),
 \end{minipage} 
 \hfill
 \begin{minipage}[]{.58 \textwidth}

 \begin{center}
 \begin{inaccessibleblock}
  [Altezza rettangolo con gnomone infinitesimo.]
  \differenzialerapporto
 \end{inaccessibleblock}
 \end{center}
\begin{comment}
 \end{minipage}
meno il rettangolo destro infinitesimo, di 
area \(h\cdot db\) e meno il rettangolino, sempre infinitesimo, che si trova 
in alto a destra.
Dunque:
\begin{align*}
 d\quadra{\frac{\mathit{A}(x)}{b(x)}}&=dh(x)=\\
 &=\frac{\quadra{d\mathit{A}(x) - h \cdot db(x) - db(x) \cdot dh(x)}}
        {b(x)}=\\
 &=\frac{\quadra{d\mathit{A}(x) - \dfrac{\mathit{A(x)}}{b(x)} \cdot db(x) - 
          db(x) \cdot dh(x)}}{b(x)}=\\
 &=\frac{\dfrac{d\mathit{A}(x) \cdot b(x) - \mathit{A(x)} \cdot db(x) -
               b(x) \cdot db(x) \cdot dh(x)}
              {b(x)}}
        {b(x)}=\\
 &=\frac{d\mathit{A}(x) \cdot b(x) - \mathit{A(x)} \cdot db(x) -
              b(x) \cdot db(x) \cdot dh(x)}
        {\tonda{b(x)}^2} \sim \\
 & \sim \frac{d\mathit{A}(x) \cdot b(x) - \mathit{A(x)} \cdot db(x)}
             {\tonda{b(x)}^2}
\end{align*}
\end{proof}


\subsubsection{Sintesi della sezione}
\label{subsubsec:diff01_diffsint}
Abbiamo calcolato alcuni differenziali elementari: 
\begin{enumerate} [noitemsep]
 \item \(d(k) = 0\) \tab 
 differenziale di una costante;
 \item \(d(x) = dx\) \tab 
 differenziale della funzione identica;
 \item \(d(x^\alpha) \sim \alpha x^{\alpha-1}dx\) \tab 
 differenziale di una potenza.
\end{enumerate}
 
% Avremo modo di vedere i differenziali delle funzioni trascendenti nella 
% prossima sezione.

% I risultati che abbiamo visto valgono sotto le ovvie ipotesi
% che si parli di funzioni continue e che i differenziali siano calcolabili
% per tutti i possibili \(x\) del dominio di tali funzioni. Unificando i 
% simboli e restando all'essenziale, abbiamo:

E il differenziale di alcune operazioni tra funzioni:
\begin{enumerate} [noitemsep]
 \item \(d(a\cdot f)=adf\) \tab 
 differenziale del prodotto per una costante;
 \item \(d\tonda{f\pm g}=df\pm dg\) \tab 
 differenziale di una somma o differenza;
 \item \(d(f\cdot g)\sim df\cdot g+f\cdot dg\) \tab 
 differenziale del prodotto;
 \item \(d\tonda{\frac{f}{g}}\sim\frac{df\cdot g-f\cdot dg}{g^2}\)\tab 
differenziale  del rapporto (\(g \ne 0\)).
\end{enumerate}

Alcune delle uguaglianze precedenti sono ridondanti: il prodotto tra una 
costante e una funzione è un caso particolare del prodotto tra funzioni, il 
differenziale di una potenza si può ottenere applicando, più volte, il 
differenziale del prodotto di funzioni.
% dove  \(k\), \(a\), \(\alpha\) rappresentano delle costanti, mentre f e g 
sono 
% funzioni continue. 

Esaminiamo ora alcuni problemi facilmente risolvibili con l'aiuto dei 
differenziali.

\subsection{Problemi con i differenziali}
\label{subsec:diff01__problemi}

\begin{esempio}
 % Triangolo equilatero: 2p=f(h) 
Un triangolo equilatero ha l'altezza di \(8\) cm. 
Di quanto aumenta il suo perimetro, man mano che aumenta l'altezza? 
L'aumento è legato alla misura iniziale di \(h\)?\\
Il perimetro è \(2p=3l\) e con il Teorema di Pitagora si ha: 
\(h=\sqrt{l^2-\tonda{\frac{l}{2}}^2}=\frac{\sqrt{3}}{2}l\). 
Quindi \(l=\frac{2}{\sqrt{3}}h\) e \(2p=2\sqrt{3}h\). 
Incrementiamo l'altezza a partire da \(h_0=8\) e ricaviamo il perimetro 
corrispondente.\\
\(d(2p)|_{h_0=8}=
d\tonda{2\sqrt{3}h}|_{h_0=8}=
2 \sqrt{3} \cdot (8+dh)-2\sqrt{3} \cdot 8 = 2 \sqrt{3} \cdot dh\).\\
Per ogni incremento infinitesimo dell'altezza, il perimetro aumenta di 
\(2 \sqrt{3}\) volte quell'incremento.
Si tratta di rapporto costante, perché non dipende dalla misura iniziale
dell'altezza. Infatti, se si ripete il calcolo scrivendo il simbolo \(h_0\) al 
posto della sua misura \(8\), \(h_0\) non compare nel risultato.\\
La soluzione può essere ricavata in modo più diretto, applicando le regole
4 e 2 della sintesi a pag.\pageref{subsubsec:diff01_diffsint}.
\end{esempio}

\begin{esempio}
 % Triangolo equilatero: l=f(A)
Di quanto aumenta il lato di un triangolo equilatero,
man mano che aumenta la sua area? L'aumento è legato al valore iniziale del 
lato?\\
Dalla formula dell'area \(\mathit{A}=\frac{bh}{2}\) e dall'esempio precedente
(\(h=\frac{\sqrt{3}}{2}l\)), ricaviamo: \(\mathit{A}=\frac{\sqrt{3}}{4}l^2\).\\
Differenziando, con l'aiuto delle regole 4 e 3 della sintesi a pag.
\pageref{subsubsec:diff01_diffsint}, abbiamo:\\
\(d\tonda{\mathit{A}}=d\tonda{\frac{\sqrt{3}}{4}l^2}=
 \frac{\sqrt{3}}{4}d\tonda{l^2}=
 \frac{\sqrt{3}}{4}\tonda{2l \cdot dl+(dl)^2}=
 \frac{\sqrt{3}}{4}\tonda{2l+dl}dl\).\\
Questa volta la relazione con l'incremento del lato non è elementare: per 
ogni incremento infinitesimo del lato si ha un incremento di area pari a 
\(frac{\sqrt{3}}{4}\tonda{2l+dl}\), che dipende dalla misura iniziale del 
lato e dallo stesso incremento. Per gestire il risultato, occorre approssimare
questo numero all'indistinguibile più vicino:
\(d\tonda{\mathit{A}}=\frac{\sqrt{3}}{4}\tonda{2l+dl}dl\sim
\frac{\sqrt{3}}{2}ldl\).

Da qui, applicando la formula inversa, si ottengono le risposte:
\(dl\sim\frac{2}{\sqrt{3}}\frac{d\tonda{\mathit{A}}}{l}\).
\begin{osservazione}
 Una via più diretta per giungere alla soluzione potrebbe essere: \\
 \(\mathit{A}=\frac{\sqrt{3}}{4}l^2\srarrow 
l=\sqrt{\frac{4}{\sqrt{3}}\mathit{A}}=
 \frac{2}{\sqrt[4]{3}}\sqrt{\mathit{A}}\srarrow dl=
 d\tonda{\frac{2}{\sqrt[4]{3}}\sqrt{\mathit{A}}}=
 \frac{2}{\sqrt[4]{3}}d\tonda{\sqrt{\mathit{A}}}\).\\
 A questo punto dobbiamo fermare il calcolo, perché 
 sappiamo calcolare \(d\tonda{\sqrt{x}}\), ma 
 non sappiamo ancora come calcolare \(d\tonda{\sqrt{f(x)}}\). Per farlo, 
 occorre approfondire le conoscenze precedenti.
\end{osservazione}
\end{esempio}

\section{Introduzione alla derivata}
\label{sec:diff01_derivata}
La derivata è un ente matematico conosciuto dalla metà del 1700, che 
da allora si applica utilmente allo studio di fenomeni naturali di ogni 
tipo.\\
Studieremo l'argomento puntando lo sguardo sulle funzioni e sui loro
grafici nel piano cartesiano. Iniziamo dai grafici più semplici.

\subsection{Pendenza di una retta}
\label{subsec:diff01_pendretta}

\begin{figure}[h]
\begin{inaccessibleblock}[pendenza di una retta.]
 \begin{center}
 \begin{minipage}[]{.31 \textwidth}
%  \vspace*{4mm} 
  \rettadueterzi
  \caption{\(y=\frac{3}{2}x-1\)}
 \end{minipage} 
 \begin{minipage}[]{.31 \textwidth}
  \rettamenounquarto
  \caption{\(y=-\frac{1}{4}x+\frac{1}{2}\)}
 \end{minipage} 
 \begin{minipage}[]{.31 \textwidth}
  \retteorvert
  \caption{\(y=-\frac{3}{2}\) e \(x=-2,8\)}
 \end{minipage}
 \end{center}
\end{inaccessibleblock}
\label{fig:diff01_ret}
\end{figure}
Sappiamo già calcolare la pendenza di una retta dalla semplice osservazione 
del suo grafico: si fissano sulla retta due punti \(A(x_A; y_A)\) e \(B(x_B; 
y_B)\)
e si calcola il rapporto \(m=\frac{y_B-y_A}{x_B-x_A}\).\\
È come se si volesse misurare la distanza verticale
fra i due punti usando la loro distanza orizzontale come unità di misura. 
Nel caso della retta \(r\), \(m=\frac{3}{2}\) e si potrebbe dire: ''un punto 
che si muove sulla retta, se si sposta di due quadretti in orizzontale
ne guadagna (o perde) tre in verticale``.\\
Un punto che scorre sulla retta orizzontale, non subisce
alcuna variazione lungo l'asse \(y\) e per questo \(m=0\); al contrario per la
retta verticale le variazioni sono solo verticali e la pendenza è
infinita.

Sintetizziamo la formula come rapporto fra differenze:
\(m=\frac{y_B-y_A}{x_B-x_A}=\frac{\Delta y}{\Delta x}\). Il simbolo \(m\) 
ci riporta all'equazione di una retta generica in forma esplicita
\(y=mx+q\), dove \(m\) rappresenta appunto il coefficiente angolare, cioè 
l'inclinazione o pendenza.
\nopagebreak
\begin{osservazione}
Secondo l'uso della sezione, le indicazioni con la lettera
maiuscola \(\Delta\) (\(\Delta x\), \(\Delta y\)) si riferiscono a 
\emph{numeri standard}.
\end{osservazione}

\subsubsection{Rapporto incrementale}
\label{subsubsec:diff01_rappincr}
C'è un fatto importante: per calcolare la pendenza di una retta, 
la scelta dei due punti è indifferente. Possono essere molto vicini o molto 
lontani, scambiati l'uno con l'altro o presso l'origine, oppure no:
\(m=\frac{\Delta y}{\Delta x}\) è sempre lo stesso, come è giusto che sia per 
una retta.
Da \(x_B-x_A=\Delta x\) ricaviamo banalmente \(x_B=x_A+\Delta x\), cioè nel 
piano cartesiano
\(B\) si colloca a destra (se \(\Delta x\ge 0\)) di \(A\) di una quantità 
finita,
grande o piccola che sia.\\
\(\Delta x\), \(\Delta y\) sono anche chiamati \emph{incrementi} e quindi...
\begin{definizione}
  Si dice \emph{Rapporto Incrementale} (R.I.) il rapporto degli
  incrementi, cioè la quantità R.I.~=~\(frac{\Delta y}{\Delta x}\).
\end{definizione}
Si tratta di una quantità finita, calcolabile se \(\Delta x \ne 0\).\\
Il Rapporto Incrementale, calcolato su una retta fornisce la sua pendenza 
ed è un valore costante, come abbiamo visto.\\
Ma il calcolo si può applicare a qualsiasi funzione, anche a quelle che nel 
piano cartesiano sono rappresentate da curve. Allora però le cose cambiano.

\begin{esempio}
I prossimi grafici appartengono alla stessa funzione.

\begin{figure}[h]
\begin{inaccessibleblock}
  [Secanti a una curva]
% \begin{center}
 \begin{minipage}[]{.45\textwidth}
 \curvacubica
 \end{minipage} 
 \hfill
 \begin{minipage}[]{.55\textwidth}
  \secanticubica
 \end{minipage}
% \end{center}
\end{inaccessibleblock}
\caption{Rapporti incrementali in una curva e secanti.} 
\label{}
\end{figure}

Scegliamo alcuni punti sulla curva e mettiamo in evidenza gli intervalli che
consentono il calcolo del rapporto incrementale, in un caso, e la pendenza 
delle secanti nell'altro.\\
Rapporti Incrementali:
\begin{align*}
  \frac{\Delta y}{\Delta x}\bigg\lvert_{AB}= &\frac{y_B-y_A}{x_B-x_A}=
    \frac{2-5}{-2-(-3.5)}=\frac{-3}{1.5}=-2 &
  \frac{\Delta y}{\Delta x}\bigg\rvert_{BC}=\frac{y_C-y_B}{x_C-x_B}=
  \frac{3-2}{0-(-2)}=\frac{1}{2}\\
  \frac{\Delta y}{\Delta x}\bigg\lvert_{CD}= &\frac{y_D-y_C}{x_D-x_C}=
  \frac{3.8-3)}{2.4-0}=\frac{0.8}{2.4}=\frac{1}{3} &
  \frac{\Delta y}{\Delta x}\bigg\rvert_{DE}=\frac{y_E-y_D}{x_E-x_D}=
  \frac{1-3.8}{3.5-2.3)}=\frac{-2.8}{1.2}=-\frac{7}{3}
\end{align*}
\nopagebreak
Pendenze: \qquad
\(m_{AB}=-2 \qquad m_{BC}=\frac{1}{2}\qquad m_{CD}=\frac{1}{3}\qquad  
m_{DE}=-\frac{7}{3}\)
\end{esempio}

I calcoli confermano che se il grafico non è una retta, il Rapporto 
Incrementale, calcolato fra varie coppie di punti, ha valori diversi. 
Il R.I. cambia a seconda della coppia di punti fissati sulla curva.\\
Se si traccia la retta che unisce la coppia di punti, ne risulta una secante
alla curva.\\
In conclusione, si hanno le seguenti proprietà:

\begin{enumerate}[nosep]
\item Il R.I. è un numero finito e esiste solo se \(\Delta x\ne 0\).
\item Il R.I fra le coppie di valori di una funzione è 
 a sua volta una funzione, che dipende dalla coppia scelta. 
 \item La funzione è costante se applicata al grafico di una retta. In 
questo 
 caso il R.I calcola  la sua pendenza.
\item  In generale, R.I. calcola la pendenza della retta secante che unisce 
due punti del grafico.
\end{enumerate}


\subsubsection{Rapporto differenziale}
\label{subsubsec:diff01_rappdiff}

\begin{esempio}
Fissiamo su una curva due punti: uno fisso (\(A\)) e l'altro mobile \(P\), cioè 
in grado di spostarsi lungo la curva dalla posizione più lontana \(P_1\), 
alla più prossima ad \(A\), cioè oltre \(P_7\), fin quasi a sovrapporsi con 
\(A\).

% \begin{figure}[h]
\begin{inaccessibleblock}[Verso la tangente a una curva.]
 \begin{center}
\secanticurva
 \end{center}
\end{inaccessibleblock}
% \caption{Dalle secanti alla tangente.} \label{fig:diff01_sectang}
% \end{figure}
\end{esempio}

Tracciamo le secanti che uniscono \(A\) con le varie posizioni di \(P_n\). 
Man mano che \(P\) si avvicina ad \(A\), la secante che li unisce tende 
ad allinearsi alla tangente ideale.\\
Quando \(P\) è così vicino ad \(A\) che la loro distanza è 
\(\overline{AP}<\frac{1}{n}\),
\(\forall n\), siamo nel campo degli infinitesimi: cambia la natura del 
Rapporto Incrementale che avevamo imparato a calcolare. Il R.I. si 
trasforma da un rapporto fra quantità finite a un rapporto fra infinitesimi,
quindi non possiamo essere certi su quale sia il tipo del risultato che 
fornisce.\\
Se escludiamo il caso \(dx=0\) (\(P_n\) coinciderebbe con \(A\)) e se il 
rapporto
dà un risultato finito, otterremo la pendenza della secante fra i due 
punti infinitamente vicini \(A\punto{x_A}{y_A}\) e 
\(P_n\punto{x_A+dx}{f(x_A+dx)}\),
quindi di una retta infinitamente vicina alla tangente, cioè distinguibile da 
essa solo grazie ad un microscopio a ingrandimento infinito.

\begin{definizione}
 Si dice Rapporto Differenziale della funzione \(f(x)\), relativo a \(x_0\),
 il rapporto \(frac{df(x)}{dx}\big|_{x=x_0}\) fra il differenziale della 
funzione  e quello della variabile, calcolati nel punto \(x_0\). \\
 \(frac{df(x)}{dx}\big|_{x=x_0}=\frac{f(x_0+dx)-f(x_0)}{dx}\), con \(dx\ne 0\).
\end{definizione}

\begin{figure}[h]
\begin{inaccessibleblock}[Secante per P approx A.]
 \begin{center}
\secRD
 \end{center}
\end{inaccessibleblock}
\caption{Secante per due punti infinitamente vicini.} 
\label{fig:diff01_tangente}
\end{figure}

\begin{esempio}
  \label{esempio:diff01_mdiff}
  La curva della Fig.12 rappresenta la parabola di equazione 
  \(y=\dfrac{x^2}{5}-\dfrac{3}{5}x+2\). Calcoliamo la pendenza della secante che
  passa per \(A\punto{5}{4}\) e per un altro punto infinitamente vicino.\\
  La funzione è continua nel punto \(A\) e il differenziale per 
  \(x=x_A\), si può calcolare applicando la definizione (oppure applicando le 
  regole della sintesi \ref{subsubsec:diff01_diffsint}) alla funzione
  \(f(x)=\dfrac{x^2}{5}-\dfrac{3}{5}x+2\):\\ 
  \(d(f(5))=f(5+dx)-f(5)=\tonda{\dfrac{(5+dx)^2}{5}-\dfrac{3}{5}(5+dx)+2}
  -\tonda{\dfrac{5^2}{5}-\dfrac{3}{5}5+2}=\\
  =\dfrac{\tonda{25+10dx+\tonda{dx}^2}}{5}-3-\dfrac{3}{5}dx+2-5+3-2= \\
  =5+2dx+\dfrac{1}{5}\tonda{dx}^2-3-\dfrac{3}{5}dx+2-5+3-2=\\
  =2dx+\dfrac{1}{5}(dx)^2-\dfrac{3}{5}dx=
  \dfrac{7}{5}dx+\dfrac{1}{5}(dx)^2=\tonda{\dfrac{7}{5}+\dfrac{1}{5}dx}dx\).\\
 
 Il rapporto differenziale è: 
  \(\dfrac{df(5)}{dx}=\dfrac{\tonda{\dfrac{7}{5}+\dfrac{1}{5}dx}dx}
  {dx}=\dfrac{7}{5}+\dfrac{1}{5}dx\).\\
  Come si vede, la pendenza di questa secante è un numero finito del tipo 
  \(a+\epsilon\), che dipende sia dal valore \(x_A=5\), sia dall'infinitesimo 
  \(dx\) che compare nel risultato. Si tratta dunque di una pendenza 
  infinitamente vicina al valore \(m=\dfrac{7}{5}\) e questo vale per qualsiasi
  valore \(dx\ne 0\) possiamo immaginare.
\end{esempio}

\begin{esempio}
 \label{esempio:diff01_m0diff}
 Ripetiamo il calcolo precedente, con riferimento all'ascissa del vertice 
 \(x_V=\dfrac{3}{2}\). Questa volta applichiamo direttamente le regole della 
sintesi 
 \ref{subsubsec:diff01_diffsint} alla funzione\\ 
\(f(x)=\dfrac{x^2}{5}-\dfrac{3}{5}x+2\).\\
 \(d(f(x)\big|_{x=3/2}=
  \dfrac{1}{5}\tonda{2\dfrac{3}{2} dx+(dx)^2}-\dfrac{3}{5}dx=
  \dfrac{3}{5}dx+\dfrac{1}{5}(dx)^2-\dfrac{3}{5}dx=\dfrac{1}{5}(dx)^2\).\\
 Quindi il rapporto differenziale è: 
 \(\dfrac{d(f(x)}{dx}\bigg|_{x=3/2}=\dfrac{\dfrac{1}{5}(dx)^2}{dx}
 =\dfrac{1}{5}dx\)
 La secante per punti infinitamente vicini al vertice della parabola
 differisce dalla retta orizzontale per un infinitesimo, cioè è
 infinitamente vicina alla retta orizzontale che passa per il vertice.
 Anche in questo caso, il significato del rapporto differenziale non cambierebbe
 se al posto di \(dx\) si scrivesse un infinitesimo diverso, come \(\epsilon\) 
 oppure \(\delta\) o altro: la retta secante che abbiamo trovato è 
indistinguibile da una retta orizzontale.
 \end{esempio}

\begin{osservazione}
La pendenza calcolata nell'esempio \ref{esempio:diff01_mdiff} è 
\(m\approx\dfrac{7}{5}\), mentre in quest'ultimo esempio 
\ref{esempio:diff01_m0diff} è
\(m\approx 0\). Questo conferma che \(m\) cambia a seconda del punto della 
curva: \(m=m(x)\).
\end{osservazione}

\begin{esempio}
 In quale punto del piano cartesiano la parabola precedente è inclinata 
 di \(45^\circ\) rispetto all'orizzontale?\\
 Risposta: poiché solo le rette \(y=x+k\) hanno l'inclinazione richiesta dal 
problema, occorre cercare in quale punto  la parabola risulta inclinata come
una di queste rette, cioè ha lo stesso coefficiente  angolare. 
È chiaro che non si può calcolare il coefficiente angolare di una parabola, 
ma si può immaginare che nel punto desiderato esista una retta tangente che
risponde alle nostre esigenze.\\
Cerchiamo quindi per quale punto della parabola passa una retta che ha un
coefficiente angolare infinitamente vicino a \(m=1\).\\
 La funzione: \(f(x)=\dfrac{x^2}{5}-\dfrac{3}{5}x+2\).\\
 Il differenziale, calcolato per un generico valore \(x\) è:
\begin{align*}
d(f(x))&=f(x+dx)-f(x)=\tonda{\dfrac{(x+dx)^2}{5}-\dfrac{3}{5}(x+dx)+2}
  -\tonda{\dfrac{x^2}{5}-\dfrac{3}{5}x+2}=\\
 &=\tonda{\dfrac{x^2+2xdx+(dx)^2}{5}-\dfrac{3}{5}x-\dfrac{3}{5}dx+2}
  -\dfrac{x^2}{5}+\dfrac{3}{5}x-2=\\
 &=\dfrac{1}{5}x^2+\dfrac{2}{5}xdx+\dfrac{1}{5}(dx)^2-\dfrac{3}{5}x-
  \dfrac{3}{5}dx+2-\dfrac{x^2}{5}+\dfrac{3}{5}x-2=
  \dfrac{2}{5}xdx+\dfrac{1}{5}(dx)^2-\dfrac{3}{5}dx
\end{align*}
E quindi il rapporto differenziale è: 
\(\dfrac{df(x)}{dx}=\dfrac{2}{5}x+\dfrac{1}{5}dx-\dfrac{3}{5}\) \\
Il problema chiede per quale valore \(x\) il rapporto differenziale diventa 
uguale a 1, quindi:
\[\dfrac{df(x)}{dx}=1 \srarrow 
 \dfrac{2}{5}x+\dfrac{1}{5}dx-\dfrac{3}{5}=1
 \srarrow \dfrac{2}{5}x=1+\dfrac{3}{5}-\dfrac{1}{5}dx
 \srarrow x=\dfrac{8-dx}{5}\dfrac{5}{2}=\dfrac{8-dx}{2}\]
 Il punto in questione ha ascissa \(x= 4-\dfrac{1}{2}dx \approx 4\). Se si 
 trascura la parte infinitesima \(-\dfrac{1}{2}dx\), per qualsiasi \(dx\), si 
ottiene il valore reale infinitamente vicino al risultato esatto iperreale.
\end{esempio}

Verifichiamo che per \(x=4-\dfrac{1}{2}dx\) la parabola abbia davvero 
l'inclinazione cercata, cioè che la secante per due punti infinitamente 
vicini a \(x=4-\dfrac{1}{2}dx\) abbia coefficiente angolare \(m \approx 1\).
\begin{align*}
 &\dfrac{df(x)}{dx}=\dfrac{2}{5}x+\dfrac{1}{5}dx-\dfrac{3}{5} 
 \text{, (con } dx\ne 0)
 \qquad  \text{e} \qquad  x=4-\dfrac{1}{2}dx;\\
 \srarrow &\dfrac{df(x)}{dx}=\dfrac{2}{5}\tonda{4-\dfrac{1}{2}dx}
+\dfrac{1}{5}dx-\dfrac{3}{5}=\dfrac{8}{5}-\dfrac{1}{5}dx+
\dfrac{1}{5}dx-\dfrac{3}{5}=\dfrac{5}{5}=1.\\
\end{align*}

Abbiamo un risultato importante: se \(x\) è esattamente uguale a 
\(4-\dfrac{1}{2}dx\), allora la pendenza della retta \emph{tangente} alla
parabola è esattamente \(=1\). Non conoscendo il valore numerico di \(dx\)
(sappiamo solo che \(0<|dx|<1/n, \forall n \in \N\)), il risultato vale
per qualsiasi infinitesimo: \(\forall dx \ne 0\).\\
Poiché il numero iperreale \(x=4-\dfrac{1}{2}dx\) appartiene alla monade di 
\(4\),
la \emph{tangente} cercata passa per uno dei punti con ascissa \(x \in 
\mon{4}\).
Sono punti talmente vicini fra loro che la loro diversità diventa irrilevante
rispetto alla parte principale del risultato, cioè \(x=4\). La cosa si può 
esprimere
in due modi ugualmente corretti:
\begin{itemize}[nosep]
 \item se prendiamo due ascisse nella monade di \(x=4\), per i punti della 
parabola con queste ascisse passa una secante infinitamente vicina alla 
tangente desiderata;
\item la tangente desiderata passa per il punto della parabola con ascissa 
\(x=4\).
\end{itemize}
È chiaro che, se si può, sceglieremo sempre il secondo modo. Prima di tutto 
perché il ragionamento è corretto, poi perché è un modo molto più comodo, come 
si vede anche dal prossimo esempio.
\begin{esempio}
 Proseguendo l'esercizio dell'esempio \ref{esempio:diff01_mdiff}, calcoliamo 
 in due modi, negli iperreali e nei reali, la coordinata \(y\) del punto di 
 tangenza:\\
 Negli iperreali: \(x=4-\dfrac{1}{2}dx\srarrow y=\dfrac{x^2}{5}-\dfrac{3}{5}x+2=
 \dfrac{(4-\dfrac{1}{2}dx)^2}{5}-\dfrac{3}{5}(4-\dfrac{1}{2}dx)+2=\\
 =\dfrac{1}{5}\tonda{16-dx+\dfrac{1}{4}(dx)^2}-\dfrac{12}{5}+\dfrac{3}{10}dx+2=
 \cdots= \dfrac{14}{5}+\dfrac{1}{2}dx+\dfrac{1}{20}(dx)^2.\)\\
 Nei reali: \(x\approx 4\srarrow 
 y\approx\dfrac{4^2}{5}-\dfrac{3}{5}4+2=
 \dfrac{16}{5}-\dfrac{12}{5}+2=\dfrac{14}{5}\).\\
\end{esempio}

Dato che gli infinitesimi che vogliamo trascurare hanno origine nel 
rapporto differenziale, chiediamoci: 
\emph{possiamo trascurare gli infinitesimi del rapporto differenziale,
cioè fingere che valgano zero, anche se abbiamo specificato che deve essere 
\(dx \ne 0\)?}\\
Sappiamo già che esiste la risposta corretta: \emph{la funzione parte standard 
\(\pst{}\) di un iperreale finito isola il numero reale infinitamente vicino
e consente di ignorare i suoi infinitesimi}.

\section{Derivata: definizione}
\label{sec:diff01_deriv}
\begin{definizione}
  La \emph{derivata} della funzione \(f(x)\) nel punto \(\punto{x_0}{f(x_0)}\)
  è la parte standard del rapporto differenziale della funzione,
  calcolato in \(x_0\), purché essa esista e sia la stessa \(\forall dx\ne 
0\).\\
  La derivata si indica con \(f'(x_0)\) e 
  \(f'(x_0)=\pst{\dfrac{d(f(x)}{dx}\bigg|_{x=x_0}}=
            \pst{\dfrac{d(f(x_0)}{dx}}\)
\end{definizione}

La derivata, cioè l'applicazione della funzione \(\pst{}\) al rapporto
differenziale, soddisfa le nostre esigenze: fornisce il \emph{numero reale} 
più vicino al numero iperreale che risulta dal rapporto differenziale. 
La differenza fra questo e la derivata è un infinitesimo.\\
\(\dfrac{df(x)}{dx}\bigg|_{x=x_0}=f'(x_0)+\epsilon(x_0)\srarrow f'(x_0)
\approx \dfrac{df(x)}{dx}\bigg|_{x=x_0}\).

\begin{esempio}
 Deriviamo la funzione più semplice: \(f(x)=x\) per \(x=0\).\\
 Funzione: \(f(x)=x\);\\
 Differenziale per \(x=0\): \(df(0)=f(0+dx)-f(0)=0+dx-0=dx\);\\
 Rapporto differenziale \(\dfrac{df(0)}{dx}=\dfrac{dx}{dx}=1, \quad 
 \forall dx \ne 0\);\\
 Derivata: \(f'(0)=\pst{\dfrac{df(0)}{dx}}=\pst{1}=1\).\\
 In questo semplice caso il Rapporto differenziale e la derivata coincidono. 
\end{esempio}

Anche nel prossimo esempio il calcolo è molto semplice, tuttavia la derivata 
non esiste.

\begin{esempio}
 %valore assoluto
\label{esempio:diff01_derimodulo}
 Deriviamo \(f(x)=|x|\) per \(x=0\).\\
 La funzione contiene un valore assoluto: riscriviamola come se fosse 
 divisa in due rami:\\
 
% \begin{figure}[h!]
 \begin{minipage}[]{.39 \textwidth}
 \begin{center}
\begin{inaccessibleblock}
  [Derivata |x|]
  \derivamodulouno
\end{inaccessibleblock}
\end{center}
 \end{minipage} 
 \hfill
 \begin{minipage}[]{.59 \textwidth}
  Funzione: \(f(x)=|x|=\begin{cases}
   x\quad &\mbox{per }x\ge 0\\
  -x\quad &\mbox{ per }x<0
  \end{cases}\)\\
  Differenziale per \(x=0\):\\ 
\(df(0)=f(0+dx)-f(0)=0+dx-0=dx\);\\
  Rapporto differenziale:\\ 
\(\dfrac{df(0)}{dx}=\dfrac{dx}{dx}=
  \begin{cases}
  1\quad &\mbox{per }x\ge 0\\
 -1\quad &\mbox{ per }x<0
 \end{cases}\)\\
\end{minipage}
\label{}
% \end{figure} 

Si tratta di due semirette che si uniscono nell'origine. Hanno pendenza \(m=1\) 
per \(x\ge 0\) e \(m=-1\) per \(x<0\). Quale è la pendenza giusta della 
tangente per
\(x=0\), nel punto cioè dove il grafico cambia pendenza all'improvviso?\\
Nella monade di \(x=0\) gli infinitesimi positivi hanno sul grafico punti 
corrispondenti \(dy\) positivi e lo stesso avviene per i valori \(dx\) 
negativi. 
Perciò per \(x=0\) la parte standard del rapporto 
differenziale non è la stessa per qualsiasi \(dx\ne 0\) e la derivata non si può
calcolare, anche se la funzione è continua per \(x=0\).
\end{esempio}

L'esempio chiarisce perché nella definizione di derivata si debba specificare: 
``...purché essa esista e sia la stessa \(\forall dx\ne 0\)''.

\subsubsection{Significato della derivata}
L'operazione di derivazione consente di calcolare il tasso di variazione di una
funzione in un dato punto. Per tasso di variazione non si intende semplicemente
la differenza fra due valori prossimi della funzione \(df(x)\), ma la misura di 
tale differenza, ottenuta usando come unità di misura \(dx\), cioè 
confrontandola
con la variazione della variabile.\\
Dal punto di vista geometrico, se si considera il grafico della funzione 
nel piano cartesiano, la derivata in un punto misura la pendenza della tangente
al grafico in quel punto.

\begin{osservazione}
 L'operazione di derivazione è conosciuta dai tempi di Leibniz e di Newton, 
 più o meno nei termini che qui sono stati esposti. Il problema attorno al 
 quale i matematici di quell'epoca concentravano i loro sforzi era
 relativo alle variazioni: le variabili erano chiamate 
 \emph{quantità fluenti}  e le variazioni di queste erano dette 
 \emph{flussioni}.
 Calcolare una velocità, per esempio, era calcolare il rapporto
 fra la flussione dello spazio rispetto alla flussione del tempo.
\end{osservazione}

\subsubsection{Nomi per la derivata}
Il nome \emph{derivata} per indicare il calcolo che abbiamo descritto ha 
origini storiche. Si è diffuso  ovunque (derivative, derivada, dérivée, 
...) anche se non rende pienamente il significato di ciò che rappresenta. 
Se ne potrà intuire la ragione in un capitolo successivo, quando parleremo 
anche di funzioni primitive.\\
Sempre per ragioni storiche, si sono diffusi vari simboli che rappresentano 
l'operazione di derivazione:
\begin{enumerate}[noitemsep]
 \item \(f'(x_0)\) è il simbolo per il risultato della derivazione di \(f\) 
 per \(x= x_0\): semplice e sintetico;
 \item \(\Deriv{f(x)}\) indica la formula della derivazione di 
\(f\),  per es. \(\Deriv{5x\sqrt[3]{x^2}}=5\sqrt[3]{x^2}+\dfrac{10x}
 {3\sqrt[3]{x}}\);
 \item \(\dot{f}\) equivale a \(f'\); si usa in alcuni corsi universitari;
 \item \(\dfrac{d}{dx}f(x)\) è come \(f'(x)\): si pone in evidenza che si 
tratta di un rapporto con \(dx\);
 \item \(\dfrac{df(x)}{dx}\) si trova spesso nei libri come se il rapporto
 differenziale fosse identico alla derivata. In realtà sono sono due cose
 diverse.   Nella maggior parte dei casi quest'uguaglianza si può accettare, 
trattandosi di quantità indistinguibili. Per praticità, potremo
 anche noi seguire quest'uso, specificando la distinzione solo quando sarà 
 necessario.
\end{enumerate}


\subsubsection{Derivate facili e meno facili}
Vediamo alcuni esempi di derivazione.

\begin{esempio}
  Calcola \(f'(4)\) per la funzione \(f(x)=1-2\sqrt{x}\).
%\begin{figure}[h]
\begin{inaccessibleblock}
  [Derivate radice]
 \begin{center}
 \begin{minipage}[]{.40 \textwidth}
    \vspace{-5mm} 
  \derivaradice
%  \caption{\(f'(4)=-\frac{1}{2}\)}
 \end{minipage} 
 \hfill
 \begin{minipage}[]{.58 \textwidth}
   \vspace{5mm}
  Si richiede la derivata di \(f(x)=1-2\sqrt{x}\) nel punto 
  \(\punto{4}{f(4)}\), che corrisponde, nel grafico, alla pendenza della 
  retta tangente alla curva, per \(x=4\). Cioè dobbiamo calcolare:
  \begin{enumerate} [noitemsep]
   \item il differenziale della funzione;
   \item il rapporto fra questo e \(dx\) per \(x=4\);
   \item la parte standard del risultato precedente.
  \end{enumerate}
\end{minipage}
\end{center}
\end{inaccessibleblock}
\label{}
%\end{figure}

Lo svolgimento dei calcoli:
\begin{enumerate} [noitemsep]
 \item calcolare il differenziale della funzione: dalle regole apprese 
  sui differenziali (pag.\pageref{subsubsec:diff01_diffradq}) sappiamo che
  \begin{enumerate} [noitemsep]
   \item il differenziale di una differenza è la differenza dei 
   differenziali:\\
    \(d(1-\sqrt{x})=d(1)-d(2\sqrt{x})\);
   \item il differenziale di una costante è nullo: \(d(1)=0\);
   \item il differenziale del prodotto fra una costante e una funzione è
   \(d(k(f(x))=kdf(x)\), quindi: \(d(2\sqrt{x})=
   2\dfrac{dx}{(\sqrt{x+dx}+\sqrt{x})}\sim \dfrac{dx}{2\sqrt{x}}\). 
  \end{enumerate} 
  Per cui: \(d(1-2\sqrt{x})\sim\tonda{0-\frac{dx}{\sqrt{x}}}=
  -\frac{dx}{\sqrt{x}}\).
 \item calcolare il rapporto fra questo e \(dx\) nel punto richiesto:\\
  \(\tonda{\frac{d(f(x)}{dx}}\bigg|_{x=4}\sim
  \tonda{\frac{-\frac{dx}{\sqrt{x}}}{dx}}\bigg|_{x=4}=-\frac{1}{\sqrt{4}}=
  -\frac{1}{2}\);
 \item calcolare la parte standard del risultato: 
  la parte standard di \(-\frac{1}{2}\) è
  semplicemente: \(\pst{-\frac{1}{2}}=-\frac{1}{2}\).
\end{enumerate}
La retta tangente in \(\punto{4}{f(4)}\) ha pendenza pari a \(-\frac{1}{2}\).
\end{esempio}

Con le regole già date sui differenziali il calcolo è privo di difficoltà, 
non sembra che la derivata per questa funzione possa creare problemi.

\begin{esempio}
  \label{esempio:diff01_deriradice}
Calcola \(f'(0)\) per la funzione \(f(x)=1-2\sqrt{x}\).\\
Riutilizziamo i calcoli precedenti.
\begin{enumerate} [noitemsep]
 \item \(d(1-2\sqrt{x})=-\frac{dx}{\sqrt{x}}\);
 \item \(\tonda{\frac{d(f(x)}{dx}}\bigg|_{x=0}\sim
  \tonda{\frac{-\frac{dx}{\sqrt{x}}}{dx}}\bigg|_{x=0}=-\frac{1}{\sqrt{0}}=
  \dots\)?
 \item ?
\end{enumerate}
Una frazione nulla al denominatore non ha senso, il rapporto differenziale 
non è calcolabile e la derivata non esiste. 
\end{esempio}

Cerchiamo allora di capire cosa succede se il radicando è un infinitesimo 
non 
nullo \(\epsilon>0\), quindi infinitamente vicino a 0.

\begin{esempio}
Calcolare \(f'(\epsilon)\), sempre per  \(f(x)=1-2\sqrt{x}\).\\
\begin{enumerate} [noitemsep]
 \item \(d(1-2\sqrt{x})=-\frac{dx}{\sqrt{x}}\);
 \item \(\tonda{\frac{d(f(x)}{dx}}\bigg|_{x=\epsilon}=
  \tonda{\frac{-\frac{dx}{\sqrt{x}}}{dx}}\bigg|_{x=\epsilon}\sim
  -\frac{1}{\sqrt{\epsilon}}=-M\) (con \(\epsilon, M >0\));
 \item \(\pst{\frac{d(f(x)}{dx}\bigg|_{x=\epsilon}}=\pst{-M}=\) ?
\end{enumerate} 
\begin{osservazione}
 \(-M\) è un infinito negativo perché \(\epsilon\) si suppone positivo. Non 
avrebbe  senso, comunque, fare un tentativo con \(\epsilon\) negativo, perché 
la radice quadrata di numeri negativi (reali e iperreali) non è definita.\\
\end{osservazione} 

La parte standard di un numero infinito non esiste. La derivata non esiste, 
quindi la pendenza della tangente per \(x=0\) non può essere calcolata.\\
Esiste però la pendenza della retta secante
fra i due punti infinitamente vicini \(\punto{0}{f(0)=1}\) e 
\(\punto{\epsilon}{f(\epsilon)}\). Infatti il rapporto 
differenziale appena calcolato approssima questa pendenza.\\
Vediamo nel dettaglio l'equazione di questa retta, con la formula della
retta passante per i due punti: \(A\punto{0}{1}\) e 
\(B\punto{\epsilon}{f(\epsilon)=1-2\sqrt{\epsilon}}\).\\
\(\dfrac{x-x_A}{x_B-x_A}=\dfrac{y-y_A}{y_B-y_A}\srarrow
\dfrac{x-0}{\epsilon-0}=\dfrac{y-1}{1-2\sqrt{\epsilon}-1}\srarrow
\dfrac{x}{\epsilon}=\dfrac{y-1}{-2\sqrt{\epsilon}}\srarrow
y=\dfrac{-2\sqrt{\epsilon}}{\epsilon}x+\dfrac{1}{2\sqrt{\epsilon}}\).\\
La pendenza di questa secante è \(m=\dfrac{-2\sqrt{\epsilon}}{\epsilon}=
-\dfrac{2}{\sqrt{\epsilon}}\).\\
La frazione ha senso per qualsiasi \(\epsilon>0\), che è un numero 
infinitamente vicino a \(0\).  Se consideriamo vari \(\epsilon\), sempre 
più piccoli, \(m\) diventa sempre più negativo. Possiamo quindi che per \(x=0\)
la tangente ipotetica sarebbe una retta verticale.\\
\end{esempio}

\begin{esempio}
 %discontinua
 Per la funzione \(f(x)=\dfrac{1}{x-2}\) calcola la derivata \(f'(1)\).\\
%\begin{figure}[h]
\begin{inaccessibleblock}
  [Derivate radice]
 \begin{center}
 \begin{minipage}[]{.40 \textwidth}
   \vspace{-.5em}
  \derivaomografica
 % \caption{}
 \end{minipage} 
 \hfill
 \begin{minipage}[]{.58 \textwidth}
   Per le regole che presto approfondiremo, 
\(d\quadra{(x-2)^{-1}}~=~d(x^{-1})\)
   perciò possiamo fare riferimento al teorema 
pag.\pageref{subsubsec:diff01_diffrecip}.
\begin{enumerate} [noitemsep]
 \item \(d(f(x))=d\tonda {\frac{1}{x-2}}=-\dfrac{dx}{(x-2)^2+(x-2)dx}\);
 \item \(\tonda{\dfrac{d(f(x)}{dx}}\bigg|_{x=1}=
  \tonda{\dfrac{-\frac{dx}{(x-2)^2+(x-2)dx}}{dx}}\bigg|_{x=1}=\\ 
  =-\dfrac{1}{1-dx}\);
  \item \(\pst{-\dfrac{1}{1-dx}}=-1\).
\end{enumerate}
\end{minipage}
\end{center}
\end{inaccessibleblock}
\label{}
%\end{figure} 
Per \(x=1\), la tangente ha pendenza \(m=-1\).\\
\end{esempio}

\begin{esempio}
Per la funzione \(f(x)=\dfrac{1}{x-2}\) calcola la derivata \(f'(2)\).\\
\(f(x)\) è la stessa dell'esempio precedente, quindi:
\begin{enumerate} [noitemsep]
 \item \(d(f(x))=d\tonda {\frac{1}{x-2}}=-\dfrac{dx}{(x-2)^2+(x-2)dx}\);
 \item \(\tonda{\dfrac{d(f(x)}{dx}}\bigg|_{x=2}=
  \tonda{\dfrac{-\frac{dx}{(x-2)^2+(x-2)dx}}{dx}}\bigg|_{x=2} 
  =-\dfrac{1}{0-0dx}=\)?;
  \item è inutile calcolare la parte standard di un numero privo di senso.
\end{enumerate}
Cosa è successo in questo secondo caso? Che la funzione non è definita per 
\(x=2\).
Lo rende evidente il grafico, ma sarebbe stato meglio, prima ancora di
disegnarlo, studiare l'insieme di definizione e evitare calcoli inutili.
Infatti il differenziale è calcolabile solo nei punti in cui \(f(x)\) è
definita, e lo stesso vale anche per la derivata.
\end{esempio}


\begin{esempio}
 %valore assoluto
 Per la funzione \(f(x)=\dfrac{1}{2}|x-2|+2\) calcola le derivate \(f'(0)\), 
\(f'(4)\) e \(f'(2)\).\\
 La funzione contiene un valore assoluto: seguendo l’esempio 
\ref{esempio:diff01_derimodulo} riscriviamola come se fosse 
 divisa in due rami:

% \begin{figure}[h!]
 \begin{minipage}[]{.38 \textwidth}
 \begin{center}
\begin{inaccessibleblock}
  [Derivate radice]
  \derivamodulodue
\end{inaccessibleblock}
\end{center}
%   \caption{}
 \end{minipage} 
 \hfill
 \begin{minipage}[]{.58 \textwidth}
\(f(x)= \dfrac{1}{2}|x-2|+2=\\
=\begin{cases}
  \dfrac{x-2}{2}+2 &\text{ per } x-2< 0  \\
 \dfrac{-(x-2)}{2}+2 &\text{ per } x-2 \ge 0
\end{cases} 
\srarrow\\
\srarrow f(x)= \begin{cases}
 \dfrac{x}{2}+1 &\text{ per } x<2 \\
 -\dfrac{x}{2}+3 &\text{ per } x\ge 2
\end{cases}\)
\end{minipage}
% \end{figure} 
\vspace{1em}
Si tratta di due semirette che si uniscono in \(\punto{2}{2}\). L'equazione
di ciascuna di loro è una funzione lineare. Abbiamo già visto che la derivata 
dell'equazione di una retta coincide con il suo coefficiente angolare, 
quindi, anche senza derivare, avremo:
\(f'(0)=\dfrac{1}{2}\) e \(f'(4)=-\dfrac{1}{2}\).

Il calcolo di \(f'(2)\) invece è meno banale:\\
Abbiamo
\(f'(x)= \begin{cases}
 \dfrac{1}{2} &\text{ per } x<2 \\
 -\dfrac{1}{2} &\text{ per } x > 2
\end{cases}\)
Quale è la pendenza giusta della tangente per
\(x=2\), nel punto cioè dove il grafico cambia pendenza all'improvviso?\\
Per ragioni analoghe a quelle illustrate in \ref{esempio:diff01_derimodulo}
concludiamo che \(f'(2)\)  non esiste.
\end{esempio}

Da tutti questi esempi impariamo che per poter calcolare la derivata:
\begin{enumerate}[noitemsep]
 \item \(f(x)\) deve essere continua nel punto desiderato ed è una condizione
 necessaria per poter derivare (ma non sufficiente);
 \item il rapporto differenziale deve essere un numero finito;
 \item il risultato deve essere indipendente dalla scelta di \(dx\), cioè
 deve valere \(\forall dx\);
\end{enumerate}
\begin{osservazione}
 Inoltre abbiamo visto un altro fatto importante: la derivata ha un 
risultato
 in genere diverso a seconda del valore \(x_0\) per il quale viene calcolata, 
 cioè varia al variare di \(x_0\). Poiché se si fissa \(x_0\) il risultato, se
 esiste, è unico allora la derivata di una funzione è a sua volta una 
funzione.
 \end{osservazione}

 \begin{definizione}
  Una funzione per la quale la derivata è calcolabile \(\forall x_0\) del suo
 dominio si dice funzione derivabile.
\end{definizione}

\begin{osservazione}
 Una funzione derivabile è sicuramente continua, mentre il contrario non 
vale.
\end{osservazione}


\section{Derivare funzioni algebriche}
\label{sec:diff01_derialg}
Sistemate le questioni preliminari, passiamo al calcolo: impariamo a 
derivare.
Nei casi semplici ci avvarremo di quanto visto a proposito dei 
differenziali, ma, per le funzioni non trattate allora, dovremo calcolare 
anche questi.
Al termine, raccoglieremo i risultati utili in un prospetto riassuntivo.\\
Immaginiamo che le funzioni da derivare siano derivabili \(\forall x\) 
dell'insieme di definizione, per cui la derivata di \(f\) nel generico 
punto \(\punto{x}{f(x)}\) sarà \(f'(x)\).\\
Grazie al capitolo \ref{subsubsec:diff01_diffsint}, sappiamo già come
differenziare alcune funzioni algebriche: da quelle regole e dalla 
definizione di derivata ...deriva direttamente quanto segue.
\begin{teorema}
  La derivata di una funzione costante è \(0\): \(\Deriv{k}=0\).
\end{teorema}
\noindent Ipotesi: \(f(x)=k\).\tab Tesi: \(f'(x)=0\).
\begin{proof}
 Infatti \(df(x)=0\).
\end{proof}

\begin{teorema}
  La derivata della funzione identica è 1: \(\Deriv{x}=1\).
\end{teorema}
\noindent Ipotesi: \(f(x)=x\).\tab Tesi: \(f'(x)=1\).
\begin{proof}
 Infatti \(df(x)=\epsilon=dx\), quindi il rapporto differenziale è \(1\) e così
 anche la sua parte standard.
\end{proof}
\begin{osservazione}
 \(m=1\) è quindi anche la pendenza della bisettrice \(y=x\), cosa ormai 
risaputa.
\end{osservazione}

\begin{teorema}
  La derivata della funzione quadratica è: \(\Deriv{x^2}=2x\).
\end{teorema}
\noindent Ipotesi: \(f(x)=x^2\) .\tab Tesi: \(f'(x)=2x\).
\begin{proof}
  Infatti \(df(x)=2xdx+(dx)^2\) e il rapporto differenziale è \(2x+dx\) da cui,
  applicando la definizione di derivata, ...
\end{proof}

% \begin{figure}[h!]
 \begin{minipage}[]{.48\textwidth}
\begin{inaccessibleblock}
  [m tangenti a parabola]
 \begin{center}
 \parabola
 \end{center}
\end{inaccessibleblock}
 \end{minipage} 
 \hfill
 \begin{minipage}[]{.48\textwidth}
 \begin{center}
  \tangentiparabola
 \end{center}
 \end{minipage}
% \caption{\(y=x^2\) e la pendenza \(y=m(x)=2x\) delle sue tangenti.} 
% \label{}
% \end{figure}
\vspace{1em}
Iniziamo dal ramo sinistro del grafico: al crescere di \(x\), la curva e le 
sue tangenti, indistinguibili da essa nei punti di tangenza, passano
da un'inclinazione fortemente verso il basso (\(m<0\)) alla direzione 
orizzontale,
nel vertice. Per \(x>0\), poi, l'inclinazione aumenta progressivamente. Il 
progresso della pendenza delle tangenti è costante: per questo motivo il 
grafico di \(y=m(x)\) è una retta per l'origine.

\begin{osservazione}
Nota che la funzione derivata di una funzione quadratica è una funzione 
lineare: la pendenza delle tangenti a una parabola varia come varia la \(y\)
rispetto alla \(x\) in una retta.
\end{osservazione}

\begin{teorema}
  \label{diff01_teoderpotenza}
  La derivata della generica  è: \(\Deriv{x^n}=
  nx^{n-1}\).
\end{teorema}
\noindent Ipotesi: \(f(x)=x^n\) .\tab Tesi: \(f'(x)=nx^{n-1}\).
\begin{proof}
  Infatti il differenziale è \(df(x)=nx^{n-1}dx+ \delta(x)\) e,
  applicando la definizione di derivata, ...
\end{proof}

\begin{osservazione}
 Ripetendo l'osservazione a pag.\pageref{subsubsec:diff01_diffpot} relativa 
 a queste funzioni, il teorema \ref{diff01_teoderpotenza} è del tutto generale: 
si  applica con qualsiasi esponente reale.
Vale quindi anche per le funzioni radicali di qualsiasi indice e per le funzioni
razionali fratte, come esemplifichiamo nei prossimi due casi, molto comuni.
\end{osservazione}

% \begin{figure}[h!]
 \begin{minipage}[]{.48\textwidth}
\begin{inaccessibleblock}
  [m tangenti a cubica]
 \begin{center}
 \cubica
 \end{center}
\end{inaccessibleblock}
 \end{minipage} 
 \hfill
 \begin{minipage}[]{.48\textwidth}
 \begin{center}
  \tangenticubica
 \end{center}
 \end{minipage}
% \caption{\(y=x^3\) e la pendenza \(y=m(x)=3x^2\) delle sue tangenti.} 
% \label{}
% \end{figure}
\vspace{1em}
Come esempio di derivata della funzione potenza, consideriamo \(f(x)=x^3\)
e il suo grafico nel piano cartesiano. 
I due rami del grafico sono simmetrici rispetto all'origine e quindi lo sono 
anche le pendenze delle tangenti. 
Considerando le \(x\) crescenti, quindi da sinistra verso destra, le pendenze 
delle tangenti sono sempre positive, all'inizio molto accentuate, poi 
diminuiscono fino a \(m=0\). Oltre l'origine, riprendono a crescere, in maniera 
sempre più evidente. Il grafico di \(y=m(x)=3 x^2\) ha infatti la forma di una 
parabola simmetrica rispetto all'asse \(Y\).


\begin{corollario}
  La derivata della funzione radice quadrata è: 
\(\Deriv{\sqrt{x}}=
    \dfrac{1}{2\sqrt{x}}\), con la restrizione \(x\ne 0\).
\end{corollario}
\noindent Ipotesi: \(f(x)=\sqrt{x}\), con \(x\ne 0\) .\tab Tesi: 
    \(f'(x)=\dfrac{1}{2\sqrt{x}}\).

\pagebreak %-------------------------------------------

% \emph{Dimostrazione}
\begin{proof}
  Infatti il differenziale è \(df(x)=\dfrac{dx}{\sqrt{x+dx}+\sqrt{x}}\) e,
  applicando la definizione di derivata, si ha:\\
  \(\pst{\dfrac{dx}{dx\tonda{\sqrt{x+dx}+\sqrt{x}}}}=
  \pst{\dfrac{1}{\sqrt{x+dx}+\sqrt{x}}}=
      \dfrac{1}{\pst{\sqrt{x+dx}+\sqrt{x}}}=
      \dfrac{1}{\pst{\sqrt{x+dx}}+\pst{\sqrt{x}}}=\\
      =\dfrac{1}{\sqrt{x}+\sqrt{x}}=\dfrac{1}{2\sqrt{x}}\).
\end{proof}

% \begin{figure}[h!]
\begin{inaccessibleblock}
  [m tangenti a radquad]
 \begin{minipage}[]{.48\textwidth}
 \begin{center}
\scalebox{.9}{ \radquad}
 \end{center}
 \end{minipage} 
 \hfill
 \begin{minipage}[]{.48\textwidth}
 \begin{center}
\scalebox{.9}{  \tangentiradquad}
 \end{center}
 \end{minipage}
\end{inaccessibleblock}
% \caption{\(y=\sqrt{x}\) e la pendenza \(y=m(x)=\dfrac{1}{2\sqrt{x}}\) delle 
sue 
%   tangenti.} 
% \label{}
% \end{figure}

Le rette tangenti ai punti vicini all'origine hanno una pendenza elevata, 
che 
si attenua gradualmente man mano che \(x\) aumenta, fino ad assestarsi quasi
orizzontalmente.

\begin{corollario}
  La derivata della funzione reciproca è: \(\Deriv{\dfrac{1}{x}}=
    -\dfrac{1}{x^2}\).
\end{corollario}
\noindent Ipotesi: \(f(x)=\dfrac{1}{x}\).\tab Tesi: \(f'(x)=-\dfrac{1}{x^2}\).
\begin{proof}
  Infatti il differenziale è \(df(x)=\dfrac{-dx}{x(x+dx)}\) e,
  applicando la definizione di derivata, si ha:\\
  \(\pst{\dfrac{-dx}{dx(x(x+dx))}}=
\dfrac{-1}{\pst{x(x+dx)}}=\dfrac{-1}{\pst{x}\pst{x+dx}}=
      -\dfrac{1}{x\cdot x}=-\dfrac{1}{x^2}\).
\end{proof}

% \begin{figure}[h!]
\begin{inaccessibleblock}
  [Grafico della funzione 1/x e della sua derivata: 1/(x^2)]
 \begin{minipage}[]{.48\textwidth}
 \begin{center}
\scalebox{.9}{ \recip}
 \end{center}
 \end{minipage} 
 \hfill
 \begin{minipage}[]{.48\textwidth}
 \begin{center}
\scalebox{.9}{  \tangentirecip}
 \end{center}
 \end{minipage}
\end{inaccessibleblock}
% \caption{\(y=\dfrac{1}{x}\) e la pendenza \(y=m(x)=\dfrac{-1}{x^2}\) delle 
sue 
%   tangenti.} 
% \label{}
% \end{figure}

\begin{osservazione}
 Ovviamente, applicando alla lettera il teorema sulla derivata delle funzioni
 potenza si ottengono gli stessi risultati esposti in questi due ultimi 
 corollari.
\end{osservazione}

\section{Regole di derivazione}
\label{sec:diff01_regolederivate}
Possiamo applicare i teoremi precedenti a casi meno elementari, cioè
a funzioni algebriche che contengono somme, prodotti e quozienti di
funzioni elementari. 
\begin{esempio}
  Derivare la funzione \(f(x)= 3x-\dfrac{3}{x}\) in \(x_0=3\).\\
  Si tratta di una funzione nuova, ma è facile riconoscere che è formata 
  dalla somma (algebrica) di due funzioni e ciascuna di queste è data dal 
  prodotto fra la costante \(3\) e una funzione appena trattata. Perciò:\\
  \(\Deriv{3x}=3\cdot\Deriv{x}=3\cdot 1=3\); \tab
  \(\Deriv{\dfrac{3}{x}}=3\cdot\Deriv{\dfrac{1}{x}}
  =3\cdot \dfrac{-1}{x^2}=\dfrac{-3}{x^2}\);\\
  \(f'(x)=\Deriv{3x-\dfrac{3}{x}}=\Deriv{3x}-
  \Deriv{\dfrac{3}{x}}= 3-\dfrac{-3}{x^2}= 3+\dfrac{3}{x^2}\);\\
  \(f'(3)=3+\dfrac{3}{9}= 10\).
\end{esempio}
Senza troppi problemi, abbiamo dato per scontato che 
\begin{enumerate}[noitemsep]
 \item La derivata del prodotto tra una costante e  una funzione è il 
prodotto  fra la costante e la derivata della funzione: \quad 
 \(\Deriv{kf(x)}=k\Deriv{f(x)}\).
 \item La derivata della somma algebrica fra due funzioni è la somma 
algebrica  delle due derivate: \quad
\(\Deriv{f(x)+g(x)}=\Deriv{f(x)}+\Deriv{g(x)
}\).
\end{enumerate}
Da dove derivano queste certezze? Basta tornare alle regole di composizione
dei differenziali (pag.\pageref{subsec:diff01_combdiff}) per averne la 
conferma.

\begin{esempio}
Deriva la funzione che nel piano cartesiano è rappresentata dalla retta 
\(y=x+9\).\\
\(\Deriv{x+9}=1\).
\end{esempio}

Sempre in riferimento a quanto appreso sui differenziali 
e vista la definizione di derivata e le proprietà della parte standard, 
anche le regole 3 e 4 risultano giustificate:
\begin{enumerate}[noitemsep]
\setcounter{enumi}{2}
\item La derivata del prodotto fra due funzioni è la somma fra due prodotti:
la derivata della prima funzione per la seconda (non derivata) più la prima 
funzione (non derivata) per la derivata della seconda: \quad 
\(\Deriv{f(x)\cdot g(x)}=f'(x)\cdot g(x)+f(x)\cdot g'(x)\).
\item La derivata del quoziente fra due funzioni è la frazione che ha per 
denominatore il quadrato del divisore e per numeratore la differenza fra due
prodotti: la derivata della prima funzione per la seconda (non derivata) 
meno
la prima funzione (non derivata) per la derivata della seconda: \quad 
\(\Deriv{\dfrac{f(x)}{g(x)}}=\dfrac{f'(x)\cdot g(x)-f(x)\cdot 
g'(x)}
  {\quadra{g(x)}^2}\).
\end{enumerate} 

\begin{esempio}
  Calcola la derivata del prodotto \(f(x)=x\sqrt{x}\).\\
  \(f'(x)=1\cdot \sqrt{x}+x\cdot\frac{1}{2\sqrt{x}}=
  \sqrt{x}+\frac{x}{2\sqrt{x}}\) (se \(x\ne 0\)).\\
  Fin qui l'applicazione della regola 3. Ma il risultato si può scrivere 
  in forma più compatta, perché \(\sqrt{x}+\frac{x}{2\sqrt{x}}=
  \sqrt{x}+\frac{\sqrt{x}}{2}=\frac{3}{2}\sqrt{x}\).
  \end{esempio}
\begin{osservazione}
  In realtà per fare questo calcolo non siamo obbligati ad applicare la regola 
  3, poiché \(f(x)=x\sqrt{x}=x^{1+\frac{1}{2}}=x^{\frac{3}{2}}\). Verifica che 
  applicando il teorema \ref{diff01_teoderpotenza} a \(f(x)\) espressa in 
questa 
  forma la derivata risulta la stessa.
 \end{osservazione}


\begin{esempio}
  Derivare \(f(x)=\dfrac{x}{\sqrt{x}}\).\\
  Seguendo la regola n.4: \(f'(x)= 
\dfrac{1\cdot\sqrt{x}-x\dfrac{1}{2\sqrt{x}}}
  {\tonda{\sqrt{x}}^2}=\dfrac{\sqrt{x}-\dfrac{\sqrt{x}}{2}}{x}=
  \dfrac{\dfrac{\sqrt{x}}{2}}{x}=\dfrac{1}{2\sqrt{x}}\).\\
  Ma guarda che combinazione: abbiamo ottenuto la derivata della radice! 
Allora la funzione di partenza è equivalente a \(f(x)=\sqrt{x}\)? (Ad essere 
precisi, 
non   esattamente. Infatti \dots)
\end{esempio}
\begin{esempio}
  Sappiamo già che \(\mathit{D}\tonda{\dfrac{1}{x}}=\dfrac{-1}{x^2}\). 
  Mettiamo alla prova ancora una volta la regola n.4:
  \(f'(x)=\dfrac{0\cdot x-1\cdot 1}{x^2}= \dots\)
\end{esempio}

\begin{esempio}
 Ora finalmente un calcolo che si può svolgere solo con la regola n.4.
 Derivare \(f(x)= \dfrac{x+2}{x^3-x+4}\).\\
 \(f'(x)=\dfrac{1\cdot(x^3-x+4)-(x+2)(3x^2-1)}{(x^3-x+4)^2}\). Fin qui 
 l'applicazione della regola. \\
 Con ulteriori calcoli:
 \(\dots =\dfrac{x^3-x+4-(3x^3-x+6x^2-2)}{(x^3-x+4)^2}=
 \dfrac{-2x^3-6x^2+6}{(x^3-x+4)^2}\).\\
\end{esempio}


\section{Derivare funzioni composte e funzioni inverse}
\label{}
\subsection{Funzioni composte}
\label{subsec:diff01_dericomp}

\begin{esempio}
 \(s(t)~=~s_0~+~v_0t~+~\frac{1}{2}at^2\) è la legge oraria del moto rettilineo
 uniformemente accelerato. Anche se nella formula mancano le usuali 
 sigle \(f(x)\), \(y\), \(x\), si tratta di una comune funzione polinomiale
 di 2° grado e le si possono applicare le regole che stiamo studiando.\\
 Derivando si ottiene \(s'(t)=0+v_0+\frac{1}{2}\cdot 2at=v_0+at\) 
che, essendo la derivata dello spazio rispetto al tempo, esprime la velocita 
\(v(t)\) in questo tipo di moto.
\end{esempio}
L'esempio serve a ricordare che le funzioni e le variabili si esprimono con 
sigle qualsiasi, ma questo non cambia le regole. La libertà di uso dei simboli
può facilitare i calcoli, come si vede nel prossimo caso.
\begin{esempio}
  Deriva la funzione \(v(u)=\dfrac{u^2}{8}\). 
  Soluzione: \(v'(u)=\dfrac{1}{8}2u=\dfrac{u}{4}\). Infatti il differenziale è 
\(dv(u)=\dfrac{1}{8}[2udu+(du)^2]\) perché \(df(x)=2xdx+(dx)^2\) 
  e \(d(kf(x)=kdf(x)\). La parte standard del rapporto differenziale fornisce
  il risultato \(\dfrac{u}{4}\).
\end{esempio}

\begin{esempio}
Deriva la funzione \(u(t)=3t-2\). Soluzione: \(u'(t)=3\). Infatti il 
 differenziale è \(du(t)=3dt-0\). Allora la parte 
 standard del rapporto differenziale fornisce il risultato \(3\).
\end{esempio}

Combiniamo i due esempi: \(v=f(u)\) e \(u=f(t)\), cioè \(v\) è funzione di 
\(u\), 
perché i suoi valori dipendono dai quadrati, divisi per \(8\), dei numeri \(u\).
Invece \(u\) è funzione di \(t\), nel senso che i suoi valori sono i valori 
\(t\) 
triplicati e poi ridotti di 2. In ``matematichese'':\\
\(v(u(t))=\dfrac{[u(t)]^2}{8}=\dfrac{(3t-2)^2}{8}\).


\begin{inaccessibleblock}
  [box funzione composta]
 \begin{center}
 \begin{minipage}[]{.48\textwidth}
  \boxfcomposta
 \end{minipage} 
 \hfill
 \begin{minipage}[]{.48\textwidth}
Si tratta di una macchina che incatena due calcoli successivi.\\
Immettiamo ad esempio il valore \(t=6\). La macchina sviluppa al suo interno 
\(u(6)=3\cdot 6-2=16\) grazie a \(u\) e infine produce 
\(v(16)=\dfrac{16^2}{8}=32\).
Una catena del genere si chiama \emph{funzione di funzione} o
\emph{funzione composta}: \(v(u(t))\).\\
 \end{minipage}
 \end{center}
\end{inaccessibleblock}
\label{}

Come deriviamo  \(v\) rispetto a \(t\)? Dalla definizione di derivata: 
\(\Deriv{v(u(t))}=\pst{\dfrac{d(v(u(t)))}{dt}}\), 
e il punto è il calcolo dei differenziali.
\begin{inaccessibleblock}
  [differenziale funzione composta]
 \begin{center}
 \begin{minipage}[]{.48\textwidth}
  \diffcomposta
 \end{minipage} 
  \hfill
 \begin{minipage}[]{.48\textwidth}
Dal primo esempio sappiamo che \(dv=\dfrac{u}{4}du\ +\) infinitesimi di 
ordine 
superiore.
Poiché \(u=3t-2\), \(du=3dt\), avremo:\\
\(dv\approx \dfrac{u}{4}du\). \hspace{1cm} \(du=3dt\). \(\srarrow 
dv=\dfrac{3t-2}{4}3dt \srarrow\\ 
\srarrow 
\pst{\dfrac{d(v(u(t)))}{dt}}=\pst{\dfrac{(3t-2)3dt}{4dt}}=\)
\(=\dfrac{9t-6}{4}\).
 \end{minipage}
 \end{center}
\end{inaccessibleblock}
\label{}

C'è un modo più semplice? In questo caso, sì: basta sviluppare il quadrato
\((3t-2)^2\), dividere ogni termine per \(8\) e poi derivare il polinomio. 
Ma a volte il modo più semplice non c'è.
\begin{esempio}
  Calcolare \(f'(x)\), con \(f(x)=\sqrt{3-x^2}\).\\
  \(f(x)\) è composta: si può pensare
  formata così: \(g(x)=3-x^2\) e \(f(g(x))=\sqrt{g(x)}=\sqrt{3-x^2}\).\\
  In questo modo si vedono meglio i differenziali.
  \(df(x)=d\tonda{\sqrt{g(x)}}\approx\frac{1}{2\sqrt{g(x)}}\cdot dg(x)\) e 
  \(dg(x)=d(3-x^2)\approx-2xdx\). Per brevità, raccogliamo sotto un'unica
  sigla \(\epsilon\) tutti gli infinitesimi 
  di ordine superiore, che poi la parte standard si incaricherà di far 
  scomparire nel momento di calcolare la derivata.\\
  Il differenziale: \(df(x)=df(g(x))=\frac{1}{2\sqrt{g(x)}}\cdot 
dg(x)+\delta=
  \frac{1}{2\sqrt{3-x^2}}\cdot (-2x)dx+ \epsilon\).\\
  Da qui la derivata: 
  \(f'(x)=\pst{\dfrac{\frac{-2xdx}{2\sqrt{3-x^2}} +\epsilon}{dx}}=
  \dfrac{-x}{\sqrt{3-x^2}}\).
\end{esempio}
Esaminiamo in modo astratto come abbiamo costruito il rapporto 
differenziale della funzione composta nell'esempio precedente: 
\(\dfrac{df}{dx}=\dfrac{df}{dg}\dfrac{dg}{dx}\). \\
Sembra un'uguaglianza banale, perché semplificando si otterrebbe l'identità.
In realtà i due differenziali \(dg\) sono scritti allo stesso modo ma hanno un
significato diverso e non è detto che si possano semplificare.\\
\(dg\) al denominatore differenzia la variabile indipendente della funzione 
\(f\), \(dg\) al numeratore è la conseguenza del differenziale \(dx\). Perciò
se varia \(x\) si ha un effetto su \(g(x)\) e se varia \(g\) si ha un effetto 
su  \(f(g)\). In generale le due variazioni \(dg\) saranno diverse per 
infinitesimi
di ordine superiore, che possono essere eliminati considerando le parti 
standard.\\
Non avremo occasione di affrontare queste difficoltà, nei nostri esercizi.
Ma sono questioni importanti per una regola che vogliamo sempre valida. 
Perciò il prossimo enunciato deve contenere tutti i dettagli.

\begin{teorema}
  \label{teo:diff01_dericomp}
 Se esistono le derivate \(g'(x)\) e \(f'(g(x))\) per il medesimo valore \(x\),
 la funzione composta \(f(g(x))\) è derivabile e la sua derivata si calcola
 così: \(f'(x)=f'(g(x))=f'(g)\cdot g'(x)\), cioè la derivata di una funzione 
composta è il prodotto delle derivate delle funzioni componenti, 
ciascuna rispetto alla propria variabile.
\end{teorema}
\noindent Ipotesi: \(f(x)=f(g(x))\), \(f\), \(g\) derivabili .\tab 
Tesi: \(f'(x)=f'(g(x))=f'(g(x))\cdot g'(x)\).
% \begin{proof}
%   Tralasciando di specificare la scomparsa degli infinitesimi di ordine 
%   superiore e grazie alle proprietà della funzione \(\pst{}\), abbiamo:\\
%   \(f'(g(x))=\pst{\dfrac{df(x)}{dx}}=
%   \pst{\dfrac{df(g)}{dg}\dfrac{dg(x)}{dx}}=
%   \pst{\dfrac{df(g))}{dg}}\pst{\dfrac{dg(x)}{dx}}=
%   f'(g(x))g'(x)\).
% \end{proof}
\begin{esempio}
  Derivare \(f(x)=\tonda{-\dfrac{3}{2}x^3+2x^2-6}^5\).\\
  Poniamo \(g(x)=-\dfrac{2}{3}x^3+2x^2-6\) e \(f(g)=g^5\). \\
  Allora: 
  \(f'(g)= 5g^4\) e \(g'(x)=-2x^2+4x\), \\
  quindi: 
  \(f'(x)=f'(g)\cdot g'(x)=5g^4(-2x^2+4x)=
  5\tonda{-\dfrac{2}{3}x^3+2x^2-6}^4(-2x^2+4x)\).
\end{esempio}
\begin{osservazione}
 La regola della funzione composta si estende ai casi in cui le funzioni 
 in gioco sono tre, o più:
 \(\Deriv{f(g(h(x)))}=f'(g)\cdot g'(h)\cdot h'(x)\).
\end{osservazione}
% \begin{osservazione}
%  Lo studente smart si era già accorto che la derivata di un prodotto non 
%  è il prodotto delle derivate. Ora arriva la conferma:
%  il prodotto delle derivate non è la derivata di un prodotto.
% \end{osservazione}

\subsection{Funzioni inverse}
\label{subsec:diff01_derifuninverse}

 Cosa si intende per funzioni inverse? \(y=kx\) e \(x=\frac{y}{k}\), per 
esempio, 
sono formule inverse l'una dell'altra, ma non sono funzioni inverse rispetto 
alla stessa variabile \(x\). Esse esprimono con due differenti espressioni la 
stessa iperbole equilatera e hanno lo stesso grafico, quindi le stesse tangenti 
al grafico e le stesse derivate rispetto a \(x\).\\
La funzione inversa rispetto a \(x\) di \(y=kx\) è \(y=\frac{x}{k}\), cioè è
la formula inversa, ma applicata a \(x\). 

Nella tabella che segue consideriamo 
come funzione inversa l'inversione della formula \(y=\dots\), come ad esempio 
\(x=\frac{y}{k}\). Per questo la derivata viene calcolata rispetto a \(y\): 
\(x'=\pst{\dfrac{dx}{dy}}\).\\

\affiancati{.39}{.59}{
Ecco alcuni esempi di semplici funzioni algebriche, con le loro 
formule dirette e inverse e con le rispettive derivate.
}{
\begin{center}
\begin{tabular}{cccc}
\(y=f(x)\) & \(x=g(y)\) & \(f'(x)\) & \(g'(y)\)\\\hline
\(y=x+c\) & \(x=y-c\) & 1 & 1\\
\(y=kx\) & \(x=y/k\) & \(k\) & \(frac{1}{k}\)\\
\(y=x^2\), \(x > 0\) & \(x=\sqrt{y}\) & \(2x\) & 
\(frac{1}{2\sqrt{y}}=\frac{1}{2x}\)\\
\(y=\frac{1}{x}\) & \(x=\frac{1}{y}\) & \(-\frac{1}{x^2}\) & 
\(-\frac{1}{y^2}=-x^2\)\\
% \hline
\end{tabular}
\end{center}
}

\begin{osservazione}
La funzione  \(y=x^2\), nella terza riga della tabella, è definita \(\forall 
x\).
Tuttavia qui il dominio viene ristretto, in modo da considerare un solo ramo 
della parabola. In questo modo si può definire come funzione la formula inversa
\(x=g(y)\) (\(x\ge 0\)) e la sua derivata (\(x\ne 0\)).\\
Occorre sempre porre attenzione al dominio di \(f\), quando si vuole 
definire la sua inversa. Una buona regola pratica per capire se \(g=f^{-1}\) è 
definibile, è di tagliare il grafico di \(f\) con una retta orizzontale: se la
retta incrocia il grafico di \(f\) in più punti, \(f^{-1}\) non esiste.
\end{osservazione}

Considera il caso semplice che segue.
\begin{esempio}
  Derivare \(f(x)=\sqrt{x^2}\) restringendo il dominio a \(x > 0\).\\
  Si dirà: non c'è problema, \(f(x)\) corrisponde algebricamente a 
  \(f(x)=\sqrt{x^2}=x\), perciò  \(f'(x)=1\).\\
  Vero. Ma poniamo \(g(x)=x^2\) e \(f(x)=f(g(x))=\sqrt{g(x)}\).\\
  Con la regola delle funzioni composte si ha:\\ 
  \(f'(x)=f'(g)\cdot g'(x)= \dfrac{1}{2\sqrt{g}}\cdot 2x=
  \dfrac{1}{2\sqrt{x^2}}\cdot 2x=\dfrac{1}{2x}\cdot 2x=1\).\\
  Conclusione: 
\(\Deriv{x^2}=\dfrac{1}{\Deriv{\sqrt{x}}}\).
\end{esempio}
Si intuisce che: siccome \(f'(g)\cdot g'(x)=1\), allora 
\(g'(x)=\dfrac{1}{f'(g)}\).
L'intuizione è corretta ed effettivamente una regola simile esiste. Occorre 
però precisare che la regola vale
 \begin{enumerate} [noitemsep]
  \item se esiste l'inversa della funzione da derivare;
  \item se entrambe le funzioni sono derivabili;
  \item se  \(f'(g)\ne 0\).
 \end{enumerate}
Infatti, nell'esempio tutto funziona , ma solo se \(x\ne 0\)
(ricorda anche l'esempio \ref{esempio:diff01_deriradice}). 


\begin{inaccessibleblock}
  [differenziale funzione invera]
 \begin{center}
 \begin{minipage}[]{.55\textwidth}
  \diffinversa
 \end{minipage} 
  \hfill
 \begin{minipage}[]{.42\textwidth}
Se valgono tutte le condizioni favorevoli, allora esistono la funzione
\(f\) e la sua inversa \(g=f^{-1}\). La funzione e la sua inversa, se esiste,
hanno grafici simmetrici rispetto alla bisettrice \(y=x\).

Ogni punto \(\punto{x}{f^{-1}(x)}\) sulla curva della funzione inversa ha un
corrispondente \(\punto{y}{f(y)}\) sulla curva \(y=f(x)\), nella simmetria 
rispetto alla bisettrice. Guardiamo come si corrispondono i differenziali:
\(dx\) e \(dy\) di una curva sono invertiti rispetto ai differenziali 
dell'altra.
Quindi le derivate corrispondenti sono reciproche l'una con l'altra.
 \end{minipage}
 \end{center}
\end{inaccessibleblock}
\label{}

\begin{teorema}
 Le derivate di due funzioni \(f\), \(g\), inverse l'una dell'altra, se esistono
 e sono diverse da zero, sono reciproche l'una rispetto all'altra.
\end{teorema}
\noindent Ipotesi: \(y=f(x)\), \(x=g(y)\) \(f\), \(g\) derivabili, con 
\(f'\ne0\), 
\(g'\ne 0\).
\hspace{2cm} Tesi: \(f'(x)=\dfrac{1}{g'(y)}\).
% \begin{proof}
%   Grazie alle proprietà della funzione \(\pst{}\), abbiamo:\\
%   \(f'(x)\cdot g'(y)=\pst{\dfrac{dy}{dx}}\cdot\pst{\dfrac{dx}{dy}}=
%   \pst{\dfrac{dy}{dx}\cdot\dfrac{dx}{dy}}=\pst{1}=1\)\\
%   per cui: \(f'(x)=\dfrac{1}{g'(y)}\).
% \end{proof}
\begin{osservazione}
 Dire che il rapporto differenziale \(frac{dy}{dx}\) è reciproco di 
\(frac{dx}{dy}\) 
 non è banale come dire che la frazione \(frac{3}{4}\) è reciproca di 
\(frac{4}{3}\).
 Una frazione è un rapporto fra numeri e genera un numero, il rapporto 
differenziale è un rapporto fra funzioni e genera una funzione. In più,  
in una frazione come la frazione \(frac{3}{4}\) i numeri \(3\) e \(4\) sono 
indipendenti, invece il differenziale \(dy\) dipende da \(dx\) nel rapporto
\(frac{dy}{dx}\),  e \(dx\) dipende da \(dy\) nel rapporto inverso. 
Questo comporta questioni delicate, simili a quelle descritte a proposito del 
teorema \ref{teo:diff01_dericomp}. 
Per questo bisogna essere precisi nell'enunciato.
\end{osservazione}
\begin{esempio}
  Trova la derivata di \(f(x)=\dfrac{1}{\sqrt{5-x^2}}\).
  \begin{enumerate}[noitemsep]
   \item Usando il teorema \ref{teo:diff01_dericomp} e le regole 
precedenti:\\
   \(f'(x)=\Deriv{\dfrac{1}{\sqrt{5-x}}}=
   \Deriv{(5-x)^\frac{-1}{2}}=-\dfrac{1}{2}(5-x)
   ^\frac{-3}{2}(-1) = \dfrac{1}{2(\sqrt{5-x})^3}\).
   \item Usando la regola appena appresa:\\
   Costruiamo la formula inversa con pochi passaggi algebrici: riavremo la 
   stessa funzione, in cui \(y\) figura come variabile indipendente: 
\(x=f(y)\).\\
   Quindi deriviamo: \(\Deriv{x}=x'=f'(y)=\pst{\dfrac{dx}{dy}}\).\\
   \(f(x)=y=\dfrac{1}{\sqrt{5-x}}\srarrow y^2=\dfrac{1}{5-x}\srarrow 
   y^{-2}=5-x\srarrow x=5-y^{-2}\)  (formula inversa)\\
   \(x'=\pst{\dfrac{dx}{dy}}=-2y^{-3}\) (derivata della funzione inversa)\\
   \(\srarrow y'=\pst{\dfrac{dy}{dx}}=\dfrac{y^3}{2}=
   \dfrac{1}{2(\sqrt{5-x})^3}\).
  \end{enumerate}
% In genere la funzione inversa si costruisce in pochi passaggi semplici, poi 
% la derivazione risulta elementare.
\end{esempio}


\subsection{Derivata, differenza, differenziale, incremento}
\label{subsec:diff01_deridiff}

\begin{inaccessibleblock}
  [differenziale della tangente]
  \begin{minipage}[]{.47\textwidth}
    \begin{center} \derivata \end{center}
 \end{minipage} 
  \hfill
 \begin{minipage}[]{.47\textwidth} \vspace{2.5em}
Nel punto \(\punto{x_0}{f(x_0)}\) il grafico della funzione e la tangente
sono indistinguibili. 
Il campo visivo del primo microscopio mostra \({x_0}\) e \(dx\), 
uno fra gli infiniti infinitesimi nella monade di \(x_0\). A livello 
microscopico la curvatura del grafico non esiste,  per cui il grafico e la 
tangente sono sovrapposti. Per cogliere la distinzione fra i due occorre 
un secondo microscopio non standard, centrato a distanza infinitesima dal 
punto. Nel suo campo visivo la tangente e il grafico della funzione 
appaiono come rette parallele. Nella rappresentazione doppiamente ingrandita
il punto di coordinate reali più vicino a quello raffigurato  si trova a 
distanza infinita (\(\infty^2\)).
 \end{minipage}
\end{inaccessibleblock}
\label{}
La figura mostra che la tangente e la secante per due punti infinitamente 
vicini sono distinguibili solo al dettaglio degli infinitesimi. Lo 
stesso avviene per la derivata e il rapporto differenziale.\\
Dalla definizione di derivata \(f'(x)=\pst{\dfrac{df(x)}{dx}}\) ricaviamo che
\(f'(x)\sim \dfrac{df(x)}{dx}\): la derivata e il rapporto differenziale 
sono quantità quasi, ma non esattamente, uguali. Possiamo esprimere 
meglio questo concetto:\\
\(\dfrac{df(x)}{dx}=f'(x)+\epsilon(x)\) e quindi 
\(df(x)=f'(x)dx+\epsilon(x)dx\).\\
\(\epsilon(x)\) è l'infinitesimo, o l'insieme di infinitesimi, che fa la 
differenza fra la derivata e il rapporto differenziale.  
\(\epsilon(x)dx\), un prodotto fra infinitesimi, forma un infinitesimo 
di ordine superiore rispetto a \(f'(x)dx\).
Nella maggior parte dei casi pratici si tratta di una differenza 
trascurabile 
e si può accettare l'espressione \(f'(x)dx\) al posto dell'espressione
\(df(x)\), che può essere meno comoda da calcolare.\\
Nella storia del calcolo infinitesimale l'uso di una formula al posto 
dell'altra
è diventato normale e molti testi definiscono differenziale della 
funzione il prodotto \(f'(x)dx\), invece della differenza infinitesimale 
\(df(x)\).

Il problema diventa più critico nelle applicazioni pratiche, quando si 
devono 
usare le differenze finite al posto dei differenziali. Si usa allora, per
analogia:\\
\(\Delta f(x)=f'(x_0)\Delta x + \delta(x)\Delta x\).\\
Dato che l'ultimo termine è il meno rilevante, si ha:\\
\(\Delta f(x)\cong f'(x_0)\Delta x \srarrow
f(x)-f(x_0)\cong f'(x_0)(x-x_0)\srarrow f(x)\cong f'(x_0)(x-x_0)+ f(x_0)\).\\
Si tratta dell'usuale equazione della tangente per \(x=x_0\).\\
La formula è esatta solo per le funzioni rappresentate da rette.
Per le altre funzioni la differenza \(\Delta f(x)\) fra due valori della 
funzione 
può essere anche molto diversa da \(f'(x_0)\Delta x\), che è in realtà la 
differenza fra due valori \(y\), calcolati lungo la tangente.

\begin{inaccessibleblock}
  [differenziale della tangente]
  \begin{minipage}[]{.4\textwidth}
    \begin{center} \scalebox{1}{\falsodifferenziale} \end{center}
 \end{minipage} 
  \hfill
 \begin{minipage}[]{.55\textwidth}
 Allontanandosi da \(x_0\) di una quantità finita \(\Delta x\), le differenze 
della funzione \(\Delta f(x)\), calcolate a partire da \(x_0\), possono 
 essere anche molto diverse dalle differenze \(f'(x_0)\Delta x\), calcolate 
lungo la tangente.
 \end{minipage}
\end{inaccessibleblock}
\label{}

Nei testi in cui si scrive che \(\Delta f(x)=f'(x_0)\Delta x+\delta(x)\Delta 
x\), \(f'(x_0)\Delta x\) viene chiamato differenziale, anche se si tratta di 
una 
differenza, una quantità finita, non infinitesima. In tali testi la differenza
\(\Delta f(x)\) è detta incremento e l'equazione\\
\(\Delta f(x)\cong f'(x_0)\Delta x\) \hspace{.5cm}(\emph{Equazione alle 
differenze})\\ 
esprime il cosiddetto \emph{Teorema dell'incremento}.\\
Ai fini pratici l'Equazione alle differenze è un'equazione utile, 
soprattutto 
quando si studiano i fenomeni naturali, perché le variazioni che si 
misurano in
questi ambiti sono differenze finite. 
Ovviamente i risultati che si ottengono utilizzando il teorema 
dell'incremento
saranno tanto più precisi quanto più piccola è la variazione \(\Delta x\), in 
rapporto ai valori \(x\).

\begin {esempio}
Fare una stima ragionevole della quantità \(\sqrt{25,162}\).\\
Si sta usando la funzione \(f(x)=\sqrt{x}\), la cui derivata è: 
\(f'(x)=\dfrac{1}{2\sqrt{x}}\).\\
Utilizziamo il teorema dell'incremento, fissando \(x_0=25\) e \(\Delta 
x=0,162\).\\
\(\Delta f(x)=f'(x_0)\Delta x+\delta(x)\Delta x\cong f'(x_0)\Delta x
\srarrow f(x)\cong f'(x_0)\Delta x+ f(x_0)\)\\
\(f(25,162)\cong f'(25)\cdot 0,162+f(25)\srarrow 
\sqrt{25,162}\cong \dfrac{1}{2\sqrt{25}}\cdot 0,162+ \sqrt{25}=
\dfrac{0,162}{10}+5\cong 5,0162\).\\
Confronta il risultato con quanto propone la calcolatrice.\\
Poiché l'approssimazione è tanto migliore quanto più piccolo è \(\Delta x\),
ripeti l'esercizio con \(x_0=25,1001\) (la cui radice è \(5,01\)) e quindi
\(\Delta x=0,06199\).
\end {esempio}

\pagebreak %----------------------------------------------------

\subsection{Sintesi}
\label{subsec:diff01_derisintesi}
Nel seguente schema riassumiamo le derivate immediate e le regole di 
derivazione:

\begin{minipage}{.48\textwidth}
\begin{center}
\emph{Derivate immediate}
\vspace{.5em}
\begin{tabular}{c|c} 
\(f(x)\) & \(f'(x)\)\\ \hline
\(k\)  & 0 \\   
\(x\) & 1 \\  
\(x^\alpha\) & \(\alpha x^{\alpha-1}\) \\ 
\(e^x\) & \(e^x\)\\    
\(a^x\) & \(a^x\ln a\)\\
\(\ln x\) & \(\dfrac{1}{x}\)\\
\(\log_a x\) & \(\dfrac{1}{x\ln a}\)\\
\(\sen x\) & \(\cos x\) \\ 
\(\cos x\) & \(-\sen x\) \\ 
\(\tg x\) & \(\dfrac{1}{cos^2 x}=\tg^2 x +1\)
\end{tabular}
\end{center}
\end{minipage}
\hfill
\begin{minipage}{.48\textwidth}
\begin{center}
\emph{Regole di derivazione}
\vspace{.5em}
\begin{tabular}{l}
\vspace{.5em}  Regole di derivazione\\\vspace{.5em}
\(\Deriv{f(x)+g(x)}=f'(x)+g'(x)\)\\\vspace{.5em}
\(\Deriv{kf(x)}=kf'(x)\)\\\vspace{.5em}
\(\Deriv{f(x)\cdot g(x)}=f'(x)\cdot g(x)+f(x)\cdot 
g'(x)\)\\\vspace{.5em}
\(\Deriv{\dfrac{1}{f(x)}}=-\dfrac{f'(x)}{f^2(x)}\)\\\vspace{.5em}
\(\Deriv{\dfrac{f(x)}{g(x)}}=\dfrac{f'(x)\cdot g(x)-f(x)
    \cdot g'(x)}{g^2(x)}\)\\\vspace{.5em}
\(\Deriv{f(g(x))=f'(g(x))\cdot g'(x)}\)
\end{tabular}
\end{center}
\end{minipage}

\subsection{Applicazioni non solo matematiche}
Il calcolo della derivata è entrato da protagonista nella descrizione 
matematica dei fenomeni naturali da almeno \(300\) anni e più recentemente
anche nello studio delle scienze umane e sociali. 
Gli esempi che seguono si servono di questo calcolo in due modi:
\begin{enumerate}[noitemsep]
 \item per trovare il tasso di variazione:
data una funzione, si deve cercare quanto rapidamente essa varia rispetto
alla sua variabile;
 \item attraverso l'equazione alle differenze, 
nella forma diretta \(\Delta f(x)\cong f'(x_0)\Delta x\), o nella forma
inversa \(\Delta x \cong \dfrac{\Delta f(x)}{f'(x_0)}\).
\end{enumerate}
L' utilità dell'equazione alle differenze viene dal
fatto che si tratta di un'equazione di primo grado in \(\Delta x\), perché i 
termini infinitesimi di grado superiore sono trascurati. Le soluzioni che 
così si ottengono sono approssimate, ma in genere il grado di imprecisione è 
sopportabile.

\begin{esempio}
 Se lanci verso l'alto una palla alla velocità iniziale \(v=20\) m/s, questa 
viene  frenata dalla forza di gravità e la sua legge del moto risulta 
all'incirca  \(h(t)=20t-5t^2\). Trova a quale altezza \(h\) la palla si ferma.\\
 Risposta. Se la palla si ferma, la sua velocità è nulla, quindi:\\
 \(v(t)=h'(t)= 20-10t=0\srarrow t=2 s \srarrow h(2)=20\cdot 
2-5\cdot  2^2=20 m\).\\
\end{esempio}

\begin{esempio}
L'aereo A parte da Milano a mezzogiorno e vola in direzione Ovest 
mediamente a 
\(800\) km/h, mentre l'aereo B parte due ore dopo e si dirige a Sud a \(800\) 
km/h. Se volano alla stessa quota, con quale velocità si allontanano l'uno 
dall'altro dopo 4 ore?\\
Soluzione. Le due equazioni del moto sono \(s_A=800t\) e \(s_B=800(t-2)\). 
Calcoliamo prima la distanza fra i due, poi la loro velocità relativa.
Si tratta di direzioni perpendicolari e possiamo applicare il teorema di 
Pitagora.\\
\(s_{AB}=\sqrt{s_A^2+s_B^2}=\sqrt{(800t)^2+[(800(t-2)]^2}=
800\sqrt{t^2+t^2-2t+4}=800\sqrt{2t^2-2t+4}\).\\
\(v_{AB}|_{t=4}=\pst{\dfrac{ds_{AB}}{dt}}\bigg|_{t=4}=\dfrac{800(4t-2)}{2\sqrt{
2t
^2-2t+4}}\bigg|_{t=4}\cong 907\) km/h.
\end{esempio}

\begin{esempio}
 Un circuito è percorso da corrente variabile. Infatti la carica che 
attraversa il conduttore ad un certo istante \(t\) è data da \(q(t)=t^3-24t\).
È possibile che in qualche istante le cariche siano ferme?\\
Risposta. Se le cariche sono ferme, la corrente è nulla.\\ 
\(i(t)=q'(t)=3t^2-24=0\srarrow t_1=\sqrt{8}\cong 2,8
\mbox{  e } t_2=-\sqrt{8} \cong -2,8\) s.\\
La corrente è nulla \(2,8\) s prima e dopo l'istante \(t\).
\end{esempio}

\begin{esempio}
 Il biologo Jacques Monod mostrò che lo sviluppo di una colonia di batteri 
 di Escherichia Coli segue una crescita esponenziale, se sufficientemente 
 nutrita. Ogni microrganismo si scinde in due dopo circa \(20\) minuti, per cui 
 la popolazione al tempo \(t\), misurato in ore, conta 
\(N(t)=N_0e^{\frac{t}{3}}\)
 individui. Dopo quante ore il numero di batteri passa da \(10^6\) a \(10^9\)?\\
 Soluzione: \(\Delta N\cong N'(t)\Delta t=\dfrac{N_0}{3}e^{\frac{t}{3}}\Delta t
 \srarrow \Delta t\cong\dfrac{3\Delta N}{N_0e^{\frac{t}{3}}}=\dfrac{3\Delta N}
 {N(t)}\).\\
 Il numero iniziale di batteri è \(10^6=N(0)=N_0e^0\). Perciò:
 \(\Delta t\cong\dfrac{3(10^9-10^6)}{10^9}\), che, calcolato in ore,  
corrisponde 
a 
 3 ore meno \(11\) secondi circa.
 
 \begin{osservazione}
  Dunque, la risposta è che in quasi \(3\) ore il numero di batteri passa da un 
  milione a un miliardo, che è \(1000\) volte tanto. Possiamo pensare che 
  occorra lo stesso tempo per passare da \(1\) individuo a \(1000\), oppure da 
  \(1000\) individui a \(1\) milione?
 \end{osservazione}
 \begin{osservazione}
 Come mai in un caso del genere l'uso delle derivate non è indispensabile? 
 Perché la funzione esponenziale è l'unica funzione che ha per derivata...
\end{osservazione}
\begin{osservazione}
  Si tratta di un problema tipico sulla crescita esponenziale, di quelli già 
  risolti quando ancora non conoscevi l'esistenza delle derivate, riguardanti
  per esempio l'interesse composto o il decadimento radiattivo.
 \end{osservazione}

\end{esempio}
 
\begin{esempio}
Il costo marginale è l'aumento di costo che si ha quando si vuole produrre 
un'unità in più di un certo bene.\\
Supponi che per produrre un certo numero \(n\) di aghi il costo in euro sia
\(y=\sqrt{n}\). Calcola il costo marginale per produrne più di \(10.000\).\\
Soluzione: \(y=\sqrt{n}\srarrow y'=\dfrac{1}{2\sqrt{n}}\).
Se \(n=10000\), \(\Delta y \cong\dfrac{1}{2\sqrt{10000}}\Delta n=\dfrac{\Delta 
n}{200}\).
Il costo marginale, cioè per unità in più, è quindi dello \(0,5\%\).
\begin{osservazione}
 Anche in questo caso concreto, non è possibile pensare che \(\Delta n\) sia 
 un infinitesimo, dato che non ha senso calcolare il costo per frazioni 
 infinitesime di un ago.
\end{osservazione}
\end{esempio}
 
\begin{comment}
\begin{esempio}
 Una barra metallica è lunga \(10\) m a \(T=0 ^\circ C\) e al crescere della 
 temperatura si dilata secondo la legge \(l(T)=10(1+0,000024T)\). Di quanti 
gradi 
 occorre aumentare la temperatura perché aumenti la sua lunghezza di \(5\) 
cm?\\
 La risposta è la stessa in ogni caso, oppure dipende dal valore iniziale 
di 
 \(T\)?\\
 Risposta. \(\Delta T = \dfrac{\Delta l(T)}{l'(T)}=\dfrac{0,05}
 {10\cdot 0,000024}=208,3 ^\circ C\).\\
 Nella formula risolutiva non compare il simbolo \(T\), quindi la risposta 
non 
 dipende dalla temperatura iniziale. Ovviamente tutto questo deve avvenire 
nei 
 limiti del fenomeno, cioè finché non si raggiunge la temperatura di 
fusione.
 \begin{osservazione}
  Si tratta di un semplice esercizio di fisica: la legge coinvolta si chiama
  legge della dilatazione lineare, perché il suo grafico nel piano 
cartesiano è una retta. Poiché la legge è espressa da un polinomio di 
primo grado, la soluzione non contiene la variabile \(T\) e l'equazione alle 
differenze è
  esatta: non ci sono infinitesimi da trascurare.\\
  Non è indispensabile coinvolgere il calcolo infintesimale per un problema 
di
  primo grado come questo: avresti potuto risolverlo anche in terza media.
 \end{osservazione}
\end{esempio}
\end{comment}

