% (c) 2015 Daniele Zambelli daniele.zambelli@gmail.com
%  Bruno Stecca

\input{\folder lbr/grafici.pgf}

\chapter{Derivate}

\section{TODO}

\section{Introduzione}
\label{}

% \begin{wrapfloat}{figure}{r}{0pt}
% \includegraphics[scale=0.35]{img/fig000_.png}
% \caption{...}
% \label{fig:...}
% \end{wrapfloat}
% 
% \begin{center} \input{\folder lbr/fig000_.pgf} \end{center}

Il problema di determinare la velocità istntanea ci ha portati a conoscere 
i numeri infinitesimi e, attraverso questi, l'insieme dei numeri iperreali.
Ora siamo in grado di cercare la risposta alla domanda rimasta in sospeso: 
come si determina la velocità istantanea?\\
La risposta, che conosciamo nelle forme moderne, da più di 400 anni,
propone al nostro studio un nuovo potentissimo strumento di calcolo, adatto a 
risolvere problemi in ogni ambito scientifico: la derivata.

\section{Velocità di caduta}
\label{04_diffvelcaduta}
Nel Settecento fiorirono alcune leggende su Galileo Galilei. Una di queste 
racconta 
che per dimostrare che i gravi cadono con la stessa velocità, gettò dalla 
Torre
di Pisa due sfere di peso diverso, ma di uguali dimensioni. I due oggetti, 
come
oggi possiamo immaginare, raggiunsero il suolo contemporaneamente.\\
La Torre di Pisa è alta circa $56m$ e immaginiamo, per semplificare, che la 
distanza percorsa dai due oggetti sia di $56m$ (ti lascio calcolare il 
percorso effettivo: tieni presente che al giorno d'oggi l'inclinazione della 
Torre è di $4,8^\circ$).\\
Oggi sappiamo che un oggetto in caduta libera ha la seguente legge del moto:
\(s=\frac{1}{2}gt^2\). Come al solito, $s$ è lo spazio in metri, $t$ è il 
tempo in secondi, $g=9,81 m/s^2$ è l'accelerazione di gravità, costante nei
pressi della superficie terrestre.\\
Se cerchiamo la velocità media, basta dividere lo spazio percorso per il tempo
impiegato:

\begin{align*}
 & s_{tot} = 56m\\
 & s =\frac{1}{2}gt^2 \srarrow t_{tot}= \sqrt{\frac{2s_{tot}}{g}}=
 \sqrt{\frac{2\times 56}{9,81}}=3,36 s.\\
 & v_m= \frac{s_{tot}}{t_{tot}}=\frac{56 m}{3,36 s}=16,67 m/s,
\end{align*}
che corrispondono a circa $60 km/h$ di media.\\
Ma gli oggetti partono fermi e arrivano velocissimi: 
è possibile sapere quale è loro velocità in ogni istante? È il momento
di usare le quantità infinitesime.\\
Chiamiamo $dt$ un intervallo di tempo infinitesimo, fra due istanti successivi
$t$ e $t+dt$.
Lo spazio percorso nella caduta, in quell'intervallo di tempo, applicando la 
legge del 
moto, sarà:
\[
 ds=\frac{1}{2}g\tonda{t+dt}^2-\frac{1}{2}gt^2=
 \frac{1}{2}g\tonda{t^2+2tdt+(dt)^2}-\frac{1}{2}gt^2=
 gtdt+\frac{1}{2}(dt)^2. 
\]
Dividendo il tutto per $dt$ si ottiene la velocità istantanea, quella che 
cambia
in ogni istante $t$:
\[
 v(t)=\frac{ds}{dt}=\frac{gtdt+\frac{1}{2}dt^2}{dt}=gt+\frac{1}{2}dt.
\]
L'espressione $gt+\frac{1}{2}dt=9,81t+\frac{1}{2}dt$ diventa un numero ben
preciso per ogni valore di $t$, un iperreale finito che è la
somma di un numero standard e di un numero infinitesimo. 
Per averne il valore reale, applichiamo la parte standard:
\[
 \pst{9,81t+\frac{1}{2}dt}=9,81t
\]
Questa è la velocità istantanea che cerchiamo: dipende dal tempo $t$,
cioè cresce con il passare dei secondi. 

\begin{center}
\begin{tabular}{cc}\toprule
$t$ (in $s$) & $v=9,81\times t$ (in $m/s$) \\\midrule
$0$ & $0$  \\
$1$ & $9,81\times 1 =9,81$ \\
$2$ & $9,81\times 2 =19,62$ \\
... & ... \\
$3,6$ & $9,81\times 3,36= ...$\\\bottomrule
\end{tabular}
\label{tab:diff_velocita}
\end{center}

La formula $v=9,81\times t$ ci permette il calcolo della velocità per ogni 
valore di $t$.
Per quale valore di \(t\) la velocità sarà uguale a quella media? 


\section{Continuità}
\label{04_diffcomtinuità}
La semplicità dei calcoli precedenti lascia intuire la ragione del successo 
del
calcolo con gli infinitesimi.  Questo tipo di calcolo fiorì per 150 anni a 
partire dall'epoca di Newton e Leibniz. Ma suscitava vivaci polemiche fra
gli specialisti, perché non si era in grado di spiegare come mai i 
risultati, espressi attraverso numeri infinitesimi, alla fine diventano numeri
``di uso comune``.
Oggi i matematici conoscono meglio la materia e queste difficoltà sono 
superate.
Siamo quindi in grado di procedere nello studio dei questa nuova branca della 
matematica, che si chiama \emph{Analisi infinitesimale}.

\subsubsection{Continuità, intervalli, differenze}
\label{04_diffcontinterv}
C'è un punto critico nei ragionamenti svolti a proposito della caduta dei 
gravi,
un punto che si dà sempre per scontato in fisica, ma non lo è per i matematici
e per i logici.\\
Tutto il ragionamento vale perché si presuppone che il tempo scorra in modo
uniforme. Se il tempo scorresse a scatti, anche minuscoli, quei calcoli non
sarebbero possibili. Si dice infatti che il tempo $t$ è una variabile
continua, cioè assume tutti i valori, dal minimo al massimo, con regolarità,
senza salti.

\begin{definizione}
 Una variabile è una grandezza che può assumere valori diversi.
 L'insieme dei valori possibili costituisce il suo insieme di definizione.
\end{definizione}

\begin{definizione}
 Una variabile continua è definita in un intervallo di valori continuo.
 Le variazioni dei suoi valori possono essere arbitrariamente piccole.
\end{definizione}

Il più semplice esempio di una variabile continua in matematica è la 
posizione $x$ sull'asse reale dei numeri. Infatti sappiamo che la retta reale 
non
ha buchi. A maggior ragione, è una variabile continua anche la posizione 
sull'asse 
degli Iperreali: $x$, con $x\in\IR$. \\
Viceversa una variabile che pesca i suoi valori in un insieme formato da 
numeri isolati,
cioè con differenze finite fra l'uno e l'altro, si dice \emph{variabile 
discreta}. 
\begin{definizione}
 Una variabile discreta assume valori che variano per quantità finite.
\end{definizione}

Un semplice esempio di variabile discreta è $n, n\in \N$.\\
Nel calcolo precedente, $t$ varia con continuità da $0$ a $3,6$,
assumendone tutti i valori, dal minimo al massimo. In matematica si scrive 
così:
\(t\in \quadra{0;\ 3,6}\). Le parentesi quadre sono importanti, indicano che 
gli estremi
dell'intervallo sono valori possibili, sono inclusi.\\
I tipi possibili di intervallo sono:

\begin{center}
\begin{tabular}{ccc}\toprule
intervallo & sigla & significato\\\midrule
chiuso &$\intervcc{a}{b}$  & estremi compresi\\
aperto/chiuso & $\intervac{a}{b}$ & a escluso, b compreso\\
chiuso/aperto & $\intervca{a}{b}$ & a compreso, b escluso\\
aperto & $\intervaa{a}{b}$ & estremi esclusi\\\bottomrule
\end{tabular}
\label{tab:diff_tipiinterv}
\end{center}

Tutti i tipi di intervallo precedenti, nella retta reale o iperreale, sono
continui, a meno di indicazioni diverse. Se un intervallo $\intervcc{a}{b}$ 
contiene un punto
(o più punti) di discontinuità, per esempio $d$, allora occorre usare 
indicazioni
diverse: $\intervca{a}{d}\cup\intervac{d}{b}$\\ 
La differenza $a-b$ fra due numeri della retta iperreale $a, b \in \IR$, 
può essere positiva, negativa o nulla. Indicheremo con $\Delta$ la 
differenza fra due numeri standard, cioè una differenza finita, mentre, se la 
differenza è infinitesima, sarà indicata con $\delta$ oppure $\epsilon$
o altra lettera minuscola dell'alfabeto greco.\\
In analisi infinitesimale, le differenze infinitesime sono protagoniste.


\section{Differenziale}
\label{sec:diff01_differenziale}

\subsubsection{Parte principale}
\label{subsubsec:diff01_parteprincipale}
I risultati dei calcoli che seguono in molti casi hanno la forma di una somma
fra infinitesimi di ordine diverso, come avviene nel prossimo
esempio sul differenziale della funzione quadratica
e più avanti con le funzioni potenza.\\
In una somma di infinitesimi, gli infinitesimi di
grado superiore (che sono quelli più vicini allo zero) pesano 
sul risultato infinitamente meno degli altri: sono più trascurabili.
Quando in una somma di infinitesimi si trascurano quelli di minor peso,
si dice che si prende la \emph{parte principale della somma}.
Lo si può fare perché la somma esatta e quella approssimata sono 
numeri indistinguibili.

\begin{definizione}
 Il differenziale è la differenza infinitesimale.
\end{definizione}

Dato un numero iperreale $x_0\in\IR$, finito oppure infinitesimo, si può 
scrivere il valore del numero a lui infinitamente vicino: si tratta di 
$x_0+\epsilon$. La differenza fra i due valori infinitamente vicini è 
$dx|_{x=x_0}=(x_0+\epsilon)-x_0=\epsilon$.
È calcolata a partire dal punto $x_0$ e si chiama \emph{differenziale di $x$ 
nel punto $x_0$}.\\
La sigla $dx$ (che si legge \emph{de x}) indica la differenza infinitesimale.
La sigla $dx|_{x=x_0}$ si legge: \emph{de x, per x uguale a x zero}. 

\begin{esempio}
 Calcola il differenziale della variabile $x$ nel punto $x=-7$. Ripeti poi il 
 calcolo in altri punti.\\
  $dx|_{x=-7} =(-7+\epsilon)-(-7)=\epsilon$\\
  $dx|_{x=7} =(7+\epsilon)-7)=\epsilon$\\
  $dx|_{x=3} =(3+\epsilon)-3=\epsilon$\\
  $dx|_{x=\frac{1}{4}} = \tonda{\frac{1}{4}+\epsilon}-\frac{1}{4}=\epsilon$\\
  $...\quad = \qquad ...$\\
  $dx|_{x=a}  =(a+\epsilon)-a=\epsilon$\\
  $dx|_{x=x_0}  =\ ...\ =\epsilon$\\
  Se il risultato del differenziale è indifferente da $x_0$, allora si evita 
di 
  indicare $|_{x=x_0}$: $dx=\epsilon$, $\forall x$. 
\end{esempio}

\begin{esempio}
 Calcola il differenziale della variabile $\frac{10}{13}x$ nei punti $x=9$ e 
 $x=-\dfrac{1}{5}$.\\
 
$d\tonda{\dfrac{10}{13}x}|_{x=9}=\quadra{\dfrac{10}{13}\cdot(9+\epsilon)}-
  \dfrac{10}{13}\cdot 9 = \dfrac{10}{13}\epsilon.$\\
 
$d\tonda{\dfrac{10}{13}x}|_{x=-\dfrac{1}{5}}=\quadra{\dfrac{10}{13}\cdot
  \tonda{-\dfrac{1}{5}+\epsilon}}-
 \dfrac{10}{13}\cdot \tonda{-\dfrac{1}{5}}= \dfrac{10}{13}\epsilon.$\\
 $d\tonda{\dfrac{10}{13}x}=\dfrac{10}{13}\epsilon$, $\forall x$.
 \end{esempio}

Anche se due risultati uguali non bastano per fare una prova, e nemmeno i sei 
del primo esempio, si può essere sicuri che mille altri tentativi non
sortirebbero un esito diverso. La prova si ottiene utilizzando $x_0$ 
(oppure una costante analoga) al posto di un valore numerico.

\begin{osservazione}
 L'infinitesimo $\epsilon$ potrebbe anche essere negativo. Questo non 
cambierebbe il calcolo.\\
\end{osservazione}

L'uso di un valore numerico al posto di $x_0$ è essenziale per precisare il
punto a partire dal quale si vuole svolgere il calcolo. Negli esempi 
precedenti tale indicazione è risultata indifferente, ma nella maggior parte 
dei casi, invece, ha un diretto influsso sul risultato.\\

\begin{esempio}
 Calcola $df(x)|_{x=5}$, con $f(x)=x^2$. Calcola poi $df(x)|_{x=-5}$ 
 e infine $df(x)|_{x=2}$.
 \begin{align*} 
  d(x^2)|_{x=5} & 
=(5+\epsilon)^2-5^2=25+10\epsilon+\epsilon^2-25=10\epsilon+\epsilon^2\\
  d(x^2)|_{x=-5}& 
=(-5+\epsilon)^2-(-5)^2=25-10\epsilon+\epsilon^2-25=-10\epsilon+\epsilon^2\\
  d(x^2)|_{x=2} & 
=(2+\epsilon)^2-2^2=4+4\epsilon+\epsilon^2-4=4\epsilon+\epsilon^2\\
 \end{align*}
\end{esempio}


\begin{osservazione}
 Non abbiamo fatto alcuna ipotesi su $\epsilon$. 
 Potrebbe essere un infinitesimo positivo o negativo, 
 potrebbe essere il triplo o il quadrato di un altro infinitesimo. 
 Il risultato non cambia e ha valore per qualsiasi $\epsilon$.
\end{osservazione}



\subsection{Differenziale e funzioni}
\label{subsec:diff01_difffun}
Iniziamo a differenziare le funzioni più semplici, in un generico punto $x_0$.
Se ci accorgeremo che il risultato non dipende da $x_0$, ne trarremo regole
di carattere generale.\\
Ma prima di tutto, una precisazione essenziale:

\begin{osservazione}
 Il differenziale di una funzione è calcolabile solo negli intervalli in cui
 la funzione è continua.
\end{osservazione}

\subsubsection{Funzione costante}
\label{subsubsec:diff01_diffcostante}
Se $f(x)=k$, si ha:\\
$df(x)|_{x=x_0}=f(x_0+\epsilon)-f(x_0)=k-k=0$\\
Se la funzione è costante il suo differenziale è nullo,
perché, essendo una funzione costante, i suoi valori non possono cambiare. 
Resta così dimostrato il seguente

\begin{teorema}
Il differenziale di una costante è nullo.
\end{teorema}

grafico y=k con differenziale nullo su asse Y\\

Nel piano cartesiano, la funzione  $y=k$ è una retta orizzontale e, come tutte
le rette, è una funzione continua. Quindi il risultato non dipende da $x_0$ e
vale su tutto l'asse iperreale.

\subsubsection{Funzione identica}
\label{subsubsec:diff01_diffidentica}
Se $f(x)=x$, allora, banalmente: $df(x)=dx=\epsilon$. Il risultato è
generale, cioè non dipende da $x_0$. Infatti:\\
$df(x)|_{x=x_0}=f(x_0+\epsilon)-f(x_0)=(x_0+\epsilon)-x_o=\epsilon$.\\
È dimostrato così il seguente
\begin{teorema}
Il differenziale della funzione identica è $dx=\epsilon$.
\end{teorema}
D'ora in poi useremo indifferentemente $dx$ oppure $\epsilon$, dato che
sono equivalenti.\\
Il grafico di $f(x)=x$ nel piano cartesiano è dato dalla retta $y=x$. 
Che significato dobbiamo attribuire a $dy=dx$?
L'uguaglianza dei due differenziali indica che due punti infinitamente
vicini sulla retta individuano sugli assi due differenze infinitesime 
uguali.\\

grafico \(y=x\) con uguali differenziali sugli assi\\  % TODO?

Succederebbe la stessa cosa con altre rette, più o meno inclinate passanti o
non passanti dall'origine?

\subsubsection{Funzione lineare}
\label{subsubsec:diff01_flineare}

\begin{esempio}
 Proviamo a differenziare in $x_0$ la funzione $f(x)=\frac{2}{3}x$.\\
\( df(x)|_{x=x_0}=\frac{2}{3}(x_0+dx)-\frac{2}{3}x_0=\frac{2}{3}dx\).\\
Questa volta il grafico della funzione $y=\frac{2}{3}x$ mostra che
l'incremento infinitesimo dei valori $x$ provoca un incremento corrispondente 
a $\frac{2}{3}$ sui valori $y$. Il risultato è generale, 
cioè vale $\forall x_0$.
\end{esempio}

\begin{esempio}
Proviamo con un'altra funzione che ha per grafico la retta: \(f(x) = -5x+2\):
\[
df(x)|_{x=x_0} = 
f(x_0+dx)-f(x_0)=[-5(x_0+dx)+2]-(-5x_0+2)=-5x_0-5dx+2+5x_0-2=-5dx
\]
Quindi $dy=-5dx, \forall x_0 \in \IR$. 
\end{esempio}

\begin{teorema}
 Il differenziale di una funzione lineare $f(x)=mx+q$ è $mdx$, 
 $\forall x\in \IR$.
\end{teorema}

\noindent Ipotesi: \(f(x)=mx+q\).\tab Tesi: \(df(x)=mdx\).

\begin{proof}
\[
 df(x)|_{x=x_0}= f(x_0+dx)-f(x_0)=[(mx_0+dx)+q]-(mx_0+q)=mx_0+mdx+q-mx_0-q=mdx
\]
Poiché nel risultato non compare $x_0$, $df(x)$ non dipende dal punto $x_0$.
\end{proof}

\subsubsection{Funzione quadratica}
\label{subsubsec:diff01_diffquad}

\begin{teorema}
 Il differenziale della funzione quadratica $f(x)=x^2$ è $2xdx+(dx)^2$, 
$\forall x\in \IR$.
\end{teorema}

\noindent Ipotesi: \(f(x)=x^2\).\tab Tesi: \(df(x)=2xdx+(dx)^2\).

\begin{proof}
\[
 df(x)|_{x=x_0}= 
f(x_0+dx)-f(x_0)=(x_0+dx)^2-x_0^2=x_0^2+x_0dx+(dx)^2-x_0^2=2x_0dx+(dx)^2
\]
Questa volta nel risultato compare $x_0$. Quindi il valore del differenziale 
della funzione cambia al cambiare del punto $x_0$ che viene incrementato.
\end{proof}

\subsubsection{Funzioni potenza}
\label{subsubsec:diff01_diffpot}
Ricaviamo per gradi il differenziale della funzione potenza è $f(x)=x^n$, con
un procedimento per induzione.\\
Iniziamo dai casi già noti $f(x)=x$ e $f(x)=x^2$ e esaminiamo i successivi
aumentando progressivamente l'esponente.

\begin{align*}
  d(x)=x+dx-x & =dx\\
  d(x^2)=(x+dx)^2-x^2 & \sim 2xdx\\
  d(x^3)=(x+dx)^3-x^3 & =[x^3+3x^2dx+3x(dx)^2+(dx)^3]-x^3=
                      3x^2dx+3x(dx)^2+(dx)^3=\\
                      &= 3x^2dx+\delta(x)\sim 3x^2dx\\
  d(x^4)=(x+dx)^4-x^4 & = [x^4+4x^3dx+6x^2(dx)^2+4x(dx)^3+(dx)^4]-x^4=\\
                      &=4x^3dx+6x^2(dx)^2+4x(dx)^3+(dx)^4=
                      4x^3dx+\delta(x)\sim 4x^3dx\\
  ...                 & ...\\
  d(x^7)=(x+dx)^7-x^7 & = 
x^7+7x^6(dx)+21x^5(dx)^2...+21x^2(dx)^5+7x(dx)^6+(dx)^7 - x^6=\\
  & = x^7+\delta(x)\sim 7x^6dx\\
  ...                 & ...\\
  d(x^{10})=(x+dx)^{10}-x^{10} & =x^{10}+10 x^9dx+\ ...\ -x^{10}=
  \ ...\ =x^{10} +\delta(x)\sim 10 x^9dx      
\end{align*}
L'unico risultato esatto è il primo; gli altri si sintetizzano scrivendo 
$\delta(x)$
che rappresenta gli infinitesimi di ordine superiore. $\delta(x)$ aggiunge
delle quantità infinitamente meno importanti del primo addendo.
A sinistra e a destra dell'ultimo segno di uguale si trovano quindi 
numeri indistinguibili, cioè le loro differenze non si possono cogliere perché
sono ''più infinitesime`` di quanto lo sono questi numeri.\\

Ora che il meccanismo è chiaro e possiamo ritenere sufficientemente dimostrato
il teorema seguente.

\begin{teorema}
 Il differenziale della funzione potenza $f(x)=x^n$ è $df(x)\sim nx^{n-1}dx$
\end{teorema}

\begin{osservazione}
Anche se abbiamo usato solo esponenti interi, si dimostra che 
la regola vale per qualsiasi esponente reale. Lo puoi verificare nei due casi 
che seguono, riscrivendo le funzioni come potenze.
\end{osservazione}

\subsubsection{Funzione radice quadrata}
\label{subsubsec:diff01_diffradq}

\begin{teorema}
 Il differenziale della funzione radice quadrata $f(x)=\sqrt{x}$ è
 $\sim\frac{dx}{2\sqrt{x_0}}$, $\forall x\in \IR$, $x\neq 0$.
\end{teorema}

\noindent Ipotesi: \(f(x)=\sqrt{x}\).\tab Tesi: 
\(df(x)\sim\frac{dx}{2\sqrt{x_0}}\).

\begin{proof}
\begin{align*}
 df(x)|_{x=x_0} &= f(x_0+dx)-f(x_0)=\sqrt{x_0+dx}-\sqrt{x_0}=\\
 &=\tonda{\sqrt{x_0+dx}-\sqrt{x_0}}\times\frac{\sqrt{x_0+dx}+
 \sqrt{x_0}}{\sqrt{x_0+dx}+\sqrt{x_0}}=\\
 &=\frac{x_0+dx-x_0}{\sqrt{x_0+dx}+\sqrt{x_0}}\sim\frac{dx}{2\sqrt{x_0}}
\end{align*}
Anche questa volta il risultato dipende da $x_0$. Si tratta di 
un risultato indistinguibile dal risultato esatto. L'approssimazione si 
ottiene
con le tecniche del capitolo 3.
\end{proof}

\subsubsection{Funzione reciproca}
\label{subsubsec:diff01_diffrecip}
\begin{teorema}
 Il differenziale della funzione reciproca $f(x)=\frac{1}{x}$ è 
$-\frac{dx}{x^2}$, 
 $\forall x\in \IR$, con $x\neq 0$.
\end{teorema}

\noindent Ipotesi: $f(x)=\frac{1}{x}$.\tab Tesi: $df(x)\sim-\frac{dx}{x^2}$.

\begin{proof}
\[
 df(x)|_{x=x_0}= f(x_0+dx)-f(x_0)=\frac{1}{(x_0+dx)}-\frac{1}{x_0}=
 \frac{x_0-x_0-dx}{x_0(x_0+dx)}=\frac{-dx}{x_0^2+x_0dx}\sim-\frac{dx}{x_0^2}
\]
Anche questa volta il valore del differenziale dipende da $x_0$. 
Per semplicità, teniamo il risultato indistinguibile.
\end{proof}

\subsubsection{Differenziali problematici}
\label{subsubsec:diff01_diffproblemi}

Quest'ultimo calcolo ci porta un punto importante: dato che nel risultato
$x_0$ si trova al denominatore, abbiamo un problema. Che succede se $x_0=0$?
\begin{esempio}
 Calcola $df(x)|_{x=0}$, con $f(x)=\frac{1}{x}$.\\
 $d\tonda{\frac{1}{x}}|_{x=0}=\frac{1}{0+dx}-\frac{1}{0}=$ ?\\
 La funzione è differenziabile $\forall x$, ma non per $x=0$. Se $x\approx 0$
 il differenziale diventa la differenza fra due infiniti, una forma di 
 indecisione che non siamo in grado di risolvere. Il problema viene dal fatto 
 che in $x=0$, $f(x)$ non è definita.
\end{esempio}

\begin{esempio}
Differenzia la funzione $f(x)=\frac{1}{x^2-1}$ per $x_0=1$ e $x_0=-1$.\\
$d\tonda{\frac{1}{x^2-1}}|_{x=1}=\frac{1}{(x+dx)^2-1}-\frac{1}{x^2-1}=
\frac{1}{2dx+(dx)^2}-\frac{1}{0}=$?\\
$d\tonda{\frac{1}{x^2-1}}|_{x=-1}=\frac{1}{(x+dx)^2-1}-\frac{1}{x^2-1}=
\frac{1}{-2dx+(dx)^2}-\frac{1}{0}=$?\\
Questa volta i punti critici sono due. Poiché la funzione non è calcolabile
per $x_0=1$ e $x_0=-1$, non è calcolabile nemmeno il suo differenziale.
\end{esempio}

Nel piano cartesiano tracciamo il grafico delle funzioni degli ultimi 
tre esempi: $y=\sqrt{x}$, $y=\frac{1}{x}$ e $y=\frac{1}{x^2-1}$.
\begin{figure}[h]
\begin{inaccessibleblock}[Grafici di funzioni diverse.]
 \begin{center}
 \begin{minipage}[]{.23 \textwidth}
  \vspace*{4mm} 
  \radice
  \caption{$y=\sqrt{x}$}
 \end{minipage} 
 \begin{minipage}[]{.37 \textwidth}
  \iperbole
  \caption{$y=\frac{1}{x}$}
 \end{minipage} 
 \begin{minipage}[]{.37 \textwidth}
  \iperbolequad
  \caption{$y=\frac{1}{x^2-1}$}
 \end{minipage}
 \end{center}
\end{inaccessibleblock}
\label{fig:diff01_grafici}
\end{figure}

Si può osservare che $y=\sqrt{x}$, essendo definita per i valori $x\ge 0$, 
non può essere calcolata per esempio, se $x=-2$ e quindi nemmeno il suo 
differenziale ha senso in questo punto.\\
Gli altri due grafici mettono in evidenza questo problema: dove la funzione 
non è calcolabile, non esiste il punto che rappresenta la funzione nel piano 
cartesiano reale. Nel piano iperreale, puntando l'infinito con un telescopio,
non riusciamo a focalizzare la differenza infinitesima fra due valori infiniti
della funzione.
\newpage
Consideriamo un tipo diverso di problema.

\begin{figure}[h]
\begin{inaccessibleblock}
  [Discontinuità a salto]
 \begin{center}
 \begin{minipage}[]{.38 \textwidth}
  \salto
  \caption{Discontinuità a salto.}
 \end{minipage} 
 \hfill
 \begin{minipage}[]{.58 \textwidth}
\[
f(x)=\begin{cases} 
x-1, & \mbox{se }x<2 \\ 
x+1, & \mbox{se }x\ge 2
\end{cases}
\]
$f(x)$ ha due rami e il grafico compie un salto per $x~=~2$. Le differenze
infinitesime calcolate a destra di tale punto saranno diverse da quelle 
calcolate a sinistra: i differenziali sono calcolabili ma non hanno
uguali valori. Anche in questo caso $f(x)$ non è differenziabile per $x=2$
 \end{minipage}
 \end{center}
\end{inaccessibleblock}

\label{fig:diff01_salto}
\end{figure}


\subsubsection{Continuità e funzioni}
\label{subsubsec:diff01_diffcontinue}
Il tema della continuità è vasto e importante e viene trattato nei dettagli
nel prossimo capitolo. Per ora ci limitiamo a considerazioni di carattere 
intuitivo.\\
\emph{Se una funzione è continua, ne puoi tracciare il grafico nel piano 
cartesiano 
senza staccare la matita dal foglio}. Se ci fosse un punto (o più punti)
di discontinuità, saresti obbligato a interrompere il disegno e riprenderlo
da punti vicini.
\begin{esempio}
 La funzione $f(x)=x$, che ha per grafico la retta $y=x$ è evidentemente 
 una funzione continua: puoi tracciarne il grafico senza interruzioni
 nell'intervallo $(-M,\ M)$. Sono anche continue tutte le funzioni che hanno
 per grafico una retta, come per esempio $f(x)=-\frac{4}{5}x+9$.\\
 Quindi anche la funzione costante $f(x)=k$, che ha per grafico una retta
 orizzontale, è una funzione continua.
\end{esempio}
\begin{esempio}
 La funzione $f(x)=\frac{1}{x}$ è continua ovunque in $\R$, tranne che per 
$x=0$.
 Infatti se $x=0$, $f(x)$ non è calcolabile, quindi nel piano cartesiano 
 non puoi disegnare un punto  che rappresenta il valore standard 
 $(0;\ \frac{1}{0})$. Il punto è comunque visibile nel piano iperreale, con un
 telescopio.
 \end{esempio}
\begin{esempio}
 Per ragioni simili, sono discontinue in uno o più punti le funzioni
 (algebriche o trascendenti), per le quali occorra specificare condizioni 
 di esistenza relative a questi punti.
 Così $f(x)=\frac{1}{x^2-1}$ è discontinua per $x=\pm 1$, mentre 
 $f(x)=\frac{1}{x^2+1}$ è continua.
\end{esempio}

Dagli esempi si capisce che \emph{la continuità delle funzioni è una 
condizione 
di carattere locale}, cioè per punti. Infatti si possono riconoscere dei punti
di discontinuità di una funzione, non degli insiemi di discontinuità.
Se ci si accorge che un punto $(x_0;\ f(x_0))$ è di discontinuità
per $f(x)$, allora si dice: \emph{$f(x)$ è discontinua per $x=x_0$},
cioè si indica solo la coordinata $x$ che pone questo problema 
(non si usa dire: $f(x_0)$ è discontinua).
\begin{esempio}
 La funzione $f(x)= \tan x$ è discontinua per $x=\frac{\pi}{2}\pm k\pi$.
\end{esempio}

\begin{definizione}
Se una funzione è continua in tutti i punti di un intervallo 
$\intervcc{a}{b}$,
allora si dice continua in $\intervcc{a}{b}$.
\end{definizione}
\begin{osservazione}
 Ovviamente la definizione non cambia se l'intervallo è di tipo diverso.
\end{osservazione}

\begin{esempio}
 $f(x)=\ln x$ è definita per $x \in (0;\ M)$ ed è ivi continua.
\end{esempio}


\subsection{Combinare differenziali}
\label{subsec:diff01_combdiff}
Nella sezione \ref{subsec:diff01_flineare} e in altre ci siamo avvalsi di 
proprietà così naturali che non è stato necessario sottolinearle. 
Ma è meglio non lasciarcele sfuggire.

\subsubsection{Differenziale del prodotto per una costante}
\label{}
\begin{teorema}
 Se una funzione è moltiplicata per una costante, anche il suo differenziale 
risulta 
 moltiplicato per la stessa costante.
\end{teorema}
\noindent Ipotesi: $f(x)=a\cdot g(x)$.\tab Tesi: $df(x)=a\cdot dg(x)$.

\begin{proof}
\[
 df(x)=d\quadra{a\cdot g(x)}= a\cdot g(x+dx)-a\cdot 
g(x)=a\cdot\quadra{g(x+dx)-g(x)}
 =a\cdot dg(x).
\]
\end{proof}

\subsubsection{Differenziale di una somma di funzioni}
\label{}

\begin{teorema}
 Se una funzione è la somma (la differenza) di due funzioni, anche il suo 
 differenziale sarà la somma (la differenza) dei due differenziali.
\end{teorema}
\noindent Ipotesi: $f(x)=f_1(x)\pm f_2(x)$.\tab Tesi: $df(x)=df_1(x)\pm 
df_2(x)$.

\begin{proof}
\begin{align*}
 df(x)=d[f_1(x)\pm f_2(x)]=[f_1(x+dx)\pm f_2(x+dx)]-[f_1(x)\pm f_2(x)]=\\
 = [f_1(x+dx)-f_1(x)]\pm [f_2(x+dx)-f_2(x)]= df_1(x)\pm df_2(x)
\end{align*}
\end{proof}

\begin{esempio}
 Un generico polinomio di secondo grado \(f(x)=ax^2+bx+c\) è una
 funzione quadratica composta di tre termini. 
 Con le regole precedenti abbiamo: \(f(x)=f_1+f_2+f_3\) e
 \(df(x)~=~df_1+df_2+df_3\).
 \begin{itemize} [noitemsep]
  \item $f_1=ax^2 \sRarrow df_1=2axdx$; 
  \item $f_2=bx \sRarrow df_2=bdx$
  \item $f_3=c \sRarrow df_3=0$
 \end{itemize}
Quindi $df(x)=2axdx+bdx$. Il grafico della funzione è una parabola generica
e il differenziale ci dice che l'incremento infinitesimo 
$dx$ provoca un incremento (o un decremento) variabile sull'asse $Y$, che 
dipende dal punto $x$ a partire dal quale si calcola $dx$.
\end{esempio}

Completiamo il quadro delle regole di calcolo con l'esame dei differenziali
del prodotto e del rapporto di funzioni. Lo studente smart, che si fida un 
po' 
troppo delle analogie, potrebbe pensare: ''siccome il differenziale di una 
somma è la somma dei differenziali e lo stesso avviene per la differenza, 
succederà una cosa simile anche per il prodotto e per il rapporto``. 
Per (s)fortuna le cose a volte sono un po' meno smart.

\subsubsection{Differenziale del prodotto di due funzioni}
\label{}
Questa volta, al posto della immarcescibile dimostrazione algebrica, 
ricorriamo
alla geometria. Immaginiamo che le due funzioni, calcolate in un generico 
punto $x$,
esprimano la base e l'altezza di un rettangolo:
$b(x)=b$ sarà la base  e $h(x)=h$ sarà l'altezza . L'area ovviamente
si ottiene da $b(x)\cdot h(x)=\mathit{A}(x)$. 
Differenziare il prodotto $d\quadra{\mathit{A}(x)}$ vuol dire calcolare di
quanto aumenta l'area del rettangolo, se i lati subiscono un incremento 
infinitesimo. 

\begin{osservazione}
Gli incrementi della base e dell'altezza possono essere 
diversi, perché $b(x)$ e $h(x)$ sono funzioni diverse, le quali possono
reagire in modo diverso all'incremento $dx$.
\end{osservazione}

\begin{teorema}
 Se una funzione è il prodotto di due funzioni, il suo  differenziale 
 sarà dato da una somma fra tre prodotti: il differenziale della
 prima funzione per la seconda più la prima funzione per il differenziale 
 della seconda più il prodotto dei due differenziali.
\end{teorema}
\noindent Ipotesi: $\mathit{A}(x)=b(x)\cdot h(x)$.\qquad 
Tesi: $d\mathit{A}(x)=db(x)\cdot h(x)+b(x)\cdot dh(x)+ db(x)\cdot dh(x)$.

\begin{figure}[h]
\begin{inaccessibleblock}
  [Rettangolo con uno gnomone finito e rettangolo con gnomone infinitesimo.]
 \begin{center}
 \begin{minipage}[]{.38 \textwidth}
  \vspace{27mm} \incrementaleprodotto
 \end{minipage} 
 \hfill
 \begin{minipage}[]{.58 \textwidth}
  \differenzialeprodotto
 \end{minipage}
 \end{center}
\end{inaccessibleblock}
\caption{Incrementi finito e infinitesimo dell'area di un rettangolo} 
\label{fig:Incre_prodotto}
\end{figure}

\begin{proof}
L'incremento infinitesimo di area è la zona colorata del disegno. È 
formato da tre parti:
\begin{itemize} [noitemsep]
 \item un rettangolo sottile, verticale e sulla destra, di base
 infinitesima $db(x)$ e altezza $h(x)$;
 \item un rettangolo orizzontale, in alto, di base $b(x)$ e
 altezza infinitesima $dh(x)$;
 \item un rettangolino in alto a destra, di area $db(x) dh(x)$.
\end{itemize}
La descrizione geometrica rappresenta bene la tesi e per i nostri scopi è
una prova sufficiente. 
\end{proof}
Dato che l'ultimo termine è un infinitesimo di ordine
superiore, il risultato può essere approssimato alla sua parte principale, 
senza gravi danni: $d\mathit{A}(x)\sim db(x)\cdot h(x)+b(x)\cdot dh(x)$ .

\subsubsection{Differenziale del rapporto fra due funzioni}
\label{}
\begin{teorema}
 Se una funzione è data dal rapporto fra due funzioni, con il denominatore
 non nullo, il suo  differenziale si ottiene calcolando
 la differenza fra due prodotti (il differenziale del numeratore per il 
 denominatore meno il numeratore per il differenziale del denominatore)
 e dividendo il risultato per il quadrato del denominatore.
\end{teorema}
\noindent Ipotesi: $h(x)=\dfrac{\mathit{A}(x)}{b(x)}$, con $b(x)\neq 0$.\tab 
Tesi: 
$dh(x)=\dfrac{d\mathit{A}(x) \cdot b(x)-\mathit{A}(x) \cdot db(x)}
             {\tonda{b(x)}^2}$

\begin{proof}
Ricorriamo alla geometria anche in questo caso.

\begin{figure}[h]
\begin{inaccessibleblock}
  [Altezza rettangolo con gnomone infinitesimo.]
 \begin{center}
 \begin{minipage}[]{.38 \textwidth}
 % \vspace{27mm} \incrementaleprodotto
Questa volta, data $\mathit{A}(x)=b(x)\times h(x)$, 
$\frac{A(x)}{b(x)}=h(x)$ fornisce l'altezza $h$, fissato $x$. 
Ovviamente si spera che sia $b(x)\neq 0$.\\
Se cerchiamo $dh(x)=dh$, incremento infinitesimo di altezza, siamo costretti 
a calcolare
$d\quadra{\frac{A(x)}{b(x)}}$, differenziale di un rapporto. Guardando il 
disegno,
si tratta dell'altezza della fascia superiore colorata,
 \end{minipage} 
 \hfill
 \begin{minipage}[]{.58 \textwidth}
  \differenzialerapporto
  \caption{Incremento infinitesimo dell'altezza} 
 \end{minipage}
 \end{center}
\end{inaccessibleblock}
\label{fig:Incre_prodotto}
\end{figure}


\noindent la quale corrisponde allo
gnomone infinitesimo $d\mathit{A}$, escluso il rettangolo destro infinitesimo,
di area $h\cdot db$.
Dunque:
\begin{align*}
 dh(x)=d\quadra{\frac{\mathit{A}(x)}{b(x)}}=
 \dfrac{\quadra{d\mathit{A}(x) - \dfrac{\mathit{A(x)}}{b(x)}db(x)}}{b(x)}=
 \dfrac{d\mathit{A}(x) \cdot b(x)-\mathit{A}(x) \cdot db(x)} {\tonda{b(x)}^2}
\end{align*}
\end{proof}

\begin{osservazione}
 Si chiama gnomone la figura, a forma di L rovesciata, che rappresenta la 
crescita dell'area di un rettangolo.
\end{osservazione}


\subsubsection{Sintesi della sezione}
\label{subsubsec:diff01_diffsint}
Ci siamo limitati a calcolare solo alcuni differenziali elementari, 
attraverso esempi 
e dimostrazioni. Manca del tutto la trattazione dei differenziali delle
funzioni trascendenti. Avremo modo di vedere anche questi nel corso della 
prossima
sezione, dove quanto ottenuto fin qui viene utilmente ripreso e ampliato.\\
\newline
I risultati che abbiamo visto valgono sotto le ovvie ipotesi
che si parli di funzioni continue e che i differenziali siano calcolabili
per tutti i possibili $x$ del dominio di tali funzioni. Unificando i simboli 
e restando
all'essenziale, abbiamo:
\begin{enumerate} [noitemsep]
 \item $f=k \srarrow df=0$;
 \item $f=x \srarrow df=dx$;
 \item $f=x^\alpha \srarrow df\sim\alpha x^{\alpha-1}dx$;\newline
 \item $d(a\cdot f)=adf$ \tab differenziale del prodotto per una costante;
 \item $d\tonda{f\pm g}=df\pm dg$ \tab differenziale di una somma o 
differenza;
 \item $d(f\cdot g)\sim f\cdot g+f\cdot dg$\tab differenziale del prodotto;
 \item $d\tonda{\frac{f}{g}}\sim\frac{df\cdot g-f\cdot dg}{g^2}$\tab  
differenziale 
 del rapporto (\(g \ne 0\)).
\end{enumerate}
dove  $k$, $a$, $\alpha$ rappresentano delle costanti, mentre f e g sono 
funzioni continue. 


Sulla scia delle applicazioni illustrate al termine del Cap.2, esaminiamo 
alcuni problemi 
facilmente risolvibili con l'aiuto dei differenziali.

\subsection{Problemi con i differenziali}
\label{subsec:diff01__problemi}

\begin{esempio}
 % Triangolo equilatero: 2p=f(h) 
Un triangolo equilatero ha l'altezza di $8$ cm. 
Di quanto aumenta il suo perimetro, man mano che aumenta l'altezza? 
L'aumento è legato alla misura iniziale di $h$?\\
Il perimetro è $2p=3l$ e con il Teorema di Pitagora si ha: 
$h=\sqrt{l^2-\tonda{\frac{l}{2}}^2}=\frac{\sqrt{3}}{2}l$. 
Quindi $l=\frac{2}{\sqrt{3}}h$ e $2p=2\sqrt{3}h$. 
Incrementiamo l'altezza a partire da $h_0=8$ e ricaviamo il perimetro 
corrispondente.\\
$d(2p)|_{h_0=8}=
d\tonda{2\sqrt{3}h}|_{h_0=8}=
2 \sqrt{3} \cdot (8+dh)-2\sqrt{3} \cdot 8 = 2 \sqrt{3} \cdot dh$.\\
Per ogni incremento infinitesimo dell'altezza, il perimetro aumenta di 
$2 \sqrt{3}$.
Si tratta di un incremento costante, che non dipende dalla misura iniziale
dell'altezza. Infatti, se si ripete il calcolo scrivendo il simbolo $h_0$ al 
posto della 
sua misura $8$, $h_0$ non compare nel risultato.\\
La soluzione può essere ricavata in modo più diretto, applicando le regole
4 e 2 della sintesi %\ref{subsubsec:diff01_diffsint}.
\end{esempio}

\begin{esempio}
 % Triangolo equilatero: l=f(A)
Di quanto aumenta il lato di un triangolo equilatero,
man mano che aumenta la sua area? L'aumento è legato al valore iniziale del 
lato?\\
Dalla formula dell'area $\mathit{A}=\frac{bh}{2}$ e dall'esempio precedente
($h=\frac{\sqrt{3}}{2}l$), ricaviamo: $\mathit{A}=\frac{\sqrt{3}}{4}l^2$.\\
Differenziando, con l'aiuto delle regole 4 e 3 della sintesi 
% \ref{subsubsec:diff01_diffsint} 
abbiamo:\\
$d\tonda{\mathit{A}}=d\tonda{\frac{\sqrt{3}}{4}l^2}=
 \frac{\sqrt{3}}{4}d\tonda{l^2}=
 \frac{\sqrt{3}}{4}\tonda{2l \cdot dl+(dl)^2}=
 \frac{\sqrt{3}}{4}\tonda{2l+dl}dl$.\\
Questa volta la relazione con l'incremento del lato non è elementare: per 
ogni 
incremento infinitesimo del lato si ha un incremento di area pari a 
$\frac{\sqrt{3}}{4}\tonda{2l+dl}$, che dipende dalla misura iniziale del lato
e dallo stesso incremento. Per gestire il risultato, occorre approssimare
questo numero all'indistinguibile più vicino:\\
$d\tonda{\mathit{A}}=\frac{\sqrt{3}}{4}\tonda{2l+dl}dl\sim
\frac{\sqrt{3}}{2}ldl$.\\
Da qui, applicando la formula inversa, si ottengono le 
risposte:
$dl\sim\frac{2}{\sqrt{3}}\frac{d\tonda{\mathit{A}}}{l}$.
\begin{osservazione}
 Una via più diretta per giungere alla soluzione potrebbe essere: \\
 $\mathit{A}=\frac{\sqrt{3}}{4}l^2\srarrow 
l=\sqrt{\frac{4}{\sqrt{3}}\mathit{A}}=
 \frac{2}{\sqrt[4]{3}}\sqrt{\mathit{A}}\srarrow dl=
 d\tonda{\frac{2}{\sqrt[4]{3}}\sqrt{\mathit{A}}}=
 \frac{2}{\sqrt[4]{3}}d\tonda{\sqrt{\mathit{A}}}$\\
 A questo punto dobbiamo fermare il calcolo, perché 
 sappiamo calcolare $d\tonda{\sqrt{x}}$, ma 
 non sappiamo ancora come calcolare $d\tonda{\sqrt{f(x)}}$. Per farlo, 
 occorre una conoscenza più approfondita della derivate.
\end{osservazione}
\end{esempio}

\section{Introduzione alla derivata}
\label{sec:diff01_derivata}
La derivata è un ente matematico conosciuto dalla metà del 1700, che 
da allora si applica utilmente allo studio di fenomeni naturali di ogni 
tipo.\\
Studieremo l'argomento puntando lo sguardo sulle funzioni e sui loro
grafici nel piano cartesiano. Iniziamo dai grafici più semplici.

\subsection{Pendenza di una retta}
\label{subsec:diff01_pendretta}

\begin{figure}[h]
\begin{inaccessibleblock}[pendenza di una retta.]
 \begin{center}
 \begin{minipage}[]{.31 \textwidth}
%  \vspace*{4mm} 
  \rettadueterzi
  \caption{$y=\frac{3}{2}x-1$}
 \end{minipage} 
 \begin{minipage}[]{.31 \textwidth}
  \rettamenounquarto
  \caption{$y=-\frac{1}{4}x+\frac{1}{2}$}
 \end{minipage} 
 \begin{minipage}[]{.31 \textwidth}
  \retteorvert
  \caption{$y=-\frac{3}{2}$ e $x=-2,8$}
 \end{minipage}
 \end{center}
\end{inaccessibleblock}
\label{fig:diff01_ret}
\end{figure}


Sappiamo già calcolare la pendenza di una retta dalla semplice osservazione 
del suo grafico: si fissano sulla retta due punti $A(x_A; y_A)$ e $B(x_B; 
y_B)$
e si calcola il rapporto $m=\frac{y_B-y_A}{x_B-x_A}$.\\
È come se si volesse misurare la distanza verticale
fra i due punti usando la loro distanza orizzontale come unità di misura. 
Nel caso della retta $r$, $m=\frac{3}{2}$ e si potrebbe dire: ''un punto che 
si 
muove sulla retta, se si sposta di due quadretti in orizzontale
ne guadagna (o perde) tre in verticale.\\
Un punto che scorre sulla retta orizzontale, non subisce
alcuna variazione lungo l'asse $y$ e per questo $m=0$; al contrario per la
retta verticale le variazioni sono solo verticali e la pendenza è
infinita.\\
Sintetizziamo la formula come rapporto fra differenze:
$m=\frac{y_B-y_A}{x_B-x_A}=\frac{\Delta y}{\Delta x}$. Il simbolo $m$ 
ci riporta all'equazione di una retta generica in forma esplicita
$y=mx+q$, dove $m$ rappresenta appunto il coefficiente angolare, cioè 
l'inclinazione o pendenza.
\begin{osservazione}
Secondo l'uso del capitolo precedente, le indicazioni con la lettera
maiuscola $\Delta$ ($\Delta x$, $\Delta y$) si riferiscono a \emph{quantità 
finite},
cioè a numeri standard.
\end{osservazione}

\subsubsection{Rapporto incrementale}
\label{subsubsec:diff01_rappincr}
C'è un fatto importante: per calcolare la pendenza di una retta, 
la scelta dei due punti è indifferente. Possono essere molto vicini o molto 
lontani, scambiati l'uno con l'altro o presso l'origine, oppure no:
$m=\frac{\Delta y}{\Delta x}$ è sempre lo stesso, come è giusto che sia per 
una retta.
Da $x_B-x_A=\Delta x$ ricaviamo banalmente $x_B=x_A+\Delta x$, cioè nel piano 
cartesiano
$B$ si colloca a destra (se $\Delta x\ge 0$) di $A$ di una quantità finita,
grande o piccola che sia.\\
$\Delta x$, $\Delta y$ sono anche chiamati \emph{incrementi} e quindi...
\begin{definizione}
  Si dice \emph{Rapporto Incrementale} (R.I.) il rapporto degli
  incrementi, cioé la quantità R.I.~=~$\frac{\Delta y}{\Delta x}$.
\end{definizione}
Si tratta di una quantità finita, calcolabile se $\Delta x \ne 0$.\\
Il Rapporto Incrementale, calcolato su una retta fornisce la sua pendenza ed 
è un valore costante, come abbiamo visto.\\
Ma il calcolo si può applicare a qualsiasi funzione, anche a quelle che nel 
piano cartesiano sono rappresentate da curve. Allora le cose cambiano.\\

\begin{esempio}
I prossimi grafici appartengono alla stessa funzione.

\begin{figure}[h]
\begin{inaccessibleblock}
  [Secanti a una curva]
% \begin{center}
 \begin{minipage}[]{.45\textwidth}
 \curvacubica
 \end{minipage} 
 \hfill
 \begin{minipage}[]{.55\textwidth}
  \secanticubica
 \end{minipage}
% \end{center}
\end{inaccessibleblock}
\caption{Rapporti incrementali in una curva e secanti.} 
\label{}
\end{figure}

Scegliamo alcuni punti sulla curva e mettiamo in evidenza gli intervalli che
consentono il calcolo del rapporto incrementale, in un caso, e la pendenza 
delle secanti nell'altro.\\
Rapporti Incrementali:
\begin{align*}
  \frac{\Delta y}{\Delta x}\bigg\lvert_{AB}= &\frac{y_B-y_A}{x_B-x_A}=
    \frac{2-5}{-2-(-3.5)}=\frac{-3}{1.5}=-2 &
  \frac{\Delta y}{\Delta x}\bigg\rvert_{BC}=\frac{y_C-y_B}{x_C-x_B}=
  \frac{3-2}{0-(-2)}=\frac{1}{2}\\
  \frac{\Delta y}{\Delta x}\bigg\lvert_{CD}= &\frac{y_D-y_C}{x_D-x_C}=
  \frac{3.8-3)}{2.4-0}=\frac{0.8}{2.4}=\frac{1}{3} &
  \frac{\Delta y}{\Delta x}\bigg\rvert_{DE}=\frac{y_E-y_D}{x_E-x_D}=
  \frac{1-3.8}{3.5-2.3)}=\frac{-2.8}{1.2}=-\frac{7}{3}
\end{align*}

Pendenze.\\
$$  m_{AB}=-2 \qquad m_{BC}=\frac{1}{2}\qquad m_{CD}=\frac{1}{3}\qquad  
m_{DE}=-\frac{7}{3}$$
\end{esempio}

I calcoli confermano che se il grafico è una curva, il Rapporto Incrementale, 
calcolato fra varie coppie di punti, ha valori diversi. 
Il R.I. cambia a seconda della coppia di punti fissati sulla curva.\\
Se si traccia la retta che unisce la coppia di punti, ne risulta una secante
alla curva.\\
In conclusione, si hanno le seguenti proprietà:

\begin{enumerate}[noitemsep]
\item Il R.I. è un numero finito e esiste solo se $\Delta x\ne 0$.
\item Il R.I fra le coppie di valori di una funzione è 
 a sua volta una funzione, che dipende dalla coppia scelta. 
 \item La funzione è costante se applicata al grafico di una retta. In questo 
 caso il R.I calcola  la sua pendenza.
\item  In generale, R.I. calcola la pendenza della retta secante che unisce 
due punti del grafico.
\end{enumerate}


\subsubsection{Rapporto differenziale}
\label{subsubsec:diff01_rappdiff}

\begin{esempio}
Fissiamo su una curva due punti: uno fisso ($A$) e l'altro mobile $P$, cioè in 
grado di spostarsi lungo la curva dalla posizione più lontana $P_1$, alla più 
prossima ad $A$, cioè oltre $P_7$, fin quasi a sovrapporsi con $A$.

\begin{figure}[h]
\begin{inaccessibleblock}[Verso la tangente a una curva.]
 \begin{center}
\secanticurva
 \end{center}
\end{inaccessibleblock}
\caption{Dalle secanti alla tangente.} \label{fig:diff01_sectang}
\end{figure}
\end{esempio}

Tracciamo le secanti che uniscono $A$ con le varie posizioni di $P_n$. 
Man mano che $P$ si avvicina ad $A$, la secante che li unisce tende 
ad allinearsi alla tangente ideale.\\
Quando $P$ è così vicino ad $A$ che la loro distanza è 
$\overline{AP}<\frac{1}{n}$,
$\forall n$, siamo nel campo degli infinitesimi: cambia la natura del 
Rapporto Incrementale che avevamo imparato a calcolare. Il R.I. si 
trasforma da un rapporto fra quantità finite a un rapporto fra infinitesimi,
quindi non possiamo essere certi su quale sia il tipo del risultato che 
fornisce.\\
Se escludiamo il caso $dx=0$ ($P_n$ coinciderebbe con $A$) e se il rapporto
dà un risultato finito, otterremo la pendenza della secante fra i due 
punti infinitamente vicini $A\punto{x_A}{y_A}$ e $P_n\punto{x_A+dx}{f(x_A+dx)}$,
quindi di una retta infinitamente vicina alla tangente, cioè distinta da essa 
solo se guardata con il microscopio a ingrandimento infinito.

\begin{definizione}
 Si dice Rapporto Differenziale della funzione $f(x)$, relativo a $x_0$
 il rapporto $\frac{df(x)}{dx}\big|_{x=x_0}$ fra il differenziale della 
funzione  e quello della variabile, calcolati nel punto $x_0$. \\
 $\frac{df(x)}{dx}\big|_{x=x_0}=\frac{f(x_0+dx)-f(x_0)}{dx}$, con $dx\ne 0$.
\end{definizione}

\begin{figure}[h]
\begin{inaccessibleblock}[Secante per P approx A.]
 \begin{center}
\secRD
 \end{center}
\end{inaccessibleblock}
\caption{Secante per due punti infinitamente vicini.} 
\label{fig:diff01_tangente}
\end{figure}

\begin{esempio}
  \label{esempio:diff01_mdiff}
  La curva della Fig.12 rappresenta la parabola di equazione 
  $y=\dfrac{x^2}{5}-\dfrac{3}{5}x+2$. Calcoliamo la pendenza della secante che
  passa per $A\punto{5}{4}$ e per un altro punto infinitamente vicino.\\
  La funzione è visibilmente continua nel punto $A$ e il differenziale per 
  $x=x_A$, secondo le regole della sezione precedente, è:\\ 
  $d(f(x)\big|_{x=5}=d\tonda{\dfrac{x^2}{5}-\dfrac{3}{5}x+2}\bigg|_{x=5}=
  d\tonda{\dfrac{x^2}{5}}\bigg|_{x=5}-d\tonda{\dfrac{3}{5}x}\bigg|_{x=5}+
  d(2)\big|_{x=5}=\\
  =\dfrac{1}{5}\tonda{2xdx+(dx)^2}\big|_{x=5}-\dfrac{3}{5}dx\big|_{x=5}+0=
  \dfrac{2}{5}x|_{x=5}dx+\dfrac{1}{5}(dx)^2-\dfrac{3}{5}dx=$\\
  $=\dfrac{2}{5}5dx+\dfrac{1}{5}(dx)^2-\dfrac{3}{5}dx=
  2dx+\dfrac{1}{5}(dx)^2-\dfrac{3}{5}dx=
  \dfrac{7}{5}dx+\dfrac{1}{5}(dx)^2$\\
  Raccogliendo $dx$ nel differenziale della funzione, il rapporto differenziale 
  è:\\
  $\dfrac{d(f(x)}{dx}\bigg|_{x=5}=\dfrac{\tonda{\dfrac{7}{5}+\dfrac{1}{5}dx}dx}
  {dx}=\dfrac{7}{5}+\dfrac{1}{5}dx$.\\
  Come si vede, la pendenza di questa secante è un numero finito del tipo 
  $a+\epsilon$, che dipende sia dal valore $x_A=5$, sia dall'infinitesimo 
  $dx$ che compare nel risultato. Si tratta dunque di una pendenza 
  infinitamente vicina al valore $m=\dfrac{7}{5}$.
\end{esempio}

\begin{esempio}
 \label{esempio:diff01_m0diff}
 Ripetiamo il calcolo precedente, con riferimento all'ascissa del vertice 
 $x_V=\dfrac{3}{2}$ (per il valore dell'ascissa può essere di aiuto la lettura
 del grafico, se per caso nel tempo si fosse attenuato il ricordo della
 regola: $x_V=-b/2a$).\\
 $d(f(x)\big|_{x=3/2}=
  \dfrac{2}{5}x|_{x=3/2} dx+\dfrac{1}{5}(dx)^2-\dfrac{3}{5}dx=
  \dfrac{2}{5}\dfrac{3}{2}dx+\dfrac{1}{5}(dx)^2-\dfrac{3}{5}dx=\\
  =\dfrac{3}{5}dx+\dfrac{1}{5}(dx)^2-\dfrac{3}{5}dx=0+\dfrac{1}{5}(dx)^2$.\\
 Quindi il rapporto differenziale:\\
 $\dfrac{d(f(x)}{dx}\bigg|_{x=3/2}=\dfrac{\dfrac{1}{5}(dx)^2}{dx}
 =\dfrac{1}{5}dx$.\\
 La secante per punti infinitamente vicini al vertice della parabola
 differisce dalla retta orizzontale per un infinitesimo, cioè è
 infinitamente vicina alla retta orizzontale.
\end{esempio}

\begin{osservazione}
La pendenza calcolata nell'esempio \ref{esempio:diff01_mdiff} è 
$m\approx\dfrac{7}{5}$, mentre in quest'ultimo esempio 
\ref{esempio:diff01_m0diff} è
$m\approx 0$. Questo conferma che $m$ cambia a seconda del punto della curva: 
$m=m(x)$.
\end{osservazione}

\begin{esempio}
 In quale punto del piano cartesiano la parabola precedente è inclinata 
 di $45^\circ$ rispetto all'orizzontale?\\
 Risposta: poiché solo la retta $y=x$ ha in qualsiasi suo punto
 l'inclinazione richiesta dal problema, occorre cercare in quale punto
 la parabola risulta inclinata come la retta, cioè ha lo stesso coefficiente 
 angolare. È chiaro che non si può calcolare il coefficiente angolare
 di una parabola, ma si può immaginare che nel punto desiderato esista una retta
 tangente che risponde alle nostre esigenze. Cerchiamo quindi in quale
 punto, almeno approssimativamente, si possa disegnare una retta che ha $m=1$ e
 che quasi coincida con la parabola.\\
 Utilizziamo i calcoli precedenti e teniamo incognita $x$, dato che conosciamo
 già la pendenza desiderata:\\
 $\dfrac{d(f(x)}{dx}\bigg|_{x=?}=1 \srarrow 
 \dfrac{2}{5}x+\dfrac{1}{5}dx-\dfrac{3}{5}=1
 \srarrow \dfrac{2}{5}x=1+\dfrac{3}{5}-\dfrac{1}{5}dx
 \srarrow x=\dfrac{8-dx}{5}\dfrac{5}{2}=\dfrac{8-dx}{2}$.\\
 Il punto in questione ha coordinata $x= 4-\dfrac{1}{2}dx\approx 4$.  
\end{esempio}

\section{Derivata: definizione}
\label{sec:diff01_deriv}
Gli esercizi precedenti sono stati risolti con esattezza.
Purtroppo, però, il rapporto differenziale ci dà le soluzioni più semplici solo 
in pochi casi, praticamente inutili, cioè quando si applica alle funzioni 
polinomiali di primo grado (le rette nel p8iano cartesiano)).
In tutti gli altri casi il risultato
iperreale contiene infinitesimi che possone essere scomodi da gestire
negli sviluppi successivi.

\begin{esempio}
 Proseguendo con l'esempio \ref{esempio:diff01_mdiff}, calcoliamo in due 
 modi, esatto e approssimato, la coordinata $y$ del punto in questione:\\
 Calcolo esatto: $x=4-\dfrac{1}{2}dx\srarrow y=\dfrac{x^2}{5}-\dfrac{3}{5}x+2=
 \dfrac{(4-\dfrac{1}{2}dx)^2}{5}-\dfrac{3}{5}(4-\dfrac{1}{2}dx)+2=\\
 =\dfrac{1}{5}\tonda{16-dx+\dfrac{1}{4}(dx)^2}-\dfrac{12}{5}+\dfrac{3}{10}dx+2=
 \cdots= \dfrac{14}{5}+\dfrac{1}{2}dx+\dfrac{1}{20}(dx)^2\approx \dfrac{14}{5}
 =2,8$\\
 Calcolo approssimato: $x\approx 4\srarrow 
 y\approx\dfrac{4^2}{5}-\dfrac{3}{5}4+2=
 \dfrac{16}{5}-\dfrac{12}{5}+2=\dfrac{14}{5}=2,8$.\\
\end{esempio}

È chiaro che la seconda linea di calcoli è molto più gestibile della prima e
vorremmo poter avere sempre la comodità di una gestione facilitata.\\
Esiste una tecnica da applicare al risultato esatto iperreale per traformarlo 
nel numero reale più vicino? Se esiste, possiamo guadagnare in agilità di 
calcolo, senza perdere troppo in precisione.

\begin{definizione}
  La \emph{derivata} della funzione $f(x)$ nel punto $\punto{x_0}{f(x_0)}$
  è, se esiste, la parte standard del rapporto differenziale della funzione,
  calcolato nello stesso punto. La derivata si indica con $f'(x_0)$.\\
  $f'(x_0)=\pst{\dfrac{d(f(x)}{dx}\bigg|_{x=x_0}}$.
\end{definizione}

La derivata, cioè l'applicazione della funzione $\pst{}$ al rapporto
differenziale, soddisfa le nostre 
esigenze: fornisce la migliore approssimazione reale del risultato ottenuto 
con il rapporto differenziale. La differenza fra questo e la 
derivata vale uno o più infinitesimi di ordine superiore, che nella 
maggior parte dei casi sono trascurabili.\\
$\dfrac{d(f(x)}{dx}\bigg|_{x=x_0}=f'(x_0)+\epsilon(x_0)\srarrow f'(x_0)
\approx \dfrac{d(f(x)}{dx}\bigg|_{x=x_0}$.

\subsubsection{Significato della derivata}
L'operazione di derivazione ha uno scopo molto più importante 
dell'indubbia comodità di fornire un risultato privo di infinitesimi:
essa consente di calcolare il tasso di variazione di una funzione in un 
dato punto. Per tasso di variazione non si intende semplicemente la differenza
fra due valori prossimi della funzione $df(x)$, ma la misura di tale 
differenza, ottenuta usando come unità di misura $dx$, cioè confrontandola
con la variazione della variabile.\\
Dal punto di vista geometrico, se si considera il grafico della funzione nel 
piano cartesiano iperreale, la derivata in un punto misura il tasso di crescita
della funzione lungo l'asse $Y$ rispetto alla variazione infinitesima lungo 
l'asse $X$, quindi misura la pendenza della tangente al grafico in quel punto.
Queste osservazioni sono la conseguenza del fatto che la derivata di una funzione 
in un punto è un numero standard.

\begin{osservazione}
 L'operazione di derivazione è conosciuta dai tempi di Leibniz e di Newton, 
 più o meno nei termini che qui sono stati esposti. Il problema attorno al 
 quale i matematici di quell'epoca concentravano i loro sforzi era
 relativo alle variazioni: le variabili erano chiamate 
 \emph{quantità fluenti}  e le variazioni di queste erano dette 
 \emph{flussioni}.
 Calcolare una velocità, per esempio, era calcolare il rapporto
 fra la flussione dello spazio rispetto alla flussione del tempo.
\end{osservazione}

\subsubsection{Nomi per la derivata}
Il nome \emph{derivata} per indicare il calcolo che abbiamo descritto ha 
origini storiche. Si è diffuso  ovunque (derivative, derivada, dérivée, ...) 
anche se non rende pienamente il significato di ciò che rappresenta. Se ne 
potrà intuire la ragione in un capitolo successivo, quando parleremo anche di
funzioni primitive.\\
Sempre per ragioni storiche, si sono diffusi vari simboli che rappresentano 
l'operazione di derivazione:
\begin{enumerate}[noitemsep]
 \item $f'(x_0)$ è il simbolo per il risultato della derivazione di $f$ 
 per $x= x_0$: semplice e sintetico;
 \item $\mathit{D}\quadra{f(x)}$ indica la formula della derivazione di $f$, 
 per es. $\mathit{D}\quadra{5x\sqrt[3]{x^2}}=5\sqrt[3]{x^2}+\dfrac{10x}
 {3\sqrt[3]{x}}$;
 \item $\dot{f}$ equivale a $f'$; si usa in alcuni corsi universitari;
 \item $\dfrac{d}{dx}f(x)$ è come $f'(x)$: si pone in evidenza che si tratta 
 di una rapporto con $dx$;
 \item $\dfrac{df(x)}{dx}$ si trova spesso nei libri come se fosse esattamente 
 uguale a $f'(x)$. Sottolineamo che sono due cose diverse.  
 Nella maggior parte dei casi quest'uguaglianza si può accettare, trattandosi 
 di quantità infinitamente vicine, anzi indistinguibili. Per praticità, potremo
 anche noi seguire quest'uso, specificando la distinzione solo quando sarà 
 necessario.
\end{enumerate}

\subsubsection{Derivate facili e meno facili}
Nella definizione di derivata troviamo un inciso essenziale: \emph{se esiste}.
Significa che la derivata potrebbe anche non esistere, cioè non essere 
calcolabile? Vediamo alcuni esempi di calcoli che si portano a termine facilmente 
ed altri più problematici.


\begin{esempio}
  Calcola $f'(4)$ per la funzione $f(x)=1-2\sqrt{x}$.
\begin{figure}[h]
\begin{inaccessibleblock}
  [Derivate radice]
 \begin{center}
 \begin{minipage}[]{.40 \textwidth}
  \derivaradice
  \caption{$f'(4)=-\frac{1}{2}$}
 \end{minipage} 
 \hfill
 \begin{minipage}[]{.58 \textwidth}
  Si richiede la derivata di $f(x)=1-2\sqrt{x}$ nel punto 
  $\punto{4}{f(4)}$, che corrisponde, nel grafico, alla pendenza della 
  retta tangente alla curva, per $x=4$. Cioè dobbiamo calcolare:
  \begin{enumerate} [noitemsep]
   \item il differenziale della funzione;
   \item il rapporto fra questo e $dx$ per $x=4$;
   \item la parte standard del risultato precedente.
  \end{enumerate}
\end{minipage}
\end{center}
\end{inaccessibleblock}
\label{}
\end{figure}

Lo svolgimento dei calcoli:
\begin{enumerate} [noitemsep]
 \item calcolare il differenziale della funzione: dalle regole apprese 
  sui differenziali (\ref{subsubsec:diff01_diffradq}) sappiamo che
  \begin{enumerate} [noitemsep]
   \item il differenziale di una differenza è la differenza dei 
   differenziali:\\
    $d(1-\sqrt{x})=d(1)-d(2\sqrt{x})$;
   \item il differenziale di una costante è nullo: $d(1)=0$;
   \item il differenziale del prodotto fra una costante e una funzione è
   $d(k(f(x))=kdf(x)$, quindi: $d(2\sqrt{x})=
   2\dfrac{dx}{(\sqrt{x+dx}+\sqrt{x})}\sim \dfrac{dx}{2\sqrt{x}}$. 
  \end{enumerate} 
  Per cui: $d(1-2\sqrt{x})\sim\tonda{0-\frac{dx}{\sqrt{x}}}=
  -\frac{dx}{\sqrt{x}}$.
 \item calcolare il rapporto fra questo e $dx$ nel punto richiesto:\\
  $\tonda{\frac{d(f(x)}{dx}}\bigg|_{x=4}\sim
  \tonda{\frac{-\frac{dx}{\sqrt{x}}}{dx}}\bigg|_{x=4}=-\frac{1}{\sqrt{4}}=
  -\frac{1}{2}$;
 \item calcolare la parte standard del risultato: 
  la parte standard di un numero indistinguibile da $-\frac{1}{2}$ è
  semplicemente: $\pst{-\frac{1}{2}}=-\frac{1}{2}$.
\end{enumerate}
La retta tangente in $\punto{4}{f(4)}$ ha pendenza pari a $-\frac{1}{2}$.
\end{esempio}

Con le regole già date sui differenziali il calcolo è privo di difficoltà, non 
sembra che la derivata per questa funzione possa creare problemi.

\begin{esempio}
  \label{esempio:diff01_deriradice}
Calcola $f'(0)$ per la funzione $f(x)=1-2\sqrt{x}$.\\
Riutilizziamo i calcoli precedenti.
\begin{enumerate} [noitemsep]
 \item $d(1-2\sqrt{x})=-\frac{dx}{\sqrt{x}}$;
 \item $\tonda{\frac{d(f(x)}{dx}}\bigg|_{x=0}\sim
  \tonda{\frac{-\frac{dx}{\sqrt{x}}}{dx}}\bigg|_{x=0}=-\frac{1}{\sqrt{0}}=
  \dots$?
 \item ?
\end{enumerate}
Una frazione nulla al denominatore non ha senso, il rapporto differenziale non 
è calcolabile e la derivata non esiste. 
\end{esempio}

Cerchiamo allora di capire cosa succede se il radicando è un infinitesimo non 
nullo $\epsilon>0$, quindi infinitamente vicino a 0.

\begin{esempio}
Calcolare $f'(\epsilon)$, sempre per  $f(x)=1-2\sqrt{x}$.

\begin{figure}[h]
\begin{inaccessibleblock}
  [Derivate radice]
 \begin{center}
 \begin{minipage}[]{.40 \textwidth}
  \derivaradiceinzero
  \caption{MANCA TELESCOPIO CHE PUNTA IN BASSO A 0}
 \end{minipage} 
 \hfill
 \begin{minipage}[]{.58 \textwidth}
\begin{enumerate} [noitemsep]
 \item $d(1-2\sqrt{x})=-\frac{dx}{\sqrt{x}}$;
 \item $\tonda{\frac{d(f(x)}{dx}}\bigg|_{x=\epsilon}=
  \tonda{\frac{-\frac{dx}{\sqrt{x}}}{dx}}\bigg|_{x=\epsilon}\sim
  -\frac{1}{\sqrt{\epsilon}}=-M$ (con $\epsilon, M >0$);
  \item $\pst{\frac{d(f(x)}{dx}\bigg|_{x=\epsilon}}=\pst{-M}=$ ?
\end{enumerate}
\end{minipage}
\end{center}
\end{inaccessibleblock}
\label{}
\end{figure}
La parte standard di un numero infinito non esiste. La pendenza della tangente
per $x=0$ non può essere calcolata.\\
Esiste però la pendenza della retta secante 
fra i due punti infinitamente vicini $\punto{0}{f(0)}$ e 
$\punto{\epsilon}{f(\epsilon)}$. Si tratta  di una pendenza infinita 
negativamente, cioè la retta nell'avvicinarsi alla direzione verticale
accentua sempre più la sua inclinazione verso il basso.

\begin{osservazione}
 $-M$ è un infinito negativo perché $\epsilon$ si suppone positivo. Non avrebbe 
 senso, comunque, fare un tentativo con $\epsilon$ negativo, perché la radice
 quadrata di numeri negativi (reali e iperreali) non è definita.
\end{osservazione}
\end{esempio}

\begin{esempio}
 %discontinua
 Per la funzione $f(x)=\dfrac{1}{x-2}$ calcola le derivate $f'(1)$ e $f'(2)$.\\
\begin{figure}[h]
\begin{inaccessibleblock}
  [Derivate radice]
 \begin{center}
 \begin{minipage}[]{.40 \textwidth}
  \derivaomografica
  \caption{}
 \end{minipage} 
 \hfill
 \begin{minipage}[]{.58 \textwidth}
   Per le regole che presto approfondiremo, $d\quadra{(x-2)^{-1}}~=~d(x^{-1})$
   perciò possiamo fare riferimento al teorema in \ref{subsubsec:diff01_diffrecip}.
\begin{enumerate} [noitemsep]
 \item $d(f(x))=d\tonda {\frac{1}{x-2}}=-\dfrac{dx}{(x-2)^2+(x-2)dx}$;
 \item $\tonda{\dfrac{d(f(x)}{dx}}\bigg|_{x=1}=
  \tonda{\dfrac{-\frac{dx}{(x-2)^2+(x-2)dx}}{dx}}\bigg|_{x=1}=\\ 
  =-\dfrac{1}{1-dx}$;
  \item $\pst{-\dfrac{1}{1-dx}}=-1$.
\end{enumerate}
\end{minipage}
\end{center}
\end{inaccessibleblock}
\label{}
\end{figure} 
Per $x=1$, la tangente ha pendenza $m=-1$.\\
Vediamo ora la seconda risposta.
\begin{enumerate} [noitemsep]
 \item $d(f(x))=d\tonda {\frac{1}{x-2}}=-\dfrac{dx}{(x-2)^2+(x-2)dx}$;
 \item $\tonda{\dfrac{d(f(x)}{dx}}\bigg|_{x=2}=
  \tonda{\dfrac{-\frac{dx}{(x-2)^2+(x-2)dx}}{dx}}\bigg|_{x=2} 
  =-\dfrac{1}{0-0dx}=$?;
  \item è inutile calcolare la parte standard di un numero privo di senso.
\end{enumerate}
Cosa è successo nel secondo caso? Che la funzione è discontinua per $x=2$.
Lo rende evidente il grafico, ma sarebbe stato meglio, prima ancora di
disegnarlo, studiare l'insieme di definizione e evitare calcoli inutili.
Infatti dobbiamo ricordarci che il differenziale è calcolabile solo nei punti
di continuità, di conseguenza il discorso vale anche per la derivata.
\end{esempio}

\begin{esempio}
 %valore assoluto
 Per la funzione $f(x)=\dfrac{1}{2}|x-2|+2$ calcola le derivate $f'(0)$, $f'(4)$
 e $f'(2)$.\\
 La funzione contiene un valore assoluto e può essere più semplice pensarla 
 come se fosse divisa in due rami:

\begin{figure}[h!]
\begin{inaccessibleblock}
  [Derivate radice]
 \begin{center}
 \begin{minipage}[]{.40 \textwidth}
  \derivavalass
  \caption{}
 \end{minipage} 
 \hfill
 \begin{minipage}[]{.58 \textwidth}
$f(x)= \dfrac{1}{2}|x-2|+2=\\
=\begin{cases}
  \dfrac{x-2}{2}+2 &\text{ per } x-2< 0  \\
 \dfrac{-(x-2)}{2}+2 &\text{ per } x-2 \ge 0
\end{cases} 
\srarrow\\
\srarrow f(x)= \begin{cases}
 \dfrac{x}{2}+1 &\text{ per } x<2 \\
 -\dfrac{x}{2}+3 &\text{ per } x\ge 2
\end{cases}$
\end{minipage}
\end{center}
\end{inaccessibleblock}
\label{}
\end{figure} 

Si tratta di due semirette che si uniscono in $\punto{2}{2}$. L'equazione
di ciascuna di loro è una funzione lineare e calcolare le derivate $f'(0)$
e $f'(4)$ è inutile: ne ricaveremmo comunque la pendenze delle semirette, cioè
$f'(0)=\dfrac{1}{2}$ e $f'(4)=-\dfrac{1}{2}$.\\
Il calcolo di $f'(2)$ invece è più interessante:\\
Abbiamo
$f'(x)= \begin{cases}
 \dfrac{1}{2} &\text{ per } x<2 \\
 -\dfrac{1}{2} &\text{ per } x > 2
\end{cases}$.
Quale è la pendenza giusta della tangente per
$x=2$, nel punto cioè dove il grafico cambia pendenza all'improvviso?\\
Tutto dipende dal differenziale e dal rapporto differenziale.
La funzione è continua, perciò $df(x)$ è sempre calcolabile.\\
Immagina $\dfrac{f(2+dx)-f(2)}{dx}$.
Se $dx$ è un qualsiasi infinitesimo positivo, siamo nel ramo destro del grafico
e il rapporto risulta negativo. Al contrario, se $dx<0$ siamo nel ramo
sinistro e il rapporto è positivo: la parte standard del rapporto differenziale
relativa al punto in cui $x=2$ non è unica, quindi non esiste.
Di conseguenza la derivata non esiste.
\end{esempio}

Da tutti questi esempi impariamo che per poter calcolare la derivata:
\begin{enumerate}[noitemsep]
 \item $f(x)$ deve essere continua nel punto desiderato ed è una condizione
 necessaria per poter derivare (ma non sufficiente);
 \item il rapporto differenziale deve essere un numero finito;
 \item il risultato deve essere indipendente dalla scelta di $dx$, cioè
 deve valere $\forall dx$;
\end{enumerate}
\begin{osservazione}
 Inoltre abbiamo visto un altro fatto importante: la derivata ha un risultato
 in genere diverso a seconda del valore $x_0$ per il quale viene calcolata, 
 cioè varia al variare di $x_0$. Poiché se si fissa $x_0$ il risultato, se
 esiste, è unico allora la derivata di una funzione è a sua volta una funzione.
 \end{osservazione}

 \begin{definizione}
  Una funzione per la quale la derivata è calcolabile $\forall x_0$ del suo
 dominio si dice funzione derivabile.
\end{definizione}

\begin{osservazione}
 Una funzione derivabile è sicuramente continua, mentre il contrario non vale.
\end{osservazione}



\section{Derivare funzioni algebriche}
\label{sec:diff01_derialg}
Sistemate le questioni preliminari, passiamo al calcolo: impariamo a derivare.
Nei casi semplici ci avvarremo di quanto visto a proposito dei differenziali,
ma, per le funzioni non trattate allora, dovremo calcolare anche questi.
Al termine, raccoglieremo i risultati utili in un prospetto riassuntivo.\\
Immaginiamo che le funzioni da derivare siano derivabili $\forall x$ 
dell'insieme di definizione, per cui la derivata di $f$ nel il generico 
punto $\punto{x}{f(x)}$ sarà $f'(x)$.\\
Grazie al capitolo \ref{subsubsec:diff02_diffsint}, sappiamo già come
differenziare alcune funzioni algebriche: da quelle regole e dalla 
definizione di derivata ...deriva direttamente quanto segue.
\begin{teorema}
  La derivata di una funzione costante è $0$: $\mathit{D}\quadra{k}=0$.
\end{teorema}
\noindent Ipotesi: $f(x)=k$.\tab Tesi: $f'(x)=0$.
\begin{proof}
 Infatti $df(x)=0$
\end{proof}

\begin{teorema}
  La derivata della funzione identica è 1: $\mathit{D}\quadra{x}=1$.
\end{teorema}
\noindent Ipotesi: $f(x)=x$.\tab Tesi: $f'(x)=1$.
\begin{proof}
 Infatti $df(x)=\epsilon=dx$, quindi il rapporto differenziale è $1$ e così
 anche la sua parte standard.
\end{proof}
\begin{osservazione}
 $m=1$ è quindi anche la pendenza della bisettrice $y=x$, cosa ormai risaputa.
\end{osservazione}

\begin{teorema}
  La derivata della funzione quadratica è: $\mathit{D}\quadra{x^2}=2x$.
\end{teorema}
\noindent Ipotesi: $f(x)=x^2$ .\tab Tesi: $f'(x)=2x$.
\begin{proof}
  Infatti $df(x)=2xdx+(dx)^2$ e il rapporto differenziale è $2x+dx$ da cui,
  applicando la definizione di derivata, ...
\end{proof}
\begin{osservazione}
Nota che la funzione derivata di una funzione quadratica è una funzione 
lineare.\\
Con estrema sintesi: la derivata di una parabola è una retta.\\
Con più precisione: la pendenza delle tangenti a una parabola
varia come varia la $y$ rispetto alla $x$ in una retta.

GRAFICO a 2 disegni: parabola  con tangenti e derivata $y=x^2$ con commento 
sull'andamento delle pendenze
\end{osservazione}

\begin{teorema}
  \label{diff01_teoderpotenza}
  La derivata della generica funzione potenza è: $\mathit{D}\quadra{x^n}=
  nx^{n-1}$.
\end{teorema}
\noindent Ipotesi: $f(x)=x^n$ .\tab Tesi: $f'(x)=nx^{n-1}$.
\begin{proof}
  Infatti il differenziale è $df(x)=nx^{n-1}dx+ \delta(x)$ e,
  applicando la definizione di derivata, ...
\end{proof}

GRAFICO a 2 disegni: cubica  con tangenti e derivata $y=x^3$ con commento 
sull'andamento delle pendenze

\begin{osservazione}
 Ripetendo l'osservazione in \ref{subsubsec:diff01_diffpot} relativa a questo
 caso, la regola è del tutto generale: si applica con qualsiasi esponente reale.
Vale quindi anche per le funzioni radicali di qualsiasi indice e per le funzioni
razionali fratte, come esemplifichiamo nei prossimi due casi, molto comuni.
\end{osservazione}

\begin{corollario}
  La derivata della funzione radice quadrata è: $\mathit{D}\quadra{\sqrt{x}}=
    \dfrac{1}{2\sqrt{x}}$, con la restrizione $x\ne 0$.
\end{corollario}
\noindent Ipotesi: $f(x)=\sqrt{x}$, con $x\ne 0$ .\tab Tesi: 
    $f'(x)=\dfrac{1}{2\sqrt{x}}$.
\begin{proof}
  Infatti il differenziale è $df(x)=\dfrac{dx}{\sqrt{x+dx}+\sqrt{x}}$ e,
  applicando la definizione di derivata, si ha:\\
  $\pst{\dfrac{dx}{dx\tonda{\sqrt{x+dx}+\sqrt{x}}}}=
  \pst{\dfrac{1}{\sqrt{x+dx}+\sqrt{x}}}=
      \dfrac{1}{\pst{\sqrt{x+dx}+\sqrt{x}}}=
      \dfrac{1}{\pst{\sqrt{x+dx}}+\pst{\sqrt{x}}}=\\
      =\dfrac{1}{\sqrt{x}+\sqrt{x}}=\dfrac{1}{2\sqrt{x}}$.
\end{proof}
GRAFICO a 2 disegni: radice  con tangenti e derivata $y=\sqrt{x}$ con commento 
sull'andamento delle pendenze

\begin{corollario}
  La derivata della funzione reciproca è: $\mathit{D}\quadra{\dfrac{1}{x}}=
    -\dfrac{1}{x^2}$.
\end{corollario}
\noindent Ipotesi: $f(x)=\dfrac{1}{x}$.\tab Tesi: $f'(x)=-\dfrac{1}{x^2}$.
\begin{proof}
  Infatti il differenziale è $df(x)=\dfrac{-dx}{x(x+dx)}$ e,
  applicando la definizione di derivata, si ha:\\
  $\pst{\dfrac{-dx}{dx(x(x+dx))}}=
\dfrac{-1}{\pst{x(x+dx)}}=\dfrac{-1}{\pst{x}\pst{x+dx}}=
      -\dfrac{1}{x\cdot x}=-\dfrac{1}{x^2}$.
\end{proof}
GRAFICO a 2 disegni:

\begin{osservazione}
 Ovviamente, applicando alla lettera il teorema sulla derivata delle funzioni
 potenza si ottengono gli stessi risultati esposti in questi due ultimi 
 corollari.
\end{osservazione}

\section{Regole di derivazione}
\label{sec:diff01_regolederivate}
Possiamo applicare i teoremi precedenti a casi meno elementari, cioè
a funzioni algebriche che contengono somme, prodotti e quozienti di
funzioni elementari. 
\begin{esempio}
  Derivare la funzione $f(x)= 3x-\dfrac{3}{x}$ in $x_0=3$\\
  Si tratta di una funzione nuova, ma è facile riconoscere che è formata 
  dalla somma (algebrica) di due funzioni e ciascuna di queste è data dal 
  prodotto fra la costante $3$ e una funzione appena trattata. Perciò:\\
  $\mathit{D}\quadra{3x}=3\cdot\mathit{D}\quadra{x}=3\cdot 1=3$; \tab
  $\mathit{D}\quadra{\dfrac{3}{x}}=3\cdot\mathit{D}\quadra{\dfrac{1}{x}}
  =3\cdot \dfrac{-1}{x^2}=\dfrac{-3}{x^2}$;\\
  $f'(x)=\mathit{D}\quadra{3x-\dfrac{3}{x}}=\mathit{D}\quadra{3x}-
  \mathit{D}\quadra{\dfrac{3}{x}}= 3-\dfrac{-3}{x^2}= 3+\dfrac{3}{x^2}$;\\
  $f'(3)=3+\dfrac{3}{9}= 10$.\\
\end{esempio}
Senza troppi problemi, abbiamo dato per scontato che 
\begin{enumerate}[noitemsep]
 \item La derivata del prodotto tra una costante e  una funzione è il prodotto
 fra la costante e la derivata della funzione:\\ 
 $\mathit{D}\quadra{kf(x)}=k\mathit{D}\quadra{f(x)}$.
 \item La derivata della somma algebrica fra due funzioni è la somma algebrica
 delle due derivate:\\
$\mathit{D}\quadra{f(x)+g(x)}=\mathit{D}\quadra{f(x)}+\mathit{D}\quadra{g(x)}$.
\end{enumerate}
Da dove derivano queste certezze? Basta tornare alle regole di composizione
dei differenziali (\ref{subsec:diff01_combdiff}) per averne la conferma.

\begin{esempio}
Deriva la funzione che nel piano cartesiano è rappresentata dalla retta $y=x+9$.\\
$\mathit{D}\quadra{x+9}=1$.
\end{esempio}

Sempre in riferimento a quanto appreso sui differenziali 
(\ref{subsec:diff01_combdiff}) e vista la definizione di derivata e
le proprietà della parte standard, giustifichiamo facilmente anche le regole
3 e 4:
\begin{enumerate}[noitemsep]
\setcounter{enumi}{2}
\item La derivata del prodotto fra due funzioni è la somma fra due prodotti:
la derivata della prima funzione per la seconda (non derivata) più la prima 
funzione (non derivata) per la derivata della seconda:\\
$\mathit{D}\quadra{f(x)\cdot g(x)}=f'(x)\cdot g(x)+f(x)\cdot g'(x)$.
\item La derivata del quoziente fra due funzioni è la frazione che ha per 
denominatore il quadrato del divisore e per numeratore la differenza fra due
prodotti: la derivata della prima funzione per la seconda (non derivata) meno
la prima funzione (non derivata) per la derivata della seconda:\\
$\mathit{D}\quadra{\dfrac{f(x)}{g(x)}}=\dfrac{f'(x)\cdot g(x)-f(x)\cdot g'(x)}
  {\quadra{g(x)}^2}$.
\end{enumerate} 

\begin{esempio}
  Calcola la derivata del prodotto $f(x)=x\sqrt{x}$.\\
  $f'(x)=1\cdot \sqrt{x}+x\cdot\frac{1}{2\sqrt{x}}=
  \sqrt{x}+\frac{x}{2\sqrt{x}}$.\\
  Fin qui l'applicazione della regola. Ma il risultato si può scrivere 
  in forma più compatta, perché $\sqrt{x}+\frac{x}{2\sqrt{x}}=
  \sqrt{x}+\frac{\sqrt{x}}{2}=\frac{3}{2}\sqrt{x}$.\\
  In realtà per fare questo calcolo non avremmo bisogno della regola del 
  prodotto, poiché $f(x)=x\sqrt{x}=x^{1+\frac{1}{2}}=x^{\frac{3}{2}}$. Puoi 
  quindi applicare il teorema \ref{diff01_teoderpotenza} e controllare il 
  risultato.
\end{esempio}

\begin{esempio}
  Derivare $f(x)=\dfrac{x}{\sqrt{x}}$.\\
  Seguendo la regola n.4: $f'(x)= \dfrac{1\cdot\sqrt{x}-x\dfrac{1}{2\sqrt{x}}}
  {\tonda{\sqrt{x}}^2}=\dfrac{\sqrt{x}-\dfrac{\sqrt{x}}{2}}{x}=
  \dfrac{\dfrac{\sqrt{x}}{2}}{x}=\dfrac{1}{2\sqrt{x}}$.\\
  Ma guarda che combinazione: abbiamo ottenuto la derivata della radice! Allora 
  la funzione di partenza è equivalente a una radice? (Ad essere precisi, non 
  esattamente. Infatti \dots)
\end{esempio}
\begin{esempio}
  Sappiamo già che $\mathit{D}\tonda{\dfrac{1}{x}}=\dfrac{-1}{x^2}$. Mettiamo 
  alla prova ancora una volta la regola n.4: $f'(x)=\dfrac{0\cdot x-1\cdot 1}
  {x^2}= \dots$
\end{esempio}

\begin{esempio}
 Ora finalmente un calcolo che si può svolgere solo con la regola n.4.
 Derivare $f(x)= \dfrac{x+2}{x^3-x+4}$.\\
 $f'(x)=\dfrac{1\cdot(x^3-x+4)-(x+2)(3x^2-1)}{(x^3-x+4)^2}$. Fin qui 
 l'applicazione della regola. \\
 Con ulteriori calcoli:
 $\dots =\dfrac{x^3-x+4-(3x^3-x+6x^2-2)}{(x^3-x+4)^2}=
 \dfrac{-2x^3-6x^2+6}{(x^3-x+4)^2}$.\\
\end{esempio}


\section{Derivare funzioni composte e funzioni inverse}
\label{}
\subsection{Funzioni composte}
\label{subsec:diff01_dericomp}

\begin{esempio}
 $s(t)~=~s_0~+~v_0t~+~\frac{1}{2}at^2$ è la legge oraria del moto rettilineo
 uniformemente accelerato. Anche se nella formula mancano le usuali 
 sigle $f(x)$, $y$, $x$, si tratta di una comunissima funzione polinomiale
 di 2° grado e le si possono applicare le regole che stiamo studiando, senza
 problemi.\\
 Infatti, derivando si ottiene $s'(t)=0+v_0+\frac{1}{2}\cdot 2at=v_0+at$ che,
 essendo la derivata dello spazio rispetto al tempo, esprime la velocita $v(t)$
 in questo tipo di moto.
\end{esempio}
L'esempio serve a ricordare che le funzioni e le variabili si esprimono con 
sigle qualsiasi, ma questo non cambia le regole dell'analisi o, più in
generale, della matematica. La libertà di uso dei simboli può facilitare i
calcoli, come si vede nel caso della derivata di una funzione composta.
\begin{esempio}
 Deriva la funzione $v(u)=u^2$. Soluzione: $v'(u)= 2u$. Infatti il 
 differenziale è $dv(u)=2udu+(du)^2$ esattamente come $df(x)=2xdx+(dx)^2$ per
 la funzione quadratica. Allora  la parte 
 standard del rapporto differenziale fornisce il risultato $2u$.
\end{esempio}

\begin{esempio}
Deriva la funzione $u(t)=3t-2$. Soluzione: $u'(t)=3$. Infatti il 
 differenziale è $du(t)=3dt+ 0$. Allora la parte 
 standard del rapporto differenziale fornisce il risultato $3$.
\end{esempio}

Combiniamo i due esempi: $v=f(u)$ e $u=f(t)$, cioè $v$ è funzione di $u$, 
perché i suoi valori dipendono dai quadrati dei numeri $u$, invece $u$ è 
funzione di $t$, nel senso che i suoi valori sono i valori $t$ 
triplicati e poi ridotti di 2. In matematichese $v(u(t))=[u(t)]^2=(3t-2)^2$.
Si tratta di una specie di catena:

DISEGNO BOX

Se si immette il valore $t=2$, la macchina sviluppa $u(2)=3\cdot 2-2=4$ in $u$
e infine produce $v(4)=4^2=16$. Una catena del genere si chiama \emph{funzione
di funzione} e $v$, che produce il risultato finale, si dice
\emph{funzione composta}: $v(u(t))$.\\

DISEGNO PIANO CARTESIANO CON 3 ASSI

Come deriviamo  $v$ rispetto a $t$?
Dalla definizione di derivata: $\mathit{D}\quadra{v(u(t))}=
\pst{\dfrac{d(v(u(t)))}{dt}}$, quindi il punto è il calcolo dei differenziali.\\
Dal primo esempio sappiamo che $dv=2udu+$infinitesimi di ordine superiore.
Poiché $u=3t-2$, $du=3dt$, quindi avremo:\\
$dv\approx 2udu$. \hspace{2cm} $u=3t-2$, $du=3dt$. $\srarrow dv=2(3t-2)3dt \srarrow\\ 
\srarrow \pst{\dfrac{d(v(u(t)))}{dt}}=\dfrac{2(3t-2)3dt}{dt}=18t-12$.\\
C'è un modo più semplice? Sì: basta sviluppare 
il quadrato $(3t-2)^2$ e poi derivare il polinomio. Ma a volte il modo più semplice 
non c'è.
\begin{esempio}
  Calcolare $f'(x)$, con $f(x)=\sqrt{3-x^2}$.\\
  $f(x)$ è composta: si può pensare
  formata così: $g(x)=3-x^2$ e $f(g(x))=\sqrt{g(x)}=\sqrt{3-x^2}$.\\
  In questo modo si vedono meglio i differenziali.
  $df(x)=d\tonda{\sqrt{g(x)}}\approx\frac{1}{2\sqrt{g(x)}}\cdot dg(x)$ e 
  $dg(x)=d(3-x^2)\approx-2xdx$. Per brevità, raccogliamo sotto un'unica
  sigla $\epsilon$ tutti gli infinitesimi 
  di ordine superiore, che poi la parte standard si incaricherà di far 
  scomparire nel momento di calcolare la derivata.\\
  Il differenziale: $df(x)=df(g(x))=\frac{1}{2\sqrt{g(x)}}\cdot dg(x)+\delta=
  \frac{1}{2\sqrt{3-x^2}}\cdot (-2x)dx+ \epsilon$.\\
  Da qui la derivata: 
  $f'(x)=\pst{\dfrac{\frac{-2xdx}{2\sqrt{3-x^2}} +\epsilon}{dx}}=
  \dfrac{-x}{\sqrt{3-x^2}}$.
\end{esempio}
Esaminiamo in modo astratto come abbiamo costruito il rapporto 
differenziale della funzione composta nell'esempio precedente: 
$\dfrac{df}{dx}=\dfrac{df}{dg}\dfrac{dg}{dx}$. 
Sembra un'uguaglianza banale, perché semplificando si ottiene
l'identità. In realtà i due differenziali $dg$ hanno un significato
diverso. Quello al denominatore differenzia la variabile indipendente per 
$f$, quello al numeratore differenzia la variabile che dipende da $x$.\\
L'espressione giustifica il teorema seguente.

\begin{teorema}
 Se esistono le derivate $g'(x)$ e $f'(g(x))$ per il medesimo valore $x$,
 la funzione composta $f(g(x))$ è derivabile e la sua derivata si calcola
 così: $f'(x)=f'(g(x))=f'(g)g'(x)$, cioè la derivata di una funzione composta
 è il prodotto delle derivate delle funzioni componenti, ciascuna rispetto
 alla propria variabile.
\end{teorema}
\noindent Ipotesi: $f(x)=f(g(x))$, $f$,$g$ derivabili .\tab 
Tesi: $f'(x)=f'(g(x))=f'(g(x))g'(x)$.
\begin{proof}
  Tralasciando di specificare la scomparsa degli infinitesimi di ordine 
  superiore e grazie alle proprietà della funzione $\pst{}$, abbiamo:\\
  $f'(g(x))=\pst{\dfrac{df(x)}{dx}}=
  \pst{\dfrac{df(g)}{dg}\dfrac{dg(x)}{dx}}=
  \pst{\dfrac{df(g))}{dg}}\pst{\dfrac{dg(x)}{dx}}=
  f'(g(x))g'(x)$.
\end{proof}
\begin{esempio}
  Derivare $f(x)=\tonda{-\dfrac{3}{2}x^3+2x^2-6}^5$.\\
  Poniamo $g(x)=-\dfrac{2}{3}x^3+2x^2-6$ e $f(g)=g^5$. \\
  Allora: 
  $f'(g)= 5g^4$ e $g'(x)=-2x^2+4x$, \\
  quindi: 
  $f'(x)=f'(g)\cdot g'(x)=5g^4(-2x^2+4x)=
  5\tonda{-\dfrac{2}{3}x^3+2x^2-6}^4(-2x^2+4x)=\\
  =10x\tonda{-\dfrac{2}{3}x^3+2x^2-6}^4(-x+2)$ .
\end{esempio}
\begin{osservazione}
 La regola della funzione composta si estende ai casi in cui le funzioni 
 in gioco sono tre, o più:
 $\mathit{D}\quadra{f(g(h(x)))}=f'(g)\cdot g'(h)\cdot h'(x)$.
\end{osservazione}
\begin{osservazione}
 Lo studente smart si era già accorto che la derivata di un prodotto non 
 è il prodotto delle derivate. Ora arriva la conferma:
 il prodotto delle derivate non è la derivata di un prodotto.
\end{osservazione}


\subsection{Funzioni inverse}
\label{subsec:diff01_derifuninverse}
La sezione \ref{subsec:diff01_dericomp} ci conforta anche per derivare una 
funzione difficoltosa, se riconosciamo che è l'inversa di un'altra funzione
meno problematica. Iniziamo dal caso semplice.
\begin{esempio}
  Derivare $f(x)=\sqrt{x^2}$.\\
  Si dirà: non c'è problema, si calcola la funzione e risulta 
  $f(x)=\sqrt{x^2}=x$, perciò  $f'(x)=1$. \\
  Vero. Ma poniamo $g(x)=x^2$ e $f(x)=f(g(x))=\sqrt{g(x)}$. Con la regola 
  delle funzioni composte si ha 
  $f'(x)=f'(g)g'(x)= \dfrac{1}{2\sqrt{g}}\cdot 2x=
  \dfrac{1}{2\sqrt{x^2}}\cdot 2x=\dfrac{1}{2x}\cdot 2x=1$.\\
  Conclusione: $\mathit{D}\quadra{x^2}=\dfrac{1}{\mathit{D}\quadra{\sqrt{x}}}$
\end{esempio}
Si intuisce che: siccome $f'(g)g'(x)=1$, allora $g'(x)=\dfrac{1}{f'(g)}$.
Se fosse vero diventerebbe più facile derivare per esempio le funzioni 
logaritmiche: basterebbe saper derivare le corrispondenti esponenziali. E così
via.
\begin{osservazione}
 Ovviamenente occorre qualche cautela: la regola sarebbe applicabile
 \begin{enumerate} [noitemsep]
   \item se esiste l'inversa della funzione da derivare;
  \item se entrambe le funzioni sono derivabili;
  \item se  $f'(g)\ne 0$.
 \end{enumerate}
Nell'esempio precedente tutto funziona alla perfezione, ma solo se $x\ne0$
(ricorda anche l'esempio \ref{esempio:diff01_deriradice}). 
 \end{osservazione}

Se valgono tutte le condizioni favorevoli, allora esistono la funzione
$f$ e la sua inversa $g=f^{-1}$ e nel piano cartesiano le due funzioni
$y=f(x)$ e $x=g(y)=f^{-1}(y)$ hanno lo stesso grafico. Invece $y=f(x)$ e
$y=g(x)=f^{-1}(x)$ hanno grafici simmetrici rispetto alla bisettrice $y=x$.

GRAFICO DERIVATA INVERSA

Ogni punto $\punto{x}{f^{-1}(x)}$ sulla curva della funzione inversa ha un
corrispondente $\punto{y}{f(y)}$ sulla curva $y=f(x)$, nella simmetria rispetto
alla bisettrice. Guardiamo come si corrispondono i differenziali:
$dx$ e $dy$ sono invertiti in una curva rispetto all'altra. Quindi le 
derivate corrispondenti sono reciproche l'una con l'altra.
\begin{teorema}
 Le derivate di due funzioni $f$, $g$, inverse l'una dell'altra, se esistono
 e sono diverse da zero, sono reciproche l'una rispetto all'altra.
\end{teorema}
\noindent Ipotesi: $y=f(x)$, $x=g(y)$ $f$,$g$ derivabili, con $f'\ne0$, $g'\ne 0$.
\hspace{2cm} Tesi: $f'(x)=\dfrac{1}{g'(y)}$.
\begin{proof}
  Grazie alle proprietà della funzione $\pst{}$, abbiamo:\\
  $f'(x)\cdot g'(y)=\pst{\dfrac{dy}{dx}}\cdot\pst{\dfrac{dx}{dy}}=
  \pst{\dfrac{dy}{dx}\cdot\dfrac{dx}{dy}}=\pst{1}=1$\\
  per cui: $f'g(x)=\dfrac{1}{g'(y)}$.
\end{proof}
\begin{osservazione}
 La dimostrazione fa leva su una semplificazione che sembra banale. In realtà
 i due rapporti differenziali sono diversi: nel primo la variabile indipendente
 è $x$, nel secondo è $y$.
\end{osservazione}
\begin{esempio}
  Trova la derivata di $f(x)=\dfrac{1}{\sqrt{5-x^2}}$.\\
  \begin{enumerate}[noitemsep]
   \item Usando la regola in \ref{subsec:diff01_dericomp} e precedenti:\\
   $f'(x)=\mathit{D}\quadra{\dfrac{1}{\sqrt{5-x}}}=
   \mathit{D}\quadra{(5-x)^\frac{-1}{2}}=-\dfrac{1}{2}(5-x)
   ^\frac{-3}{2}(-1) = \dfrac{1}{2(\sqrt{5-x})^3}$.
   \item Usando la regola appena appresa:\\
   $f(x)=y=\dfrac{1}{\sqrt{5-x}}\srarrow y^2=\dfrac{1}{5-x}\srarrow 
   y^{-2}=5-x\srarrow x=5-y^{-2}$  (funzione inversa)\\
   $x'=\dfrac{dx}{dy}=-2y^{-3}$ (derivata della funzione inversa)
   $\srarrow \dfrac{dy}{dx}=\dfrac{y^3}{2}=
   \dfrac{1}{2(\sqrt{5-x})^3}$.
  \end{enumerate}
In genere la funzione inversa si costruisce in pochi passaggi semplici, poi 
la derivazione risulta elementare.
\end{esempio}


\section{Derivare funzioni trascendenti}
\label{sec:diff01_dericonpinv}
seno
coseno
tangente
esponenziale
logaritmo
\begin{teorema}
  La derivata della generica funzione esponenziale è: $\mathit{D}\quadra{a^x}=
  a^x\ln{a}$.
\end{teorema}
\noindent Ipotesi: $f(x)=x^n$ .\tab Tesi: $f'(x)=nx^{n-1}$.
\begin{proof}
\end{proof}

\section{Applicazioni}
\label{sec:diff01_applicazioni}
\subsection{derivata e tangente}
\subsection{derivata e normale}