% (c) 2017 Daniele Zambelli - daniele.zambelli@gmail.com
% 
% Tutti i grafici per il capitolo relativo alle equazioni
%

\begin{comment}

\newcommand{\nomefunzione}{% 
    \disegno{
    }
}

\end{comment}

\newcommand{\alberoequazioni}{% Retta con numeri messi a caso.
  \def \xo{0}
  \def \yo{0}
  \def \dx{6}
  \def \dy{2}
  \def \xa{\xo+\dx}
  \def \ya{\yo+\dy}
  \def \xb{\xo+\dx}
  \def \yb{\yo-\dy}
  \def \xc{\xb+\dx}
  \def \yc{\yb+\dy}
  \def \xd{\xb+\dx}
  \def \yd{\yb-\dy}
  \def \xco{2}
  \def \yco{.2}
  \def \angle{25}
  \disegno{
    \draw [ultra thick, orange!50!black] 
      (\xo, \yo) node [left=+2mm, black] {\(Ax = B\)} 
      (\xo, \yo) .. controls (\xo+\xco, \yo+\yco) and (\xa-\xco, \ya-\yco) .. 
      (\xa, \ya)
      node [midway, above, rotate=\angle, black] {\(A \ne 0\)}
      node [right=+2mm, black] {\(\IS=\graffa{\dfrac{B}{A}}\)};
    \draw [ultra thick, orange!50!black] 
      (\xo, \yo) .. controls (\xo+\xco, \yo-\yco) and (\xb-\xco, \yb+\yco) .. 
      (\xb, \yb) 
      node [midway, below, rotate=-\angle, black] {\(A = 0\)};
    \draw [ultra thick, orange!50!black] 
      (\xb, \yb) .. controls (\xb+\xco, \yb+\yco) and (\xc-\xco, \yc-\yco) .. 
      (\xc, \yc) 
      node [midway, above, rotate=\angle, black] {\(B \ne 0\)}
      node [right=+2mm, black] {\(\IS=\emptyset\)};
    \draw [ultra thick, orange!50!black] 
      (\xb, \yb) .. controls (\xb+\xco, \yb-\yco) and (\xd-\xco, \yd+\yco) .. 
      (\xd, \yd) 
      node [midway, above, rotate=-\angle, black] {\(B = 0\)}
      node [right=+2mm, black] {\(\IS=\Q\)};
    \foreach \x/\y in {\xo/\yo, \xa/\ya, \xb/\yb, \xc/\yc, \xd/\yd}
      {\filldraw (\x, \y) [fill=blue] circle (2pt);}
  }
}

\newcommand{\piattello}[2]{% disegna un piattello della bilancia
  \def \xv{#1}
  \def \yv{#2}
  \def \dxtop{2.6}
  \def \dytop{5.7}
  \def \dxbase{2.2}
  \def \dybase{6.1}
  \draw (\xv-\dxtop, \yv-\dytop) -- (\xv, \yv) -- (\xv+\dxtop, \yv-\dytop);
  \draw [very thick]
    (\xv-\dxtop, \yv-\dytop) 
    .. controls (\xv-\dxtop, \yv-\dybase) and (\xv-\dxtop, \yv-\dybase) .. 
    (\xv-\dxbase, \yv-\dybase) -- (\xv+\dxbase, \yv-\dybase)
    .. controls (\xv+\dxtop, \yv-\dybase) and (\xv+\dxtop, \yv-\dybase) .. 
    (\xv+\dxtop, \yv-\dytop) ;
}

\newcommand{\bilancia}{% Disegna una bilancia con i piattelli vuoti
  \begin{scope}[fill=yellow!50!black, draw=black]
    \filldraw (0,0) rectangle (4,1);
    \filldraw[rounded corners=2] (1,1.1)rectangle (3,1.6);
    \filldraw (1.8,1.7) rectangle (2.3,8);
    \filldraw[rounded corners=2] (1.5,8.1)rectangle (2.6,8.6);
    \filldraw (-4,8.7) rectangle (8,9.1);
    \filldraw[rounded corners=2] (1.8,8.8)rectangle (2.3,9.8);
    \piattello{-4}{8.7}
    \piattello{8}{8.7}
  \end{scope}
}

\newcommand{\peso}[1]{% Disegna il kg
  \def \posx{#1}
  \filldraw[fill=white] (\posx, 2.65) rectangle (\posx+1.4, 3.61);
  \filldraw[fill=white] (\posx+.3, 3.61) rectangle (\posx+1.1, 3.84);
  \node () at (\posx+.7, 3.1) {1kg};
}

\newcommand{\bilanciaa}{% Prima bilancia.
  \disegno[3.5]{
    \bilancia
    \filldraw[fill=brown, draw=brown](-5.5, 2.65) rectangle (-2.5, 3.6);
    \filldraw[fill=brown, draw=brown](6.5,2.65) rectangle (8, 3.6);
    \peso{8.3}
    \node () at (2,-1) {Figura 1};
  }
}

\newcommand{\bilanciab}{% Seconda bilancia.
  \disegno[3.5]{
    \bilancia
    \filldraw[fill=brown, draw=brown](-4.75, 2.65) rectangle (-3.25, 3.6);
    \peso{7.3}
    \node () at (2,-1) {Figura 2};
  }
}

\newcommand{\rettangolo}{% Rettangolo.
  \disegno{
    \draw [ultra thick, orange!50!black]
          (0, 0) node [below left, black] {\(A\)} --
          (7, 0) node [below right, black] {\(B\)} -- 
          (7, 4) node [above right, black] {\(C\)} -- 
          (0, 4) node [above left, black] {\(D\)} -- cycle;
  }
}

\newcommand{\triangolo}{% Triangolo rettangolo.
  \disegno{
    \draw [ultra thick, orange!50!black]
          (0, 0) node [below left, black] {\(A\)} --
          (7, 0) node [below right, black] {\(B\)} -- 
          (0, 4) node [above left, black] {\(C\)} -- cycle;
  }
}
