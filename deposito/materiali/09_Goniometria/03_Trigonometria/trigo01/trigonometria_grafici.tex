% (c) 2016 Daniele Zambelli - daniele.zambelli@gmail.com

% \tkzMarkAngles(C,B,M B,M,C M,C,B%
% D,L,N L,N,D N,D,L)
% \tkzFillAngles[fill=red!20,opacity=.2](C,B,M%
% B,M,C M,C,B D,L,N L,N,D N,D,L)

\newcommand{\disegnatriretta}[2]{
% disegna un trinagolo rettamgolo dati i cateti
  \def \catc{#1}
  \def \catb{#2}
  
  \coordinate (A) at (0,0);
  \coordinate (B) at ($(A)+(90:\catc)$);
   \coordinate (C) at ($(A)+(0:\catb)$);
   \draw (A) node [below right] {$A$} -- 
          (B) node [above right] {$B$} node[midway, right] {$c$} -- 
          (C) node [left]        {$C$} node[midway, above] {$a$} --
          (A)                          node[midway, below] {$b$};

    \tkzFillAngles[fill=LimeGreen, draw, size=.6](A,C,B C,B,A)
    \tkzMarkRightAngle[fill=LimeGreen, draw, size=.3](C,A,B);
    \tkzLabelAngle[pos=1.2](B,A,C){$\alpha$}
    \tkzLabelAngle[pos=1.2](A,C,B){$\gamma$}
    \tkzLabelAngle[pos=1.2](C,B,A){$\beta$}
}

\newcommand{\triretta}{
% disegna un trinagolo rettamgolo dati i cateti
  \disegno{\disegnatriretta{6}{-8}}
}

\newcommand{\disegnaproiezione}[8]{
  % disegna il punto A(0, 0), il punto B, e il segmento AB
  % una retta per AC
  % la proiezione di AB su AC.
  \def \xa{#1}
  \def \ya{#2}
  \def \xb{#3}
  \def \yb{#4}
  \def \xc{#5}
  \def \yc{#6}
  \def \posAH{#7}
  \def \posB{#8}

\tkzDefPoints{\xa/\ya/A, \xb/\yb/B, \xc/\yc/C}
\tkzDefPointBy[projection=onto A--C](B)
\tkzGetPoint{H}
\tkzDrawLine(A, C)
\tkzLabelLine[pos=1.3](A,C){$r$}
\tkzDrawSegment(A, B)
\tkzDrawSegment[style=dashed,color=blue](B, H)
\tkzMarkRightAngle[fill=LimeGreen, draw, size=.4](B,H,A)
\tkzDrawPoints(A,B,H)
\tkzLabelPoints[\posAH](A,H)
\tkzLabelPoints[\posB](B)
}

\newcommand{\proiezione}{% 
% ??? Se uso \disegna, la perpendicolare non viene perpendicolare!!!
\begin{tikzpicture}[scale=.6]
\disegnaproiezione{0}{0}{5}{8}{6}{0}{below}{above right}
\end{tikzpicture}
}

\newcommand{\proiezioneb}{% 
% ??? Se uso \disegna, la perpendicolare non viene perpendicolare!!!
\begin{tikzpicture}[scale=.6]
\disegnaproiezione{0}{0}{3}{2}{3}{0}{below}{above right}
\end{tikzpicture}
}

\newcommand{\proiezionia}{% 
%  \disegno{
\begin{tikzpicture}[scale=.6]
  \disegnaproiezione{-7}{0}{-3}{3}{-2}{0}{below}{above right}
  \disegnaproiezione{2}{-1}{6}{-0}{4}{2}{above left}{above right}
  \disegnaproiezione{8}{3}{12}{1}{10}{0}{below left}{above right}
\end{tikzpicture}
%  }
}

\newcommand{\trirettaltezza}{
  \disegno[10]{
  \coordinate (A) at (0,0);
  \coordinate (B) at ($(A)+(0:4.18)$);
  \coordinate (C) at ($(A)+(39:3.5)$);
  \coordinate (H) at ($(A)+(0:2.72)$);

  \draw (B) node[below right]{$B$}--
        (A) node[below left]{$A$}--
        (C) node[above]{$C$}--(B);

  \tkzFillAngle[ fill=LimeGreen ,draw, size=.4](H,A,C)
  \tkzFillAngle[ fill=LimeGreen ,draw, size=.4](A,C,B)
  \tkzFillAngle[ fill=LimeGreen ,draw, size=.4](C,B,H)

  \draw (C)--(H) node[below]{$H$};

  \begin{scope}[font=\scriptsize]
    \tkzLabelAngle[pos=.6](H,A,C){$\alpha$}
    \tkzLabelAngle[left, pos=.6](A,C,B){$\gamma$}
    \tkzLabelAngle[pos=.6](C,B,H){$\beta$}
  \end{scope}
  
%  \begin{scope}[fill=CornflowerBlue, draw=black]
%    \filldraw (0,0) circle (1pt);
%    \filldraw (4.18,0) circle (1pt);
%    \filldraw (2.72,2.2) circle (1pt);
%    \filldraw (2.72,0) circle (1pt);
%  \end{scope}
  }
}

\newcommand{\trapezio}{
  \disegno[10]{
  \coordinate (A) at (0,0);
  \coordinate (B) at ($(A)+(0:4.26)$);
  \coordinate (C) at ($(B)+(145:3.486)$);
  \coordinate (D) at ($(A)+(90:2)$);

  \draw (D) node[above left]{$D$}--
        (A) node[below left]{$A$}--
        (B) node[below right]{$B$}--
        (C)node [above right]{$C$} --(D);

  \tkzFillAngle[ fill=LimeGreen ,draw, size=.4](C,A,D)
  \tkzFillAngle[ fill=LimeGreen ,draw, size=.4](A,C,B)
  \tkzFillAngle[ fill=LimeGreen ,draw, size=.4](C,B,A)

  \draw[dashed] (C)--(A);

%  \begin{scope}[fill=CornflowerBlue, draw=black]
%    \filldraw (0,0) circle (1pt);
%    \filldraw (4.26,0) circle (1pt);
%    \filldraw (1.4,2) circle (1pt);
%    \filldraw (0,2) circle (1pt);
%  \end{scope}
  }
}

\newcommand{\quadrilatero}{
  \disegno[10]{
\coordinate (A) at (0,0);
\coordinate (D) at ($(A)+(0:6.702)$);
\coordinate (B) at ($(A)+(56:4.25)$);
\coordinate (C) at ($(D)+(118:2.76)$);
\coordinate (F) at ($(A)+(0:2.38)$);
\coordinate (G) at ($(F)+(90:2.43)$);
\coordinate (E) at ($(A)+(0:5.4)$);

\draw (B) node[above]{$B$}--(A) node[below left]{$A$}--(D) node[below right]{$D$}--(C)node [right]{$C$} --(B);

\tkzFillAngle[ fill=LimeGreen ,draw, size=.4](D,A,B)
\tkzFillAngle[ fill=LimeGreen ,draw, size=.4](C,D,A)

\begin{scope}[dashed]
\draw(B)--(F) node[below]{$F$};
\draw(C)--(G)node[left]{$G$};
\draw(C)--(E)node[below]{$E$};
\end{scope}

%\begin{scope}[fill=CornflowerBlue, draw=black]
%\filldraw (0,0) circle (1pt);
%\filldraw (6.702,0) circle (1pt);
%\filldraw (5.4,2.43) circle (1pt);
%\filldraw (2.38,3.52) circle (1pt);
%\filldraw (2.38,0) circle (1pt);
%\filldraw (2.38,2.43) circle (1pt);
%\filldraw (5.4,0) circle (1pt);
%\end{scope}
  }
}

\newcommand{\triqualunque}{
  \disegno[10]{
\coordinate (A) at (0,0);
\coordinate (B) at ($(A)+(40:4)$);
\coordinate (C) at ($(A)+(0:2.5)$);

\draw (A) node[below left]{$A$}--(B) node[above]{$B$}--(C)node [below right]{$C$} --(A);

\tkzFillAngle[ fill=LimeGreen ,draw, size=.4](C,A,B)
\tkzFillAngle[ fill=LimeGreen ,draw, size=.4](A,B,C)
\tkzFillAngle[ fill=LimeGreen ,draw, size=.4](B,C,A)

\tkzLabelSegment[midway, below](A,C){$b$}
\tkzLabelSegment[midway, above](A,B){$c$}
\tkzLabelSegment[midway, right](B,C){$a$}

\begin{scope}[font=\scriptsize]
\tkzLabelAngle[pos=.6](C,A,B){$\alpha$}
\tkzLabelAngle[pos=.6](A,B,C){$\beta$}
\tkzLabelAngle[pos=.6](B,C,A){$\gamma$}
\end{scope}

%\begin{scope}[fill=CornflowerBlue, draw=black]
%\filldraw (0,0) circle (1pt);
%\filldraw (2.5,0) circle (1pt);
%\filldraw (3.05,2.55) circle (1pt);
%\end{scope}
  }
}

\newcommand{\triangoliese}{
  \disegno[10]{
  \coordinate (A) at (0,0);
  \coordinate (B) at ($(A)+(0:-2)$);
  \coordinate (C) at ($(A)+(90:3)$);

  \draw (C)--(A)--(B)--(C);

  \tkzFillAngle[fill=LimeGreen, draw=black, size=.3](B,C,A)
  \tkzLabelAngle[pos=.6, font=\scriptsize](B,C,A){$\alpha$}
  \tkzLabelSegment[midway, right](A,C){$c$}
  \tkzLabelSegment[midway](B,C){?}

  \begin{scope}[xshift=10mm, yshift=-20mm]
    \coordinate (A) at (0,0);
    \coordinate (B) at ($(A)+(0:-2)$);
    \coordinate (C) at ($(A)+(90:3)$);

    \draw (C)--(A)--(B)--(C);

    \tkzFillAngle[fill=LimeGreen, draw=black, size=.3](A,B,C)
    \tkzLabelAngle[pos=.6, font=\scriptsize](A,B,C){$\alpha$}
    \tkzLabelSegment[midway, right](A,C){?}
    \tkzLabelSegment[midway](B,C){$c$}
  \end{scope}

  \begin{scope}[xshift=15mm, yshift=12mm]
    \coordinate (A) at (0,0);
    \coordinate (B) at ($(A)+(0:4)$);
    \coordinate (C) at ($(A)+(60:2)$);

    \draw (C)--(A)--(B)--(C);

    \tkzFillAngle[fill=LimeGreen, draw=black,size=.4](C,B,A)
    \tkzLabelAngle[pos=.6, font=\scriptsize](C,B,A){$\alpha$}
    \tkzLabelSegment[midway](B,C){?}
    \tkzLabelSegment[midway, below](B,A){$b$}
  \end{scope}

  \begin{scope}[xshift=15mm, yshift=-15mm]
    \coordinate (A) at (0,0);
    \coordinate (B) at ($(A)+(0:4)$);
    \coordinate (C) at ($(A)+(60:2)$);

    \draw (C)--(A)--(B)--(C);

    \tkzFillAngle[fill=LimeGreen, draw=black,size=.4](B,A,C)
    \tkzLabelAngle[pos=.6, font=\scriptsize](B,A,C){$\alpha$}
    \tkzLabelSegment[midway](B,C){?}
    \tkzLabelSegment[midway](C,A){$c$}
  \end{scope}

  \begin{scope}[xshift=70mm, yshift=8mm, rotate=40]
    \coordinate (A) at (0,0);
    \coordinate (B) at ($(A)+(0:2)$);
    \coordinate (C) at ($(A)+(90:3)$);

    \draw (C)--(A)--(B)--(C);

    \tkzFillAngle[fill=LimeGreen, draw=black, size=.4](A,C,B)
    \tkzLabelAngle[pos=.6, font=\scriptsize](A,C,B){$\alpha$}
    \tkzLabelSegment[midway, left](A,C){$c$}
    \tkzLabelSegment[midway,above](B,C){?}
  \end{scope}

  \begin{scope}[xshift=60mm, yshift=-20mm]
    \coordinate (A) at (0,0);
    \coordinate (B) at ($(A)+(0:2)$);
    \coordinate (C) at ($(A)+(90:3)$);

    \draw (C)--(A)--(B)--(C);

    \tkzFillAngle[fill=LimeGreen, draw=black, size=.4](C,B,A)
    \tkzLabelAngle[pos=.6, font=\scriptsize](C,B,A){$\alpha$}
    \tkzLabelSegment[midway, left](A,C){$c$}
    \tkzLabelSegment[midway,below](B,A){?}
  \end{scope}
  }
}

\newcommand{\disegnaproiezioneese}[9]{
  % disegna il punto A(0, 0), il punto B, e il segmento AB
  % una retta per AC
  % la proiezione di AB su AC.
  \def \xa{#1}
  \def \ya{#2}
  \def \xb{#3}
  \def \yb{#4}
  \def \xc{#5}
  \def \yc{#6}
  \def \posAH{#7}
  \def \posB{#8}
  \def \nameangle{#9}

  \tkzDefPoints{\xa/\ya/A, \xb/\yb/B, \xc/\yc/C}
  \tkzDefPointBy[projection=onto A--C](B)
  \tkzDrawLine[add = 1 and .8](A, C)
  \tkzLabelLine[\posAH](A,C){$r$}
  \tkzDrawSegment(A, B)
  \tkzFillAngle[fill=LimeGreen, draw, size=.4](C,A,B)
  \tkzDrawPoints(A,B)
  \tkzLabelPoints[\posAH](A)
  \tkzLabelPoints[\posB](B)
  \tkzLabelAngle[pos=1.0](C,A,B){$\nameangle$}
}

\newcommand{\proiezioniese}{% 
%  \disegno{
\begin{tikzpicture}[scale=.6]
  \disegnaproiezioneese{-7}{0}{-3}{3}{-4}{0}{below}{above right}
                       {\alpha}
  \disegnaproiezioneese{2}{1}{6}{-1}{0}{-1}{above left}{above right}
                       {\beta}
  \disegnaproiezioneese{8}{2}{12}{0}{8}{0}{below left}{above right}
                       {\gamma}
\end{tikzpicture}
%  }
}

\newcommand{\dueproiezioni}{
  \disegno[10]{
  %\begin{tikzpicture}[x=9mm,y=9mm, font=\small]
	\tkzDefPoint(0,0){A}
	\tkzDefShiftPoint[A](45:2){B}
	\tkzDefShiftPoint[A](0:4){R}
	
	\tkzDefPoint(3.76,0){C}
	\tkzDefShiftPoint[C](120:2.52){D}
	
	\tkzDrawLine[add=0 and 0, thin](A,B)
	\tkzDrawLine[add=0 and 0, thin](C,D)
	\tkzDrawLine[thin](A,R)
	\tkzLabelLine[below](A,R){$r$}
	
	\tkzLabelPoints[below](A,C)
	\tkzLabelPoints[above](B,D)
	\tkzDrawPoints[color=CornflowerBlue](A,B,C,D)
	
	\tkzFillAngle[fill=LimeGreen, draw=black, size=.4](R,A,B)
	\tkzFillAngle[fill=LimeGreen, draw=black, size=.4](R,C,D)
	\begin{scope}[font=\scriptsize]
	\tkzLabelAngle[pos=1, below](R,A,B){$\alpha=45^{\circ}$}
	\tkzLabelAngle[pos=.9, below](R,C,D){$\beta=120^{\circ}$}
	\end{scope}
  %\end{tikzpicture}
  }
}

\newcommand{\proiezionec}{
  \disegno[10]{
	\tkzDefPoint(0,0){A}
	\tkzDefShiftPoint[A](45:2){B}
	\tkzDefShiftPoint[A](0:1.6){R}
	\tkzDefPoint(1.44,0){H}
	
	\tkzDrawLine[add=0 and 0, thin](A,B)
	\tkzDrawLine[add=0 and 0, thin,dashed](H,B)
	\tkzDrawLine[thin](A,R)
	\tkzLabelLine[below](A,R){$r$}
	\tkzLabelPoints[below](A,H)
	\tkzLabelPoints[above](B)
	\tkzDrawPoints[color=CornflowerBlue](A,B,H)
	\tkzFillAngle[fill=LimeGreen, draw=black, size=.4](R,A,B)
%	\begin{scope}[font=\scriptsize]
	\tkzLabelAngle[pos=.6](R,A,B){$\alpha$}
%	\end{scope}
  }
}

\newcommand{\ottusangolo}{
  \disegno[10]{
	\tkzDefPoint(0,0){A}
	\tkzDefShiftPoint[A](0:3){B}
	\tkzDefShiftPoint[A](120:2){C}
	\tkzDefPoint(-1,0){H}

	\tkzDrawLine[add=0 and 0, thin](A,B)
	\tkzDrawLine[add=0 and 0, thin](A,C)
	\tkzDrawLine[add=0 and 0, thin](C,B)
	\tkzDrawLine[add=0 and 0, thin,dashed](C,H)
	\tkzDrawLine[add=0 and 0, thin,dashed](A,H)
	\tkzLabelPoints[below](A,H,B)
	\tkzLabelPoints[above](C)
	\tkzDrawPoints[color=CornflowerBlue](A,B,C,H)
	\tkzFillAngle[fill=LimeGreen, draw=black, size=.4](B,A,C)
	\tkzFillAngle[fill=LimeGreen, draw=black, size=.4](A,C,B)
	\tkzFillAngle[fill=LimeGreen, draw=black, size=.5](C,B,A)
	\begin{scope}[font=\scriptsize]
	\tkzLabelAngle[pos=.6](B,A,C){$\alpha$}
	\tkzLabelAngle[pos=.6](A,C,B){$\gamma$}
	\tkzLabelAngle[pos=.8](A,B,C){$\beta$}
	\end{scope}
  }
}

\newcommand{\collina}{
  \disegno[10]{
	\tkzDefPoint(0,0){A}
	\tkzDefShiftPoint[A](30:4.67){C}
	\tkzDefShiftPoint[A](0:5.97){B}
	
	\tkzFillAngle[fill=LimeGreen, draw=black, size=.4](B,A,C)
	\tkzFillAngle[fill=LimeGreen, draw=black, size=.4](C,B,A)
	
	\tkzDrawLine[add=0 and 0, thin,dashed](A,B)
	\tkzDrawLine[add=0 and 0, thin](A,C)
	\tkzDrawLine[add=0 and 0, thin](B,C)
	
	\tkzLabelPoints[below](A,B)
	\tkzLabelAngle[](B,A,C){$30^\circ$}
	\tkzLabelAngle[](C,B,A){$50^\circ$}
	\tkzDrawPoints[color=CornflowerBlue](A,B,C)
  }
}
\newcommand{\percorsoa}{
  \disegno[10]{
	\tkzDefPoint(0,0){A}
	\tkzDefShiftPoint[A](20:2){C}
	\tkzDefShiftPoint[C](300:3.5){D}
	\tkzDefShiftPoint[C](0:2){E}
	\tkzDefShiftPoint[D](0:1){F}
	\tkzDefShiftPoint[A](0:4.4){B}
	\tkzFillAngle[fill=LimeGreen, draw=black, size=.5](B,A,C)
	\tkzFillAngle[fill=LimeGreen, draw=black, size=.4](D,C,E)
	\tkzFillAngle[fill=LimeGreen, draw=black, size=.4](F,D,B)
	
	\tkzDrawLine[add=0 and 0, thin](A,C)
	\tkzDrawLine[add=0 and 0, thin](C,D)
	\tkzDrawLine[add=0 and 0, thin](B,D)
	 
	\tkzLabelPoints[below](A)
	\tkzLabelPoints[above](B)
	\tkzLabelAngle(B,A,C){$20^\circ$}
	\tkzLabelAngle[pos=.8](D,C,E){$60^\circ$}
	\tkzLabelAngle[pos=.8](F,D,B){$71.82^\circ$}
	\tkzDrawPoints[color=CornflowerBlue](A,B,C,D)
  }
}

\newcommand{\percorsob}{
  \disegno[10]{
 \tkzDefPoint(0,0){B_i}
 \tkzDefShiftPoint[B_i](10:2){A}
 \tkzDefShiftPoint[A](350:4){C}
 \tkzDefShiftPoint[A](0:1){A'}
 \tkzDefShiftPoint[C](0:1){C'}
 \tkzDefShiftPoint[C](10:4){D}
 \tkzDefShiftPoint[D](0:1){D'}
 \tkzDefShiftPoint[D](350:2){B_f}

 \tkzFillAngle[fill=LimeGreen, draw=black, size=1](B_f,B_i,A)
 \tkzFillAngle[fill=LimeGreen, draw=black, size=1](C,A,A')
 \tkzFillAngle[fill=LimeGreen, draw=black, size=1](C',C,D)
 \tkzFillAngle[fill=LimeGreen, draw=black](B_f,D,D')

 \tkzDrawLine[add=0 and 0, thin](B_i, A)
 \tkzDrawLine[add=0 and 0, thin](C, A)
 \tkzDrawLine[add=0 and 0, thin](C,D)
 \tkzDrawLine[add=0 and 0, thin](B_f,D)
\tkzDrawLine[add=0 and 0, thin,dotted](B_f,B_i)

 \tkzLabelPoints[below](B_i, B_f)

 \tkzLabelAngle[below](B_f,B_i,A){$10^\circ$} \tkzLabelAngle[above](A',A,C){$10^\circ$}
\tkzLabelAngle[below](D,C,C'){$10^\circ$}
\tkzLabelAngle[above](D',D,B_f){$10^\circ$}
 \tkzDrawPoints[color=CornflowerBlue](B_i,A,C,D,B_f)
  }
}

\newcommand{\percorsoc}{
  \disegno[10]{
 \tkzDefPoint(0,0){B_i}
 \tkzDefShiftPoint[B_i](25:2){A}
 \tkzDefShiftPoint[A](335:4){C}
 \tkzDefShiftPoint[A](0:1){A'}
 \tkzDefShiftPoint[C](0:1){C'}
 \tkzDefShiftPoint[C](25:4){D}
 \tkzDefShiftPoint[D](0:1){D'}
\tkzDefShiftPoint[D](335:4){D''} 
\tkzDefShiftPoint[D''](25:2){B_f}

 \tkzFillAngle[fill=LimeGreen, draw=black, size=1](B_f,B_i,A)
 \tkzFillAngle[fill=LimeGreen, draw=black, size=1](C,A,A')
 \tkzFillAngle[fill=LimeGreen, draw=black, size=1](C',C,D)
 \tkzFillAngle[fill=LimeGreen, draw=black](D'',D,D')

 \tkzDrawLine[add=0 and 0, thin](B_i, A)
 \tkzDrawLine[add=0 and 0, thin](C, A)
 \tkzDrawLine[add=0 and 0, thin](C,D)
 \tkzDrawLine[add=0 and 0, thin](D,D'')

\tkzDrawLine[add=0 and 0, thin,dotted](B_f,B_i)

 \tkzLabelPoints[below](B_i, B_f)

 \tkzLabelAngle[pos=1.3](B_f,B_i,A){$25^\circ$} \tkzLabelAngle[pos=1.3](A',A,C){$25^\circ$}
\tkzLabelAngle[pos=1.3](D,C,C'){$25^\circ$}
\tkzLabelAngle[pos=1.3](D',D,B_f){$25^\circ$}
 \tkzDrawPoints[color=CornflowerBlue](B_i,A,C,D,D'',B_f)
  }
}

\newcommand{\circuito}{
  \disegno[10]{
\coordinate (A) at (0,0);
\coordinate (B) at ($(A) +(0:3)$);
 \coordinate (C) at ($(A) +(90:2)$);
\coordinate (D) at ($(C) +(16:3.12)$);

\draw (A) -- (C) -- (D) --(B)--(A);

\node (a) at (0,0) {};
\node[ground,anchor=center] (g) {};
\draw (a.south) -- (g);

\draw (D) to[short, -o] (3,3);
  }
}

\begin{comment}

\newcommand{\nome}{
  \disegno[10]{
  }
}

\end{comment}
